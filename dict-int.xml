<sect1 id="dict-int">
 <title>dict_int</title>
 
 <indexterm zone="dict-int">
  <primary>dict_int</primary>
 </indexterm>

 <para>
  Cet exemple de dictionnaire a été motivé pour ajouter le contrôle de
  l'indexage des entiers (signés et non signés) et, en conséquence, pour
  minimiser le nombre de mots uniques qui affectent grandement les
  performances de la recherche.
 </para>

 <sect2>
  <title>Configuration</title>
  <para>
   Le dictionnaire accepte deux options&nbsp;:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     Le paramètre MAXLEN spécifie la longueur maximale (nombre de chiffres)
     autorisée dans un mot de type entier. La valeur par défaut est de 6.
    </para>
   </listitem>
   <listitem>
    <para>
     Le paramètre REJECTLONG indique si un entier trop long doit être
     tronqué ou ignoré. Si REJECTLONG vaut false (la valeur par défaut),
     le dictionnaire renvoie les MAXLEN premiers chiffres de l'entier. Dans
     le cas contraire, le dictionnaire traiter un entier trop long comme
     un terme courant, donc il n'est pas indexé.
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <title>Utilisation</title>

  <para>
   Exécuter le script d'installation crée un modèle de recherche plein
   texte <literal>intdict_template</literal> et un dictionnaire
   <literal>intdict</literal> basé sur ce dernier avec les paramètres par
   défaut. Vous pouvez modifier les paramètres, par exemple&nbsp;:

<programlisting>
mabase ALTER TEXT SEARCH DICTIONARY intdict (MAXLEN = 4, REJECTLONG = true);
ALTER TEXT SEARCH DICTIONARY
</programlisting>

   ou créer des nouveaux dictionnaires basés sur le modèle.
  </para>

  <para>
   Pour tester le dictionnaire&nbsp;:

<programlisting>
mydb# select ts_lexize('intdict', '12345678');
 ts_lexize
-----------
 {123456}
</programlisting>

   mais une utilisation réelle nécessite de l'inclure dans une configuration
   de recherche plein texte comme celle décrite dans <xref
   linkend="textsearch"/>. Cela pourrait ressembler à ceci&nbsp;:

<programlisting>
ALTER TEXT SEARCH CONFIGURATION english
    ALTER MAPPING FOR int, uint WITH intdict;
</programlisting>

  </para>
 </sect2>

</sect1>
