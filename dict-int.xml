<sect1 id="dict-int">
 <title>dict_int</title>
 
 <indexterm zone="dict-int">
  <primary>dict_int</primary>
 </indexterm>

 <para>
  <filename>dict_int</filename> is an example of an add-on dictionary template
  for full-text search.  The motivation for this example dictionary is to
  control the indexing of integers (signed and unsigned), allowing such
  numbers to be indexed while preventing excessive growth in the number of
  unique words, which greatly affects the performance of searching.
 </para>

 <sect2>
  <title>Configuration</title>
  <para>
   Le dictionnaire accepte deux options&nbsp;:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     Le paramètre <literal>maxlen</literal> spécifie le nombre maximum de
     chiffres autorisée dans un mot de type entier. La valeur par défaut
     est de 6.
    </para>
   </listitem>
   <listitem>
    <para>
     The <literal>rejectlong</literal> parameter specifies whether an overlength
     integer should be truncated or ignored.  If <literal>rejectlong</literal> is
     <literal>false</literal> (the default), the dictionary returns the first
     <literal>maxlen</literal> digits of the integer. If <literal>rejectlong</literal> is
     <literal>true</literal>, the dictionary treats an overlength integer as a stop
     word, so that it will not be indexed.  Note that this also means that
     such an integer cannot be searched for.
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <title>Utilisation</title>

  <para>
   Exécuter le script d'installation crée un modèle de recherche plein
   texte <literal>intdict_template</literal> et un dictionnaire
   <literal>intdict</literal> basé sur ce dernier avec les paramètres par
   défaut. Vous pouvez modifier les paramètres, par exemple&nbsp;:

<programlisting>
mabase ALTER TEXT SEARCH DICTIONARY intdict (MAXLEN = 4, REJECTLONG = true);
ALTER TEXT SEARCH DICTIONARY
</programlisting>

   ou créer des nouveaux dictionnaires basés sur le modèle.
  </para>

  <para>
   Pour tester le dictionnaire&nbsp;:

<programlisting>
mydb# select ts_lexize('intdict', '12345678');
 ts_lexize
-----------
 {123456}
</programlisting>

   mais une utilisation réelle nécessite de l'inclure dans une configuration
   de recherche plein texte comme celle décrite dans <xref
   linkend="textsearch"/>. Cela pourrait ressembler à ceci&nbsp;:

<programlisting>
ALTER TEXT SEARCH CONFIGURATION english
    ALTER MAPPING FOR int, uint WITH intdict;
</programlisting>

  </para>
 </sect2>

</sect1>
