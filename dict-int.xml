<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Dernière modification
     le       $Date$
     par      $Author$
     révision $Revision$ -->

<sect1 id="dict-int">
 <title>dict_int</title>
 
 <indexterm zone="dict-int">
  <primary>dict_int</primary>
 </indexterm>

 <para>
  <filename>dict_int</filename> est un exemple de modèle de dictionnaire pour
  la recherche plein texte. Ce qui a motivé la création de ce dictionnaire
  est le contrôle de l'indexage des entiers (signés et non signés),
  permettant à des tels nombres d'être indexés tout en empêchant un
  grossissement excessif du nombre des mots uniques qui affecte
  grandement la performance de la recherche.
 </para>

 <sect2>
  <title>Configuration</title>
  <para>
   Le dictionnaire accepte deux options&nbsp;:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     Le paramètre <literal>maxlen</literal> spécifie le nombre maximum de
     chiffres autorisée dans un mot de type entier. La valeur par défaut
     est de 6.
    </para>
   </listitem>
   <listitem>
    <para>
     Le paramètre <literal>rejectlong</literal> spécifie si un entier trop
     gros doit être tronqué ou ignoré. Si <literal>rejectlong</literal> vaut
     <literal>false</literal> (la valeur par défaut), le dictionnaire renvoie
     les <literal>maxlen</literal> premiers chiffres de l'entier. Si
     <literal>rejectlong</literal> vaut <literal>true</literal>, le
     dictionnaire traite l'entier comme un terme courant, l'entier n'est
     donc pas indexé. Notez que cela signifie aussi qu'un tel nombre ne peut
     pas être recherché.
    </para>
   </listitem>
  </itemizedlist>
 </sect2>

 <sect2>
  <title>Utilisation</title>

  <para>
   Exécuter le script d'installation crée un modèle de recherche plein
   texte <literal>intdict_template</literal> et un dictionnaire
   <literal>intdict</literal> basé sur ce dernier avec les paramètres par
   défaut. Vous pouvez modifier les paramètres, par exemple&nbsp;:

<programlisting>
mabase ALTER TEXT SEARCH DICTIONARY intdict (MAXLEN = 4, REJECTLONG = true);
ALTER TEXT SEARCH DICTIONARY
</programlisting>

   ou créer des nouveaux dictionnaires basés sur le modèle.
  </para>

  <para>
   Pour tester le dictionnaire&nbsp;:

<programlisting>
mydb# select ts_lexize('intdict', '12345678');
 ts_lexize
-----------
 {123456}
</programlisting>

   mais une utilisation réelle nécessite de l'inclure dans une configuration
   de recherche plein texte comme celle décrite dans <xref
   linkend="textsearch"/>. Cela pourrait ressembler à ceci&nbsp;:

<programlisting>
ALTER TEXT SEARCH CONFIGURATION english
    ALTER MAPPING FOR int, uint WITH intdict;
</programlisting>

  </para>
 </sect2>

</sect1>
