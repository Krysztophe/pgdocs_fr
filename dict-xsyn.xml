<sect1 id="dict-xsyn">
 <title>dict_xsyn</title>
 
 <indexterm zone="dict-xsyn">
  <primary>dict_xsyn</primary>
 </indexterm>

 <para>
  Le module <filename>dict_xsyn</filename> (<foreignphrase>Extended Synonym
  Dictionary</foreignphrase>, autrement dit le dictionnaire étendu de
  synonymes) is an example of an
  add-on dictionary template for full-text search.  This dictionary type
  remplace des mots avec un ensemble
  de synonymes, ce qui rend possible la recherche d'un mot en utilisant
  tous ses synonymes.
 </para>

 <sect2>
  <title>Configuration</title>
  <para>
   Un dictionnaire <literal>dict_xsyn</literal> accepte les options
   suivantes&nbsp;:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     <literal>keeporig</literal> controls whether the original word is included (if
     <literal>true</literal>), or only its synonyms (if <literal>false</literal>). Default
is <literal>true</literal>.
    </para>
   </listitem>
   <listitem>
    <para>
     <literal>rules</literal> is the base name of the file containing the list of
     synonyms.  This file must be stored in
     <filename>$SHAREDIR/tsearch_data/</filename> (where <literal>$SHAREDIR</literal> means
     the <productname>PostgreSQL</productname> installation's shared-data directory).
     Its name must end in <literal>.rules</literal> (which is not to be included in
     the <literal>rules</literal> parameter).
    </para>
   </listitem>
  </itemizedlist>
  <para>
   Le fichier rules a le format suivant&nbsp;:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     Chaque ligne représente une groupe de synonymes pour un mot simple qui
     est donné en premier sur la ligne. Les synonymes sont séparés par
     un espace blanc&nbsp;:
    </para>
    <programlisting>
mot syn1 syn2 syn3
    </programlisting>
   </listitem>
   <listitem>
    <para>
     Un signe dièse (<literal>#</literal>) est un délimiteur de commentaires. Il peut
     apparaître dans la ligne. Le reste de la ligne est ignoré.
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Cherchez dans <filename>xsyn_sample.rules</filename> qui est installé dans
   <filename>$SHAREDIR/tsearch_data/</filename> pour un exemple.
  </para>
 </sect2>

 <sect2>
  <title>Utilisation</title>

  <para>
   Running the installation script creates a text search template
   <literal>xsyn_template</literal> and a dictionary <literal>xsyn</literal>
   based on it, with default parameters.  You can alter the
   parameters, for example

<programlisting>
mydb# ALTER TEXT SEARCH DICTIONARY xsyn (RULES='my_rules', KEEPORIG=false);
ALTER TEXT SEARCH DICTIONARY
</programlisting>

   or create new dictionaries based on the template.
  </para>

  <para>
   To test the dictionary, you can try

<programlisting>
mydb=# SELECT ts_lexize('xsyn', 'word');
      ts_lexize
-----------------------
 {word,syn1,syn2,syn3}
</programlisting>

   but real-world usage will involve including it in a text search
   configuration as described in <xref linkend="textsearch"/>.
   That might look like this:

<programlisting>
ALTER TEXT SEARCH CONFIGURATION english
    ALTER MAPPING FOR word, asciiword WITH xsyn, english_stem;
</programlisting>

  </para>
 </sect2>

</sect1>
