<?xml version="1.0" encoding="UTF-8"?>
<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/alter_database.sgml,v 1.8 2005/09/15 07:03:25 guillaume Exp $
PostgreSQL documentation
-->
<!-- SAS 20060616 -->

<refentry id="sql-alterdatabase">
 <refmeta>
  <refentrytitle id="sql-alterdatabase-title">ALTER DATABASE</refentrytitle>
  <refmiscinfo>SQL - Instructions du langage</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>ALTER DATABASE</refname>
  <refpurpose>Modifier une base de données</refpurpose>
 </refnamediv>

 <refsynopsisdiv>
<synopsis>ALTER DATABASE <replaceable class="parameter">nom</replaceable> [ [ WITH ] <replaceable class="parameter">option</replaceable> [ ... ] ]

où <replaceable class="parameter">option</replaceable> peut être&nbsp;:

    CONNECTION LIMIT <replaceable class="parameter">limite_connexion</replaceable>

ALTER DATABASE <replaceable class="parameter">nom</replaceable> SET <replaceable>paramètre</replaceable> { TO | = } { <replaceable>valeur</replaceable> | DEFAULT }
ALTER DATABASE <replaceable class="parameter">nom</replaceable> RESET <replaceable>paramètre</replaceable>
ALTER DATABASE <replaceable class="parameter">nom</replaceable> RENAME TO <replaceable>nouveau_nom</replaceable>
ALTER DATABASE <replaceable class="parameter">nom</replaceable> OWNER TO <replaceable>nouveau_propriétaire</replaceable>
</synopsis>
 </refsynopsisdiv>

 <refsect1>
  <title>Description</title>
  <indexterm zone="sql-alterdatabase">
   <primary>ALTER DATABASE</primary>
  </indexterm>


  <para>
   <command>ALTER DATABASE</command> modifie les attributs d'une base de
   données.
  </para>

  <para>
   La première forme modifie certains paramètres d'une base de données (voir
   ci-dessous pour les détails). Seul le propriétaire de la base de données ou
   un superutilisateur peut modifier ces paramètres.
  </para> 

  <para>
   La deuxième et la troisième formes modifient la valeur de session par défaut
   d'une variable de configuration de base de données. À chaque démarrage
   ultérieur d'une nouvelle session dans cette base, la valeur
   spécifiée devient la valeur de session par défaut. Celle-ci surcharge
   la configuration présente dans le fichier
   <filename>postgresql.conf</filename> ou celle héritée de la ligne de commande du
   <command>postmaster</command>.  Seul le propriétaire de la base ou un
   superutilisateur peut modifier les valeurs de session par défaut d'une
   base. Certaines variables ne peuvent pas être configurées de cette
   façon ou ne peuvent l'être que par un superutilisateur.
  </para>

  <para>
   La quatrième forme permet de renommer la base. Seul le propriétaire ou un
   superutilisateur peut renommer une base. Un propriétaire qui n'est pas superutilisateur
   doit en outre posséder le droit <literal>CREATEDB</literal>. La base en cours
   d'utilisation ne peut pas être renommée (on se connectera à une base différente
   pour réaliser cette opération).
  </para>

  <para>
   La cinquième forme change le propriétaire de la base de données.
   Pour changer le propriétaire, il faut être propriétaire de la base
   de données et membre direct ou indirect du nouveau rôle
   propriétaire. Le droit <literal>CREATEDB</literal> est également requis
   (les superutilisateurs ont automatiquement tous ces droits).
  </para>
 </refsect1>

 <refsect1>
  <title>Paramètres</title>

    <variablelist>
     <varlistentry>
      <term><replaceable class="parameter">nom</replaceable></term>
      <listitem>
       <para>
		Le nom de la base dont les attributs sont à modifier.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">limite_connexion</replaceable></term>
      <listitem>
       <para>
        Le nombre de connexions concurrentes sur la base de données. -1 signifie aucune limite.
       </para>
      </listitem>
     </varlistentry> 

     <varlistentry>
      <term><replaceable>paramètre</replaceable></term>
      <term><replaceable>valeur</replaceable></term>
      <listitem>
       <para>
        Initialise le paramètre de session par défaut sur cette base de donnée à la valeur
		précisée. Si <replaceable>valeur</replaceable> est <literal>DEFAULT</literal> ou que,
		de façon équivalente, <literal>RESET</literal> est utilisé, la configuration
		spécifique à la base est supprimée et celle par défaut du
		système est récupérée par les nouvelles sessions.
		<literal>RESET ALL</literal> est utilisé pour supprimer tout paramètre
		de configuration spécifique à la base de données.
       </para>

       <para>
        Voir <xref linkend="sql-set" endterm="sql-set-title"/> et
		<xref linkend="runtime-config"/> pour plus d'informations sur les noms et valeurs de
		paramètres autorisés.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable>nouveau_nom</replaceable></term>
      <listitem>
       <para>
        Le nouveau nom de la base.
       </para>
      </listitem>
     </varlistentry>

   <varlistentry>
    <term><replaceable
	class="parameter">nouveau_propriétaire</replaceable></term>
    <listitem>
     <para>
      Le nouveau propriétaire de la base.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>

 <refsect1>
  <title>Notes</title>

  <para>
   Il est possible de lier une valeur de session par défaut à un utilisateur plutôt qu'à
   une base. Voir <xref linkend="sql-alteruser" endterm="sql-alteruser-title"/>
   à ce propos. En cas de conflit, les configurations spécifiques à
   l'utilisateur l'emportent sur celles spécifiques à la base.
  </para>
 </refsect1>

 <refsect1>
  <title>Exemples</title>

  <para>
   Désactiver les parcours d'index par défaut de la base
   <literal>test</literal> :

<programlisting>ALTER DATABASE test SET enable_indexscan TO off;
</programlisting>
  </para>
 </refsect1>

 <refsect1>
  <title>Compatibilité</title>
    
  <para>
   La commande <command>ALTER DATABASE</command> est une extension 
   <productname>PostgreSQL</productname>.
  </para>
 </refsect1>

 <refsect1>
  <title>Voir aussi</title>

  <simplelist type="inline">
   <member><xref linkend="sql-createdatabase" endterm="sql-createdatabase-title"/></member>
   <member><xref linkend="sql-dropdatabase" endterm="sql-dropdatabase-title"/></member>
   <member><xref linkend="sql-set" endterm="sql-set-title"/></member>
  </simplelist>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
