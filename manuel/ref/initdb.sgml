<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/initdb.sgml,v 1.5.2.2 2005/07/10 17:28:47 guillaume Exp $
PostgreSQL documentation
-->

<refentry id="APP-INITDB">
 <refmeta>
  <refentrytitle id="APP-INITDB-TITLE">initdb</refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>initdb</refname>
  <refpurpose>crée un nouveau groupe de bases de données
   <productname>PostgreSQL</productname></refpurpose>
 </refnamediv>

 <indexterm zone="app-initdb">
  <primary>initdb</primary>
 </indexterm>

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>initdb</command>
   <arg rep="repeat"><replaceable>option</></arg>
   <group choice="plain">
    <arg>--pgdata </arg>
    <arg>-D </arg>
    <replaceable>répertoire</replaceable>
   </group>
  </cmdsynopsis>
 </refsynopsisdiv>

 <refsect1 id="R1-APP-INITDB-1">
  <title>
   Description
  </title>
  <para>
   <command>initdb</command> crée un nouveau groupe de bases de données
   <productname>PostgreSQL</productname>. Un groupe de bases de données est une
   collection de bases de données gérée par une seule instance du serveur.
  </para>

  <para>
   Créer un groupe de bases de données consiste en la création des répertoires
   dans lesquels seront stockées les données de la base de données, en la
   génération des tables partagées du catalogue (tables appartenant à tout le
   groupe plutôt qu'à une base de données particulière) et en la création de la
   base de données <literal>template1</literal>. Lorsque vous créerez plus tard
   une nouvelle base de données, tout ce qui se trouve dans la base de données
   <literal>template1</literal> est copié. Elle contient les tables catalogues
   remplies avec certains éléments comme les types internes.
  </para>

  <para>
   <command>initdb</command> initialise la locale et le codage de l'ensemble
   de caractères par défaut du groupe de bases de données. Quelques catégories
   de locales sont fixées pour la durée de vie du groupe, donc il est important
   de faire le bon choix au lancement d'<command>initdb</command>. Les autres
   catégories de locales peuvent être modifiées plus tard quand le serveur est
   lancé. <command>initdb</command> écrira ces paramétrages de locale dans le
   fichier de configuration <filename>postgresql.conf</filename> de façon à ce
   qu'elles soient la valeur par défaut, mais elles peuvent être modifiées en
   éditant ce fichier. Pour initialiser la locale que <command>initdb</command>
   utilise, voir la description de l'option <option>--locale</option>. Le codage
   de l'ensemble de caractères peut être initialisée séparément pour
   chaque base de données à sa création. <command>initdb</command> détermine le
   codage de la base de données <literal>template1</literal>, qui servira de
   défaut pour les autres bases de données. Pour modifier le codage par
   défaut, utilisez l'option <option>--encoding</option>.
  </para>

  <para>
   <command>initdb</command> doit être exécuté en tant que l'utilisateur
   possédant le processus serveur parce que le serveur a besoin d'avoir accès
   aux fichiers et répertoires qu'<command>initdb</command> crée. Comme le
   serveur ne peut pas être exécuté en tant que root, vous ne devez pas non plus
   lancer <command>initdb</command> en tant que root. (En fait, il refusera de
   le faire.)
  </para>

  <para>
   Bien qu'<command>initdb</command> tentera de créer le répertoire de données
   spécifié, souvent il n'aura pas les droits de le faire car le père du
   répertoire de données désiré est souvent un répertoire appartenant à root.
   Pour contourner ce problème, créer un répertoire de données vide en tant que
   root, puis utilisez <command>chown</command> pour donner la propriété de ce
   répertoire au compte utilisateur de la base de données. Enfin, lancez
   <command>su</command> pour devenir cet utilisateur et
   lancez <command>initdb</command> en tant que cet utilisateur.
  </para>
 </refsect1>

 <refsect1>
  <title>Options</title>

   <para>
    <variablelist>
     <varlistentry>
      <term><option>-D <replaceable
	class="parameter">répertoire</replaceable></option></term>
      <term><option>--pgdata=<replaceable
	class="parameter">répertoire</replaceable></option></term>
      <listitem>
       <para>
        Cette option spécifie le répertoire où le groupe de données devrait
	être stocké. Ceci est la seule information requise par
	<command>initdb</command> mais vous pouvez éviter de l'écrire en
	configurant la variable d'environnement <envar>PGDATA</envar>,
	proposition plus intéressante car le serveur de la base de données
	(<command>postmaster</command>) peut ensuite trouver le répertoire par
	cette même variable.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-E <replaceable
	class="parameter">codage</replaceable></option></term>
      <term><option>--encoding=<replaceable
	class="parameter">codage</replaceable></option></term>
      <listitem>
       <para>
        Sélectionne le codage de la base de données template. Ceci sera aussi
	considéré comme le codage par défaut de toutes les bases de données
	créées ultérieurement sauf si vous le surchargez. La valeur par défaut
	est <literal>SQL_ASCII</literal>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--locale=<replaceable>locale</replaceable></option></term>
      <listitem>
       <para>
        Configure la locale par défaut pour le groupe de bases de données. Si
	cette option n'est pas spécifiée, la locale est héritée de
	l'environnement d'exécution d'<command>initdb</command>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--lc-collate=<replaceable>locale</replaceable></option></term>
      <term><option>--lc-ctype=<replaceable>locale</replaceable></option></term>
      <term><option>--lc-messages=<replaceable>locale</replaceable></option></term>
      <term><option>--lc-monetary=<replaceable>locale</replaceable></option></term>
      <term><option>--lc-numeric=<replaceable>locale</replaceable></option></term>
      <term><option>--lc-time=<replaceable>locale</replaceable></option></term>

      <listitem>
       <para>
        Comme <option>--locale</option>, mais configure uniquement la locale
	dans la catégorie spécifiée.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-U <replaceable
	class="parameter">nomutilisateur</replaceable></option></term>
      <term><option>--username=<replaceable
	class="parameter">nomutilisateur</replaceable></option></term>
      <listitem>
       <para>
        Sélectionne le nom de l'utilisateur qui sera le superutilisateur de la
	base de données. Il a par défaut le nom de l'utilisateur lançant
	<command>initdb</command>. Le nom du superutilisateur n'est pas vraiment
	important mais vous pourriez souhaiter conserver le nom personnalisé de
	<systemitem>postgres</systemitem> même si le nom de l'utilisateur du
	système est différent.
       </para>
      </listitem>
     </varlistentry>
 
     <varlistentry>
      <term><option>-W</option></term>
      <term><option>--pwprompt</option></term>
      <listitem>
       <para>
        Réclame que <command>initdb</command> demande un mot de passe à donner
	au superutilisateur de la base de données. Si vous ne pensez pas
	utiliser d'authentification par mot de passe, ceci n'est pas important.
	Sinon, vous ne serez pas capable d'utiliser l'authentification par mot
	de passe jusqu'à avoir configuré un mot de passe.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>

   <para>
    D'autres paramètres, moins utilisés, sont disponibles&nbsp;:

    <variablelist>
     <varlistentry>
      <term><option>-d</option></term>
      <term><option>--debug</option></term>
      <listitem>
       <para>
	Affiche les informations de débogage du lancement du serveur et de
	quelques autres messages de moindre intérêt pour le plublic général. Le
	serveur de lancement est le programme qu'<command>initdb</command> lance
	pour créer les tables catalogues. Cette option génère une quantité
	horrible d'affichage extrêmement ennuyant.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-L <replaceable
	class="parameter">répertoire</replaceable></option></term>
      <listitem>
       <para>
        Spécifie où <command>initdb</command> devrait trouver les fichiers
	d'entrée pour initialiser le groupe de données. Ceci n'est normalement
	pas nécessaire. Vous serez prévenu si vous avez besoin de spécifier leur
	emplacement de façon explicite.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-n</option></term>
      <term><option>--noclean</option></term>
      <listitem>
       <para>
	Par défaut, quand <command>initdb</command> détermine qu'une erreur
	l'empêche de créer complètement le groupe de bases de données, il
	supprime tout fichier qu'il pourrait avoir créé avant de se rendre
	compte qu'il ne peut pas finir son travail. Cette option désactive le
	nettoyage et est donc utile pour le débogage.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>

 </refsect1>

 <refsect1>
  <title>Environnement</title>

  <variablelist>
   <varlistentry>
    <term><envar>PGDATA</envar></term>

    <listitem>
     <para>
      Spécifie le répertoire où le groupe de bases de données doit être
      stocké&nbsp;; pourrait être surchargé en utilisant l'option
      <option>-D</option>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>

 <refsect1>
  <title>Voir aussi</title>

  <simplelist type="inline">
   <member><xref linkend="app-postgres"></member>
   <member><xref linkend="app-postmaster"></member>
  </simplelist>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
