<?xml version="1.0" encoding="ISO-8859-15"?>
<!-- Dernière modification
     le       $Date: 2009-05-03 13:57:02 +0200 (dim. 03 mai 2009) $
     par      $Author: gleu $
     révision $Revision: 1317 $ -->

 <sect1 id="release-8-2-16">
  <title>Release 8.2.16</title>

  <note>
  <title>Release date</title>
  <simpara>2010-03-15</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 8.2.15.
   For information about new features in the 8.2 major release, see
   <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration to Version 8.2.16</title>

   <para>
    A dump/restore is not required for those running 8.2.X.
    However, if you are upgrading from a version earlier than 8.2.14,
    see the release notes for 8.2.14.
   </para>

  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

    <listitem>
     <para>
      Add new configuration parameter <varname>ssl_renegotiation_limit</varname> to
      control how often we do session key renegotiation for an SSL connection
      (Magnus)
     </para>

     <para>
      This can be set to zero to disable renegotiation completely, which may
      be required if a broken SSL library is used.  In particular, some
      vendors are shipping stopgap patches for CVE-2009-3555 that cause
      renegotiation attempts to fail.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible deadlock during backend startup (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible crashes due to not handling errors during relcache reload
      cleanly (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible crashes when trying to recover from a failure in
      subtransaction start (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix server memory leak associated with use of savepoints and a client
      encoding different from server's encoding (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix incorrect WAL data emitted during end-of-recovery cleanup of a GIST
      index page split (Yoichi Hirai)
     </para>

     <para>
      This would result in index corruption, or even more likely an error
      during WAL replay, if we were unlucky enough to crash during
      end-of-recovery cleanup after having completed an incomplete GIST
      insertion.
     </para>
    </listitem>

    <listitem>
     <para>
      Make <function>substring()</function> for <type>bit</type> types treat any negative
      length as meaning <quote>all the rest of the string</quote> (Tom)
     </para>

     <para>
      The previous coding treated only -1 that way, and would produce an
      invalid result value for other negative values, possibly leading to
      a crash (CVE-2010-0442).
     </para>
    </listitem>

    <listitem>
     <para>
      Fix integer-to-bit-string conversions to handle the first fractional
      byte correctly when the output bit width is wider than the given
      integer by something other than a multiple of 8 bits (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix some cases of pathologically slow regular expression matching (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix the <literal>STOP WAL LOCATION</literal> entry in backup history files to
      report the next WAL segment's name when the end location is exactly at a
      segment boundary (Itagaki Takahiro)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix some more cases of temporary-file leakage (Heikki)
     </para>

     <para>
      This corrects a problem introduced in the previous minor release.
      One case that failed is when a plpgsql function returning set is
      called within another function's exception handler.
     </para>
    </listitem>

    <listitem>
     <para>
      Improve constraint exclusion processing of boolean-variable cases,
      in particular make it possible to exclude a partition that has a
      <quote>bool_column = false</quote> constraint (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      When reading <filename>pg_hba.conf</filename> and related files, do not treat
      <literal>@something</literal> as a file inclusion request if the <literal>@</literal>
      appears inside quote marks; also, never treat <literal>@</literal> by itself
      as a file inclusion request (Tom)
     </para>

     <para>
      This prevents erratic behavior if a role or database name starts with
      <literal>@</literal>.  If you need to include a file whose path name
      contains spaces, you can still do so, but you must write
      <literal>@"/path to/file"</literal> rather than putting the quotes around
      the whole construct.
     </para>
    </listitem>

    <listitem>
     <para>
      Prevent infinite loop on some platforms if a directory is named as
      an inclusion target in <filename>pg_hba.conf</filename> and related files
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible infinite loop if <function>SSL_read</function> or
      <function>SSL_write</function> fails without setting <varname>errno</varname> (Tom)
     </para>

     <para>
      This is reportedly possible with some Windows versions of
      <application>openssl</application>.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <application>psql</application>'s <literal>numericlocale</literal> option to not
      format strings it shouldn't in latex and troff output formats (Heikki)
     </para>
    </listitem>

    <listitem>
     <para>
      Make <application>psql</application> return the correct exit status (3) when
      <literal>ON_ERROR_STOP</literal> and <literal>--single-transaction</literal> are
      both specified and an error occurs during the implied <command>COMMIT</command>
      (Bruce)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix plpgsql failure in one case where a composite column is set to NULL
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible failure when calling PL/Perl functions from PL/PerlU
      or vice versa (Tim Bunce)
     </para>
    </listitem>

    <listitem>
     <para>
      Add <literal>volatile</literal> markings in PL/Python to avoid possible
      compiler-specific misbehavior (Zdenek Kotala)
     </para>
    </listitem>

    <listitem>
     <para>
      Ensure PL/Tcl initializes the Tcl interpreter fully (Tom)
     </para>

     <para>
      The only known symptom of this oversight is that the Tcl
      <literal>clock</literal> command misbehaves if using Tcl 8.5 or later.
     </para>
    </listitem>

    <listitem>
     <para>
      Prevent crash in <filename>contrib/dblink</filename> when too many key
      columns are specified to a <function>dblink_build_sql_*</function> function
      (Rushabh Lathia, Joe Conway)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix assorted crashes in <filename>contrib/xml2</filename> caused by sloppy
      memory management (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Make building of <filename>contrib/xml2</filename> more robust on Windows
      (Andrew)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix race condition in Windows signal handling (Radu Ilie)
     </para>

     <para>
      One known symptom of this bug is that rows in <structname>pg_listener</structname>
      could be dropped under heavy load.
     </para>
    </listitem>

    <listitem>
     <para>
      Update time zone data files to <application>tzdata</application> release 2010e
      for DST law changes in Bangladesh, Chile, Fiji, Mexico, Paraguay, Samoa.
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-2-15">
  <title>Release 8.2.15</title>

  <note>
  <title>Release date</title>
  <simpara>2009-12-14</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 8.2.14.
   For information about new features in the 8.2 major release, see
   <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration to Version 8.2.15</title>

   <para>
    A dump/restore is not required for those running 8.2.X.
    However, if you are upgrading from a version earlier than 8.2.14,
    see the release notes for 8.2.14.
   </para>

  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

    <listitem>
     <para>
      Protect against indirect security threats caused by index functions
      changing session-local state (Gurjeet Singh, Tom)
     </para>

     <para>
      This change prevents allegedly-immutable index functions from possibly
      subverting a superuser's session (CVE-2009-4136).
     </para>
    </listitem>

    <listitem>
     <para>
      Reject SSL certificates containing an embedded null byte in the common
      name (CN) field (Magnus)
     </para>

     <para>
      This prevents unintended matching of a certificate to a server or client
      name during SSL validation (CVE-2009-4034).
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible crash during backend-startup-time cache initialization (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Prevent signals from interrupting <literal>VACUUM</literal> at unsafe times
      (Alvaro)
     </para>

     <para>
      This fix prevents a PANIC if a <literal>VACUUM FULL</literal> is cancelled
      after it's already committed its tuple movements, as well as transient
      errors if a plain <literal>VACUUM</literal> is interrupted after having
      truncated the table.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible crash due to integer overflow in hash table size
      calculation (Tom)
     </para>

     <para>
      This could occur with extremely large planner estimates for the size of
      a hashjoin's result.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix very rare crash in <type>inet</type>/<type>cidr</type> comparisons (Chris
      Mikkelson)
     </para>
    </listitem>

    <listitem>
     <para>
      Ensure that shared tuple-level locks held by prepared transactions are
      not ignored (Heikki)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix premature drop of temporary files used for a cursor that is accessed
      within a subtransaction (Heikki)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix incorrect logic for GiST index page splits, when the split depends
      on a non-first column of the index (Paul Ramsey)
     </para>
    </listitem>

    <listitem>
     <para>
      Don't error out if recycling or removing an old WAL file fails at the
      end of checkpoint (Heikki)
     </para>

     <para>
      It's better to treat the problem as non-fatal and allow the checkpoint
      to complete.  Future checkpoints will retry the removal.  Such problems
      are not expected in normal operation, but have been seen to be
      caused by misdesigned Windows anti-virus and backup software.
     </para>
    </listitem>

    <listitem>
     <para>
      Ensure WAL files aren't repeatedly archived on Windows (Heikki)
     </para>

     <para>
      This is another symptom that could happen if some other process
      interfered with deletion of a no-longer-needed file.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix PAM password processing to be more robust (Tom)
     </para>

     <para>
      The previous code is known to fail with the combination of the Linux
      <literal>pam_krb5</literal> PAM module with Microsoft Active Directory as the
      domain controller.  It might have problems elsewhere too, since it was
      making unjustified assumptions about what arguments the PAM stack would
      pass to it.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix processing of ownership dependencies during <literal>CREATE OR
      REPLACE FUNCTION</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix bug with calling <literal>plperl</literal> from <literal>plperlu</literal> or vice
      versa (Tom)
     </para>

     <para>
      An error exit from the inner function could result in crashes due to
      failure to re-select the correct Perl interpreter for the outer function.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix session-lifespan memory leak when a PL/Perl function is redefined
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Ensure that Perl arrays are properly converted to
      <productname>PostgreSQL</productname> arrays when returned by a set-returning
      PL/Perl function (Andrew Dunstan, Abhijit Menon-Sen)
     </para>

     <para>
      This worked correctly already for non-set-returning functions.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix rare crash in exception processing in PL/Python (Peter)
     </para>
    </listitem>

    <listitem>
     <para>
      Ensure <application>psql</application>'s flex module is compiled with the correct
      system header definitions (Tom)
     </para>

     <para>
      This fixes build failures on platforms where
      <literal>--enable-largefile</literal> causes incompatible changes in the
      generated code.
     </para>
    </listitem>

    <listitem>
     <para>
      Make the postmaster ignore any <literal>application_name</literal> parameter in
      connection request packets, to improve compatibility with future libpq
      versions (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Update the timezone abbreviation files to match current reality (Joachim
      Wieland)
     </para>

     <para>
      This includes adding <literal>IDT</literal> and <literal>SGT</literal> to the default
      timezone abbreviation set.
     </para>
    </listitem>

    <listitem>
     <para>
      Update time zone data files to <application>tzdata</application> release 2009s
      for DST law changes in Antarctica, Argentina, Bangladesh, Fiji,
      Novokuznetsk, Pakistan, Palestine, Samoa, Syria; also historical
      corrections for Hong Kong.
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-2-14">
  <title>Release 8.2.14</title>

  <note>
  <title>Release date</title>
  <simpara>2009-09-09</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 8.2.13.
   For information about new features in the 8.2 major release, see
   <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration to Version 8.2.14</title>

   <para>
    A dump/restore is not required for those running 8.2.X.
    However, if you have any hash indexes on <type>interval</type> columns,
    you must <command>REINDEX</command> them after updating to 8.2.14.
    Also, if you are upgrading from a version earlier than 8.2.11,
    see the release notes for 8.2.11.
   </para>

  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

    <listitem>
     <para>
      Force WAL segment switch during <function>pg_start_backup()</function>
      (Heikki)
     </para>

     <para>
      This avoids corner cases that could render a base backup unusable.
     </para>
    </listitem>

    <listitem>
     <para>
      Disallow <command>RESET ROLE</command> and <command>RESET SESSION
      AUTHORIZATION</command> inside security-definer functions (Tom, Heikki)
     </para>

     <para>
      This covers a case that was missed in the previous patch that
      disallowed <command>SET ROLE</command> and <command>SET SESSION
      AUTHORIZATION</command> inside security-definer functions.
      (See CVE-2007-6600)
     </para>
    </listitem>

    <listitem>
     <para>
      Make <command>LOAD</command> of an already-loaded loadable module
      into a no-op (Tom)
     </para>

     <para>
      Formerly, <command>LOAD</command> would attempt to unload and re-load the
      module, but this is unsafe and not all that useful.
     </para>
    </listitem>

    <listitem>
     <para>
      Disallow empty passwords during LDAP authentication (Magnus)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix handling of sub-SELECTs appearing in the arguments of
      an outer-level aggregate function (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix bugs associated with fetching a whole-row value from the
      output of a Sort or Materialize plan node (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Revert planner change that disabled partial-index and constraint
      exclusion optimizations when there were more than 100 clauses in
      an AND or OR list (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix hash calculation for data type <type>interval</type> (Tom)
     </para>

     <para>
      This corrects wrong results for hash joins on interval values.
      It also changes the contents of hash indexes on interval columns.
      If you have any such indexes, you must <command>REINDEX</command> them
      after updating.
     </para>
    </listitem>

    <listitem>
     <para>
      Treat <function>to_char(..., 'TH')</function> as an uppercase ordinal
      suffix with <literal>'HH'</literal>/<literal>'HH12'</literal> (Heikki)
     </para>

     <para>
      It was previously handled as <literal>'th'</literal> (lowercase).
     </para>
    </listitem>

    <listitem>
     <para>
      Fix overflow for <literal>INTERVAL '<replaceable>x</replaceable> ms'</literal>
      when <replaceable>x</replaceable> is more than 2 million and integer
      datetimes are in use (Alex Hunsaker)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix calculation of distance between a point and a line segment (Tom)
     </para>

     <para>
      This led to incorrect results from a number of geometric operators.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <type>money</type> data type to work in locales where currency
      amounts have no fractional digits, e.g. Japan (Itagaki Takahiro)
     </para>
    </listitem>

    <listitem>
     <para>
      Properly round datetime input like
      <literal>00:12:57.9999999999999999999999999999</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix poor choice of page split point in GiST R-tree operator classes
      (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Avoid performance degradation in bulk inserts into GIN indexes
      when the input values are (nearly) in sorted order (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correctly enforce NOT NULL domain constraints in some contexts in
      PL/pgSQL (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix portability issues in plperl initialization (Andrew Dunstan)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <application>pg_ctl</application> to not go into an infinite loop if
      <filename>postgresql.conf</filename> is empty (Jeff Davis)
     </para>
    </listitem>

    <listitem>
     <para>
      Make <filename>contrib/hstore</filename> throw an error when a key or
      value is too long to fit in its data structure, rather than
      silently truncating it (Andrew Gierth)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <filename>contrib/xml2</filename>'s <function>xslt_process()</function> to
      properly handle the maximum number of parameters (twenty) (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Improve robustness of <application>libpq</application>'s code to recover
      from errors during <command>COPY FROM STDIN</command> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Avoid including conflicting readline and editline header files
      when both libraries are installed (Zdenek Kotala)
     </para>
    </listitem>

    <listitem>
     <para>
      Update time zone data files to <application>tzdata</application> release 2009l
      for DST law changes in Bangladesh, Egypt, Jordan, Pakistan,
      Argentina/San_Luis, Cuba, Jordan (historical correction only),
      Mauritius, Morocco, Palestine, Syria, Tunisia.
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-2-13">
  <title>Version 8.2.13</title>

  <note>
  <title>Date de version</title>
  <simpara>2009-03-16</simpara>
  </note>

  <para>
   Cette version contient des corrections de la version 8.2.12.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 8.2, voir <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration vers la version 8.2.13</title>

   <para>
    Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
    version 8.2.X. Néanmoins, si vous mettez à jour à partir d'une version
    antérieure à la 8.2.11, voir les notes de sortie de la 8.2.11.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Correction de crashs suite à des récursions erronées dûes à l'échec d'une
      conversion d'encodage (Tom)
     </para>

     <para>
      Cette modification étend les corrections réalisées lors des deux
      précédentes versions mineures pour les même scénarios. Les corrections
      déjà réalisées étaient ciblées sur les problèmes rencontrés, mais nous
      nous apercevons maintenant que <emphasis>toute</emphasis> erreur renvoyée
      par une fonction de conversion d'encodage pouvait entraîner une récursion
      infinie pour indiquer l'erreur. La solution est donc de désactiver toute
      traduction et conversion d'encodage. Le message d'erreur est renvoyé en
      ASCII simple si nous découvrons que nous sommes dans une situation
      susceptible d'entraîner une récursion infinie.
      (CVE-2009-0922)
     </para>
    </listitem>

    <listitem>
     <para>
      N'autorise plus <command>CREATE CONVERSION</command> avec les mauvais
      encodages pour la fonction de conversion spécifiée (Heikki)
     </para>

     <para>
      Ceci permet de prévenir un scénario possible pour un échec de conversion
      d'encodage. Le changement précédent permet de se protéger contre les
      autres échecs du même type.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un crash lorsque <function>to_char()</function> a pour
      argument des codes de format inappropriés pour la donnée en argument
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un échec possible dans <filename>contrib/tsearch2</filename>
      lorsque la locale C est utilisée avec un encodage multi-octets (Teodor)
     </para>

     <para>
      Les crashes étaient possibles sur les plateformes où <type>wchar_t</type>
      est plus petit que <type>int</type>&nbsp;; Windows en particulier.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de l'inefficacité extrême dans la gestion par l'analyseur
      <filename>contrib/tsearch2</filename> d'une chaîne de type email contenant de
      nombreux caractères <literal>@</literal> (Heikki)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de la décompilation de <literal>CASE WHEN</literal> lorsque
      cette instruction est utilisée avec une coercion explicite
      (Tom)
     </para>

     <para>
      Cette erreur pouvait entraîner des échecs de type Assert pour les binaires
      compilés avec l'option Assert activé. Elle pouvait aussi entraîner des
      des messages d'erreur <quote>unexpected CASE WHEN clause</quote> dans
      d'autres cas lors de l'examen ou de la sauvegarde d'une vue.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'une mauvaise affectation possible du propriétaire du rowtype
      d'une table TOAST (Tom)
     </para>

     <para>
      Si <command>CLUSTER</command> ou une variante de <command>ALTER
      TABLE</command> qui ré-écrit la table étaient exécutées par quelqu'un
      d'autre que le propriétaire de la table, l'entrée
      <structname>pg_type</structname> pour la table TOAST pouvait se trouver
      changer de propriétaire (en utilisant l'identifiant de l'utilisateur qui
      a exécuté la commande). Ceci ne pose pas de problèmes immédiatement car
      les droits sur le rowtype du TOAST ne sont pas examinés après chaque
      opération ordinaire de la base de données. Néanmoins, cela peut amener
      des échecs inattendus si une personne tente plus tard de supprimer le rôle
      qui a exécuté la commande (en 8.1 ou 8.2) ou des messages d'avertissement
      du type <quote>propriétaire du type de données semble invalide</quote>
      avec <application>pg_dump</application> après avoir supprimé l'utilisateur
      (en 8.3).
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de PL/pgSQL pour qu'il ne traite pas <literal>INTO</literal>
      après un <command>INSERT</command> comme une clause d'affectation de
      variables, quelque soit son emplacement&nbsp;; en particulier, cela
      permet d'éviter un échec sur un <command>INSERT INTO</command> compris
      dans une commande <command>CREATE RULE</command> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Nettoyage complet des variables de statut de PL/pgSQL à la sortie d'un
      bloc (Ashesh Vashi et Dave Page)
     </para>

     <para>
      Ceci n'est pas un problème avec PL/pgSQL lui-même, mais l'omission pouvait
      entraîner un crash du debogueur PL/pgSQL lors de l'examen de l'état d'une
      fonction.
     </para>
    </listitem>

    <listitem>
     <para>
      Ré-essaie d'appeler <function>CallNamedPipe()</function> après un échec
      sur Windows (Steve Marshall, Magnus)
     </para>

     <para>
      Il semble que cette fonction puisse échouer de temps en temps&nbsp;;
      auparavant, nous avons traiter toute erreur comme une erreur grave
      qui pourrait poser problème aux instructions <command>LISTEN</command>
      / <command>NOTIFY</command> ainsi qu'à d'autres opérations.
     </para>
    </listitem>

    <listitem>
     <para>
      Ajout de <literal>MUST</literal> (Mauritius Island Summer Time) dans la
      liste par défaut des abréviations connues de fuseau horaire (Xavier
      Bugaud)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-2-12">
  <title>Version 8.2.12</title>

  <note>
  <title>Date de version</title>
  <simpara>2009-02-02</simpara>
  </note>

  <para>
   Cette version contient des corrections de la version 8.2.11.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 8.2, voir <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration vers la version 8.2.12</title>

   <para>
    Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
    version 8.2.X. Néanmoins, si vous mettez à jour à partir d'une version
    antérieure à la 8.2.7, voir les notes de sortie de la 8.2.7.
   </para>

  </sect2>

  <sect2>
   <title>Changements</title>

   <itemizedlist>

    <listitem>
     <para>
      Amélioration de la gestion des URL dans la fonction
      <function>headline()</function> (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Amélioration de la gestion des lignes trop longues dans la fonction
      <function>headline()</function> (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Empêche des échecs ou des mauvaises conversions avec Assert si une
      conversion d'encodage est créé avec la mauvaise fonction de conversion
      pour la paire spécifiée des encodages (Tom, Heikki)
     </para>
    </listitem>

    <listitem>
     <para>
      Empêche des échecs possibles avec Assert si une instruction exécutée en
      PL/pgSQL est ré-écrite dans un autre type d'instruction, par exemple si
      <command>INSERT</command> est ré-écrit en <command>UPDATE</command>
      (Heikki)
     </para>
    </listitem>

    <listitem>
     <para>
      S'assure qu'une image de la base est disponible pour les fonctions en
      entrée des types (Tom)
     </para>

     <para>
      Ceci affecte principalement les domaines qui sont déclarés avec des
      contraintes <literal>CHECK</literal> impliquant des fonctions stables
      ou immutables définies par l'utilisateur. De telles fonctions échouent
      typiquement si aucune image de la base n'a été réalisée.
     </para>
    </listitem>

    <listitem>
     <para>
      Rend plus sûr l'utilisation des entrées/sorties de type avec les fonctions
      SPI&nbsp;; en particulier à utiliser aves les contraintes de vérifications
      pour les domaines (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Évite un verrou inutile des petites tables dans <command>VACUUM</command>
      (Heikki)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un problème faisant que <literal>UPDATE RETURNING
      tableoid</literal> renvoie zéro au lieu du bon OID (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'une mauvaise estimation de la sélectivité du planificateur
      quand une égalité transitive est appliquée à une clause jointure externe
      (Tom)
     </para>

     <para>
      Ceci pourrait résulter en de mauvais plans pour les requêtes identiques à
      <literal>... from a left join b on a.a1 = b.b1 where a.a1 = 42 ...</literal>
     </para>
    </listitem>

    <listitem>
     <para>
      Amélioration de la gestion des grosses listes <literal>IN</literal> par
      l'optimiseur (Tom)
     </para>

     <para>
      Cette modification évite de perdre beaucoup de temps sur de telles listes
      dans la contrainte d'exclusion est activée.
     </para>
    </listitem>

    <listitem>
     <para>
      S'assure que le contenu d'un curseur conservable ne dépend pas du contenu
      des tables TOAST (Tom)
     </para>

     <para>
      Auparavant, des valeurs de champ large dans un résultat de curseur
      pouvaient être représentées comme des pointeurs TOAST, ce qui causerait
      un échec si la table référencée était supprimée avant la lecture du
      curseur ou si la valeur large était supprimée puis subissait un VACUUM.
      Ceci ne peut pas arriver avec un curseur standard mais le pourrait avec
      un curseur qui est conservé après sa transaction de création.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'une fuite mémoire lorsqu'une fonction SRF se termine sans
      lecture du résultat complet (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de la fonction <function>dblink_get_result(text,bool)</function>
      de <filename>contrib/dblink</filename> (Joe)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un mauvais retour des fonctions de
      <filename>contrib/sslinfo</filename> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction du script <application>configure</application> pour rapporter
      correctement les échecs quand il est incapable d'obtenir les informations
      de liens pour PL/Perl (Andrew)
     </para>
    </listitem>

    <listitem>
     <para>
      Toute la documentation référence maintenant <literal>pgsql-bugs</literal>
      et/ou <literal>pgsql-hackers</literal>, au lieu des listes obsolètes comme
      <literal>pgsql-ports</literal> et <literal>pgsql-patches</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Mise à jour des fichiers de fuseaux horaires avec la version 2009a de
      <application>tzdata</application> (pour le Kathmandou et des corrections
      historiques de DST en Switzerland et à Cuba)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-2-11">
  <title>Version 8.2.11</title>

  <note>
  <title>Date de version</title>
  <simpara>2008-11-03</simpara>
  </note>

  <para>
   Cette version contient des corrections de la version 8.2.10.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 8.2, voir <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration vers la version 8.2.11</title>

   <para>
    Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
    version 8.2.X. Néanmoins, si vous mettez à jour à partir d'une version
    antérieure à la 8.2.7, voir les notes de sortie de la 8.2.7.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Correction d'une corruption d'index GiST. L'entrée d'index marquée comme
      <quote>morte</quote> après une suppression n'était pas la bonne (Teodor)
     </para>

     <para>
      Cela peut avoir comme conséquence des échecs dans les recherches par
      index pour des lignes qu'elles auraient dû trouver.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un crash du serveur lorsque l'encodage client ne peut pas
      représenter une version convertie du message d'erreur (Tom)
     </para>

     <para>
      Nous avons déjà corrigé des problèmes identiques dans le passé, mais le
      problème est toujours d'actualité si le message <quote>le caratère n'a
      pas d'équivalent</quote> ne peut pas être converti. La correction revient à
      désactiver la transformation et à renvoyer le message d'erreur en ASCII
      brut quand nous détectons cette situation.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un crash possible lorsque des fonctions profondément
      imbriquées sont appelées à partir d'un trigger (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Amélioration de l'optimisation des requêtes de type
      <replaceable>expression</replaceable> <literal>IN</literal>
      (<replaceable>liste-expression</replaceable>) (Tom, à partir d'une idée de
      Robert Haas)
     </para>

     <para>
      Les cas où il se trouve des variables de requpetes dans le côté droit
      étaient gérés moins efficacement dans les versions 8.2.x et 8.3.x que
      dans les versions précédentes. La correction restaure le comportement
      de la 8.1 pour ces cas.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'une mauvaise expansion de requêtes de règles quand un
      sous-<literal>SELECT</literal> apparaît dans un appel de fonction d'un
      <literal>FROM</literal>, d'une liste <literal>VALUES</literal> multi-lignes ou
      d'une liste <literal>RETURNING</literal> (Tom)
     </para>

     <para>
      Le symptôme habituel de ce problème est une erreur <quote>type de noeud
      inconnu</quote>.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'une fuite mémoire lors du parcours d'un plan d'aggrégation
      haché (Neil)
     </para>
    </listitem>

    <listitem>
     <para>
      S'assure qu'une erreur est renvoyée quand une fonction trigger PL/pgsql
      nouvellement définie est appelée comme une fonction normale (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Empêche une collision possible du <structfield>relfilenode</structfield>
      lors du déplacement d'une table vers un autre tablespace avec
      <command>ALTER SET TABLESPACE</command> (Heikki)
     </para>

     <para>
      La commande essaie de ré-utiliser le nom du fichier existant au lieu d'un
      prendre un qu'on sait inutilisé dans le répertoire de destination.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de la génération du résumé (« headline ») par tsearch2 quand
      l'élément de la requête correspond au premier mot d'un texte (Sushant
      Sinha)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de l'affichage de secondes fractionnées dans des valeurs
      d'intervalle lors de l'utilisation d'un style de date non ISO dans une
      construction ayant utilisé l'option <option>--enable-integer-datetimes</option>
      (Ron Mayer)
     </para>
    </listitem>

    <listitem>
     <para>
      S'assure que <function>SPI_getvalue</function> et <function>SPI_getbinval</function>
      fonctionnent correctement lorsque la ligne et le descripteur de ligne
      passés ont un nombre de colonnes différent (Tom)
     </para>

     <para>
      Cette situation est normale quand une table se voit ajouter ou supprimer
      des colonnes, mais ces deux fonctions ne le géraient pas correctement.
      La seule conséquence probable est l'envoi d'un message d'erreur erroné.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de l'analyse de <command>CREATE USER</command> par
      <application>ecpg</application> (Michael)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'une régression récente de <literal>pg_ctl restart</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      S'assure que <filename>pg_control</filename> en ouvert en mode binaire
      seul (Itagaki Takahiro)
     </para>

     <para>
      <application>pg_controldata</application> et <application>pg_resetxlog</application>
      ne le faisaient pas correction, ce qui provoquait un échec sur Windows.
     </para>
    </listitem>

    <listitem>
     <para>
      Mise à jour des fichiers de données de fuseaux horaires vers la version
      2008i de <application>tzdata</application> (pour les modifications légales de DST en
      Argentine, au Brésil, à l'Île Maurice et en Syrie)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-2-10">
  <title>Version 8.2.10</title>

  <note>
  <title>Date de sortie</title>
  <simpara>2008-09-22</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 8.2.9.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 8.2, voir <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration vers la version 8.2.10</title>

   <para>
    Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la version 8.2.X.
    However, if you are upgrading from a version earlier than 8.2.7,
    see the release notes for 8.2.7.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Fix bug in btree WAL recovery code (Heikki)
     </para>

     <para>
      Recovery failed if the WAL ended partway through a page split operation.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix potential miscalculation of <structfield>datfrozenxid</structfield> (Alvaro)
     </para>

     <para>
      This error may explain some recent reports of failure to remove old
      <structname>pg_clog</structname> data.
     </para>
    </listitem>

    <listitem>
     <para>
      Widen local lock counters from 32 to 64 bits (Tom)
     </para>

     <para>
      This responds to reports that the counters could overflow in
      sufficiently long transactions, leading to unexpected <quote>lock is
      already held</quote> errors.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible duplicate output of tuples during a GiST index scan (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix missed permissions checks when a view contains a simple
      <literal>UNION ALL</literal> construct (Heikki)
     </para>

     <para>
      Permissions for the referenced tables were checked properly, but not
      permissions for the view itself.
     </para>
    </listitem>

    <listitem>
     <para>
      Add checks in executor startup to ensure that the tuples produced by an
      <command>INSERT</command> or <command>UPDATE</command> will match the target table's
      current rowtype (Tom)
     </para>

     <para>
      <command>ALTER COLUMN TYPE</command>, followed by re-use of a previously
      cached plan, could produce this type of situation.  The check protects
      against data corruption and/or crashes that could ensue.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible repeated drops during <command>DROP OWNED</command> (Tom)
     </para>

     <para>
      This would typically result in strange errors such as <quote>cache
      lookup failed for relation NNN</quote>.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <literal>AT TIME ZONE</literal> to first try to interpret its timezone
      argument as a timezone abbreviation, and only try it as a full timezone
      name if that fails, rather than the other way around as formerly (Tom)
     </para>

     <para>
      The timestamp input functions have always resolved ambiguous zone names
      in this order.  Making <literal>AT TIME ZONE</literal> do so as well improves
      consistency, and fixes a compatibility bug introduced in 8.1:
      in ambiguous cases we now behave the same as 8.0 and before did,
      since in the older versions <literal>AT TIME ZONE</literal> accepted
      <emphasis>only</emphasis> abbreviations.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix datetime input functions to correctly detect integer overflow when
      running on a 64-bit platform (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Prevent integer overflows during units conversion when displaying a
      configuration parameter that has units (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Improve performance of writing very long log messages to syslog (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Allow spaces in the suffix part of an LDAP URL in
      <filename>pg_hba.conf</filename> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix bug in backwards scanning of a cursor on a <literal>SELECT DISTINCT
      ON</literal> query (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix planner bug with nested sub-select expressions (Tom)
     </para>

     <para>
      If the outer sub-select has no direct dependency on the parent query,
      but the inner one does, the outer value might not get recalculated
      for new parent query rows.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix planner to estimate that <literal>GROUP BY</literal> expressions yielding
      boolean results always result in two groups, regardless of the
      expressions' contents (Tom)
     </para>

     <para>
      This is very substantially more accurate than the regular <literal>GROUP
      BY</literal> estimate for certain boolean tests like <replaceable>col</replaceable>
      <literal>IS NULL</literal>.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix PL/PgSQL to not fail when a <literal>FOR</literal> loop's target variable
      is a record containing composite-type fields (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix PL/Tcl to behave correctly with Tcl 8.5, and to be more careful
      about the encoding of data sent to or from Tcl (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      On Windows, work around a Microsoft bug by preventing
      <application>libpq</application> from trying to send more than 64kB per system call
      (Magnus)
     </para>
    </listitem>

    <listitem>
     <para>
      Improve <application>pg_dump</application> and <application>pg_restore</application>'s
      error reporting after failure to send a SQL command (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <application>pg_ctl</application> to properly preserve postmaster
      command-line arguments across a <literal>restart</literal> (Bruce)
     </para>
    </listitem>

    <listitem>
     <para>
      Update time zone data files to <application>tzdata</application> release 2008f (for
      DST law changes in Argentina, Bahamas, Brazil, Mauritius, Morocco,
      Pakistan, Palestine, and Paraguay)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-2-9">
  <title>Version 8.2.9</title>

  <note>
  <title>Date de sortie</title>
  <simpara>2008-06-12</simpara>
  </note>

  <para>
   This release contains one serious and one minor bug fix over 8.2.8.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 8.2, voir <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration vers la version 8.2.9</title>

   <para>
    Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la version 8.2.X.
    However, if you are upgrading from a version earlier than 8.2.7,
    see the release notes for 8.2.7.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Make <function>pg_get_ruledef()</function> parenthesize negative constants (Tom)
     </para>

     <para>
      Before this fix, a negative constant in a view or rule might be dumped
      as, say, <literal>-42::integer</literal>, which is subtly incorrect: it should
      be <literal>(-42)::integer</literal> due to operator precedence rules.
      Usually this would make little difference, but it could interact with
      another recent patch to cause
      <productname>PostgreSQL</productname> to reject what had been a valid
      <command>SELECT DISTINCT</command> view query.  Since this could result in
      <application>pg_dump</application> output failing to reload, it is being treated
      as a high-priority fix.  The only released versions in which dump
      output is actually incorrect are 8.3.1 and 8.2.7.
     </para>
    </listitem>

    <listitem>
     <para>
      Make <command>ALTER AGGREGATE ... OWNER TO</command> update
      <structname>pg_shdepend</structname> (Tom)
     </para>

     <para>
      This oversight could lead to problems if the aggregate was later
      involved in a <command>DROP OWNED</command> or <command>REASSIGN OWNED</command>
      operation.
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-2-8">
  <title>Version 8.2.8</title>

  <note>
  <title>Date de sortie</title>
  <simpara>never released</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 8.2.7.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 8.2, voir <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration vers la version 8.2.8</title>

   <para>
    Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la version 8.2.X.
    However, if you are upgrading from a version earlier than 8.2.7,
    see the release notes for 8.2.7.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Fix <literal>ERRORDATA_STACK_SIZE exceeded</literal> crash that
      occurred on Windows when using UTF-8 database encoding and a different
      client encoding (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <command>ALTER TABLE ADD COLUMN ... PRIMARY KEY</command> so that the new
      column is correctly checked to see if it's been initialized to all
      non-nulls (Brendan Jurd)
     </para>

     <para>
      Previous versions neglected to check this requirement at all.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible <command>CREATE TABLE</command> failure when inheriting the
      <quote>same</quote> constraint from multiple parent relations that
      inherited that constraint from a common ancestor (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <function>pg_get_ruledef()</function> to show the alias, if any, attached
      to the target table of an <command>UPDATE</command> or <command>DELETE</command>
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix GIN bug that could result in a <literal>too many LWLocks
      taken</literal> failure (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Avoid possible crash when decompressing corrupted data
      (Zdenek Kotala)
     </para>
    </listitem>

    <listitem>
     <para>
      Repair two places where SIGTERM exit of a backend could leave corrupted
      state in shared memory (Tom)
     </para>

     <para>
      Neither case is very important if SIGTERM is used to shut down the
      whole database cluster together, but there was a problem if someone
      tried to SIGTERM individual backends.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix conversions between ISO-8859-5 and other encodings to handle
      Cyrillic <quote>Yo</quote> characters (<literal>e</literal> and <literal>E</literal> with
      two dots) (Sergey Burladyan)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix several datatype input functions, notably <function>array_in()</function>,
      that were allowing unused bytes in their results to contain
      uninitialized, unpredictable values (Tom)
     </para>

     <para>
      This could lead to failures in which two apparently identical literal
      values were not seen as equal, resulting in the parser complaining
      about unmatched <literal>ORDER BY</literal> and <literal>DISTINCT</literal>
      expressions.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix a corner case in regular-expression substring matching
      (<literal>substring(<replaceable>string</replaceable> from
      <replaceable>pattern</replaceable>)</literal>) (Tom)
     </para>

     <para>
      The problem occurs when there is a match to the pattern overall but
      the user has specified a parenthesized subexpression and that
      subexpression hasn't got a match.  An example is
      <literal>substring('foo' from 'foo(bar)?')</literal>.
      This should return NULL, since <literal>(bar)</literal> isn't matched, but
      it was mistakenly returning the whole-pattern match instead (ie,
      <literal>foo</literal>).
     </para>
    </listitem>

    <listitem>
     <para>
      Update time zone data files to <application>tzdata</application> release 2008c (for
      DST law changes in Morocco, Iraq, Choibalsan, Pakistan, Syria, Cuba, and
      Argentina/San_Luis)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix incorrect result from <application>ecpg</application>'s
      <function>PGTYPEStimestamp_sub()</function> function (Michael)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix broken GiST comparison function for <filename>contrib/tsearch2</filename>'s
      <type>tsquery</type> type (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible crashes in <filename>contrib/cube</filename> functions (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix core dump in <filename>contrib/xml2</filename>'s
      <function>xpath_table()</function> function when the input query returns a
      NULL value (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <filename>contrib/xml2</filename>'s makefile to not override
      <literal>CFLAGS</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <literal>DatumGetBool</literal> macro to not fail with <application>gcc</application>
      4.3 (Tom)
     </para>

     <para>
      This problem affects <quote>old style</quote> (V0) C functions that
      return boolean.  The fix is already in 8.3, but the need to
      back-patch it was not realized at the time.
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-2-7">
  <title>Version 8.2.7</title>

  <note>
  <title>Date de sortie</title>
  <simpara>2008-03-17</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 8.2.6.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 8.2, voir <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration vers la version 8.2.7</title>

   <para>
    Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la version 8.2.X.
    However, you might need to <command>REINDEX</command> indexes on textual
    columns after updating, if you are affected by the Windows locale
    issue described below.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Fix character string comparison for Windows locales that consider
      different character combinations as equal (Tom)
     </para>

     <para>
      This fix applies only on Windows and only when using UTF-8
      database encoding.  The same fix was made for all other cases
      over two years ago, but Windows with UTF-8 uses a separate code
      path that was not updated.  If you are using a locale that
      considers some non-identical strings as equal, you may need to
      <command>REINDEX</command> to fix existing indexes on textual columns.
     </para>
    </listitem>

    <listitem>
     <para>
      Repair potential deadlock between concurrent <command>VACUUM FULL</command>
      operations on different system catalogs (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix longstanding <command>LISTEN</command>/<command>NOTIFY</command>
      race condition (Tom)
     </para>

     <para>
      In rare cases a session that had just executed a
      <command>LISTEN</command> might not get a notification, even though
      one would be expected because the concurrent transaction executing
      <command>NOTIFY</command> was observed to commit later.
     </para>

     <para>
      A side effect of the fix is that a transaction that has executed
      a not-yet-committed <command>LISTEN</command> command will not see any
      row in <structname>pg_listener</structname> for the <command>LISTEN</command>,
      should it choose to look; formerly it would have.  This behavior
      was never documented one way or the other, but it is possible that
      some applications depend on the old behavior.
     </para>
    </listitem>

    <listitem>
     <para>
      Disallow <command>LISTEN</command> and <command>UNLISTEN</command> within a
      prepared transaction (Tom)
     </para>

     <para>
      This was formerly allowed but trying to do it had various unpleasant 
      consequences, notably that the originating backend could not exit
      as long as an <command>UNLISTEN</command> remained uncommitted.
     </para>
    </listitem>

    <listitem>
     <para>
      Disallow dropping a temporary table within a
      prepared transaction (Heikki)
     </para>

     <para>
      This was correctly disallowed by 8.1, but the check was inadvertently
      broken in 8.2.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix rare crash when an error occurs during a query using a hash index
      (Heikki)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix memory leaks in certain usages of set-returning functions (Neil)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix input of datetime values for February 29 in years BC (Tom)
     </para>

     <para>
      The former coding was mistaken about which years were leap years.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <quote>unrecognized node type</quote> error in some variants of
      <command>ALTER OWNER</command> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Ensure <structname>pg_stat_activity</structname>.<structfield>waiting</structfield> flag
      is cleared when a lock wait is aborted (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix handling of process permissions on Windows Vista (Dave, Magnus)
     </para>

     <para>
      In particular, this fix allows starting the server as the Administrator
      user.
     </para>
    </listitem>

    <listitem>
     <para>
      Update time zone data files to <application>tzdata</application> release 2008a
      (in particular, recent Chile changes); adjust timezone abbreviation
      <literal>VET</literal> (Venezuela) to mean UTC-4:30, not UTC-4:00 (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <application>pg_ctl</application> to correctly extract the postmaster's port
      number from command-line options (Itagaki Takahiro, Tom)
     </para>

     <para>
      Previously, <literal>pg_ctl start -w</literal> could try to contact the
      postmaster on the wrong port, leading to bogus reports of startup
      failure.
     </para>
    </listitem>

    <listitem>
     <para>
      Use <option>-fwrapv</option> to defend against possible misoptimization
      in recent <application>gcc</application> versions (Tom)
     </para>

     <para>
      This is known to be necessary when building <productname>PostgreSQL</productname>
      with <application>gcc</application> 4.3 or later.
     </para>
    </listitem>


    <listitem>
     <para>
      Correctly enforce <varname>statement_timeout</varname> values longer
      than <literal>INT_MAX</literal> microseconds (about 35 minutes) (Tom)
     </para>

     <para>
      This bug affects only builds with <option>--enable-integer-datetimes</option>.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <quote>unexpected PARAM_SUBLINK ID</quote> planner error when
      constant-folding simplifies a sub-select (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix logical errors in constraint-exclusion handling of <literal>IS
      NULL</literal> and <literal>NOT</literal> expressions (Tom)
     </para>

     <para>
      The planner would sometimes exclude partitions that should not
      have been excluded because of the possibility of NULL results.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix another cause of <quote>failed to build any N-way joins</quote>
      planner errors (Tom)
     </para>

     <para>
      This could happen in cases where a clauseless join needed to be
      forced before a join clause could be exploited.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix incorrect constant propagation in outer-join planning (Tom)
     </para>

     <para>
      The planner could sometimes incorrectly conclude that a variable
      could be constrained to be equal to a constant, leading
      to wrong query results.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix display of constant expressions in <literal>ORDER BY</literal>
      and <literal>GROUP BY</literal> (Tom)
     </para>

     <para>
      An explictly casted constant would be shown incorrectly.  This could
      for example lead to corruption of a view definition during
      dump and reload.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <application>libpq</application> to handle NOTICE messages correctly
      during COPY OUT (Tom)
     </para>

     <para>
      This failure has only been observed to occur when a user-defined
      datatype's output routine issues a NOTICE, but there is no
      guaranteee it couldn't happen due to other causes.
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-8-2-6">
  <title>Version 8.2.6</title>

  <note>
  <title>Date de sortie</title>
  <simpara>2008-01-07</simpara>
  </note>

  <para>
   Cette version contient divers correctifs de la version 8.2.5,
   et inclut des corrections pour des failles de sécurité importantes.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 8.2, voir <xref linkend="release-8-2"/>.
  </para>

  <sect2>
   <title>Migration vers la version 8.2.6</title>

   <para>
    Les utilisateurs des versions 8.2.X n'ont pas besoin d'effectuer d'une
    étape de sauvegarde/restauration.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Empêche les fonctions d'index de s'exécuter avec les droits de
      l'utilisateur exécutant <command>VACUUM</command>,
      <command>ANALYZE</command>, etc (Tom)
     </para>

     <para>
      Les fonctions utilisées dans les expressions d'index et dans les index
      partiels sont évaluées quand une nouvelle entrée est faite dans la table.
      Depuis longtemps, ceci est un risque, un cheval de Troie pouvant être
      exécuté si une personne modifie une table appartenant à un utilisateur
      à qui on ne peut faire confiance (Notez ques les triggers, valeurs par
      défaut, contraintes de vérification, etc posent le même type de risque.)
      Mais les fonctions utilisées dans des index sont un danger supplémentaire
      car ils seront exécutés par des opérations de maintenance périodiques
      comme un <command>VACUUM FULL</command>, opérations généralement
      exécutées par des super-utilisateurs. Donc, un utilisateur cherchant à
      gagner accès au système peut exécuter du code avec des droits de
      super-utilisateur en ajoutant une définition d'index avec un code de
      cheval de Troie, puis attendre la prochaine exécution des opérations de
      maintenance. La correction s'arrange pour que les opérations standards de
      maintenance (ceci incluant <command>VACUUM</command>,
      <command>ANALYZE</command>, <command>REINDEX</command> et
      <command>CLUSTER</command>) s'exécutent en tant que propriétaire de la
      table plutôt qu'en tant qu'appelent, en utilisant le même mécanisme de
      bascule de droits utilisé dans les fonctions <literal>SECURITY
      DEFINER</literal>. Pour empêcher un coutournement de cette mesure de
      sécurité, l'exécution de <command>SET SESSION AUTHORIZATION</command>
      et <command>SET ROLE</command> est maintenant interdit dans un contexte
      <literal>SECURITY DEFINER</literal>. (CVE-2007-6600)
     </para>
    </listitem>

    <listitem>
     <para>
      Réparation de bogues relatifs aux expressions rationnelles (Tom, Will
      Drewry)
     </para>

     <para>
      Des motifs d'expressions rationnelles conçus très précisément pourraient
      causer des arrêts brutaux, des boucles infinies (ou presque) et/ou une
      consommation massive de mémoire. Tout ceci représente un risque de
      déni de service pour les applications qui acceptent des motifs de
      recherche via des expressions rationnelles à partir de sources indignes
      de confiance. (CVE-2007-4769, CVE-2007-4772, CVE-2007-6067)
     </para>
    </listitem>

    <listitem>
     <para>
      Oblige l'utilisation de l'authentification par mot de passe pour les
      utilisateurs standards de <filename>/contrib/dblink</filename>, c'est
      une mesure de sécurité (Joe)
     </para>

     <para>
      La correction apparue dans 8.2.5 était incomplète, car il ne corrigeait
      la faille que pour certaines fonctions <filename>dblink</filename>. 
      (CVE-2007-6601, CVE-2007-3278)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de bogues dans la ré-exécution des journaux de transaction
      pour les index GIN (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction pour que la construction d'un index GIN se fasse correctement
      quand <varname>maintenance_work_mem</varname> vaut 4&nbsp;Go ou plus
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Mise à jour des fichiers de données de fuseaux horaires avec la version
      2007k de <application>tzdata</application> (en particulier, les
      modifications récentes en Argentine) (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Améliore la gestion du planificateur pour les estimations de LIKE et
      des expressions rationnelles dans les locales autres que C (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un problème de vitesse de la planification pour des
      jointures bien imbriquées, ainsi qu'un choix faible de l'ordre de
      jointure (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un échec du planificateur dans certaines cas de
      <literal>WHERE false AND var IN (SELECT ...)</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que <command>CREATE TABLE ... SERIAL</command> et
      <command>ALTER SEQUENCE ... OWNED BY</command> ne modifient pas l'état
      <function>currval()</function> de la séquence (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Préserve les paramètres du tablespace et de stockage des index qui sont
      reconstruits suite à un <command>ALTER TABLE ... ALTER COLUMN
      TYPE</command> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que la restauration d'archive commence toujours une nouvelle
      timeline, plutôt que ne le faire que quand une heure d'arrêt de la
      restauration ne soit utilisée (Simon)
     </para>

     <para>
      Ceci évite un risque très particulier de tentative de ré-écriture sur
      une copie archivée existante du dernier journal de transaction. Cela
      semble plus simple et plus clair que la définition originale.
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que le <command>VACUUM</command> n'utilise pas tout
      <varname>maintenance_work_mem</varname> quand la table est trop petite
      pour que cela soit utilisé (Alvaro)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un arrêt brutal potentiel dans
      <function>translate()</function> lors de l'utilisation d'un encodage
      multi-octets de la base (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que <function>corr()</function> renvoie le résultat correct pour les
      valeurs négatives de corrélation (Neil)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un dépassement de capacité dans <literal>extract(epoch from
      interval)</literal> pour les intervalles excédant 68 ans (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de PL/Perl pour qu'il n'échoue pas quand une expression
      rationnelle UTF-8 est utilisée dans une fonction de confiance
      (Andrew)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de PL/Perl pour continuer l'exécution quand le langage Perl
      de la plateforme définit le type <literal>bool</literal> en tant que
      <literal>int</literal> plutôt qu'en tant que <literal>char</literal>
      (Tom)
     </para>

     <para>
      Bien que ceci peut arriver partout, aucune construction standard de Perl
      ne faisait cela... jusqu'à <productname>Mac OS X</productname> 10.5.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de PL/Python pour un fonctionnement correct avec Python 2.5
      sur les machines 64-bit (Marko Kreen)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de PL/Python pour ne pas causer un arrêt brutal sur des
      messages d'exception longs (Alvaro)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de <application>pg_dump</application> pour qu'il gère
      correctement les tables héritées qui ont des expressions par défaut
      différentes de celles de leur parents (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un crash de <application>libpq</application> quand
      <varname>PGPASSFILE</varname> fait référence à un fichier qui n'est
      pas un fichier texte (Martin Pitt)
     </para>
    </listitem>

    <listitem>
     <para>
      Corrections de l'analyseur <application>ecpg</application> (Michael)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction réalisée pour que <filename>contrib/pgcrypto</filename>
      puisse se défendre contre les bibliothèques
      <application>OpenSSL</application> qui échouent sur des clés de plus de
      128 bits&nbsp;; ce qui est le cas sur au moins certaines versions de
      Solaris (Marko Kreen)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction pour que <function>crosstab()</function>, du module
      <filename>contrib/tablefunc</filename>, gère les rowid NULL comme catégorie (Joe)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction des routines d'affichage de <type>tsvector</type> et
      <type>tsquery</type> pour échapper correctement les antislashs (Teodor,
      Bruce)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un arrêt brutal de <function>to_tsvector()</function> sur
      les très grosses chaînes en entrée (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Nécessite l'utilisation d'une version spécifique
      d'<productname>Autoconf</productname> lors de la re-génération du script
      <command>configure</command> (Peter)
     </para>

     <para>
      Ceci affecte seulement les développeurs et les créateurs de package.
      La modification a pour but d'empêcher l'utilisation accidentelle de
      combinaisons non testées des versions d'<productname>Autoconf</productname>
      et de <productname>PostgreSQL</productname>. Vous pouvez supprimer la
      vérification de la version si vous voulez vraiment utiliser une version
      différente d'<productname>Autoconf</productname>, mais c'est de votre
      responsabilité.
     </para>
    </listitem>

    <listitem>
     <para>
      Mise à jour de la vérification de la configuration de
      <function>gettimeofday</function> pour que
      <productname>PostgreSQL</productname> puisse être construit sur les
      nouvelles versions de <productname>MinGW</productname> (Magnus)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

  <sect1 id="release-8-2-5">
   <title>Version 8.2.5</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2007-09-17</simpara>
   </note>

   <para>
    Cette version contient divers correctifs de la version 8.2.4.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 8.2, voir <xref linkend="release-8-2"/>.
   </para>

   <sect2>
    <title>Migration vers la version 8.2.5</title>

    <para>
     Les utilisateurs des versions 8.2.X n'ont pas besoin d'effectuer d'export/import.
    </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

    <itemizedlist>

     <listitem>
      <para>
       <literal>ALTER DOMAIN ADD CONSTRAINT</literal> est corrigé pour les cas qui
       impliquent des domaines de domaines (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       <command>CREATE DOMAIN ... DEFAULT NULL</command> fonctionne
       correctement (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       quelques problèmes avec les jointures externes, notamment
       la mauvaise estimation de taille pour
       <literal>t1 LEFT JOIN t2 WHERE t2.col IS NULL</literal>, sont corrigés (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       le type de données <type>interval</type> accepte désormais les entrées
       constituées uniquement de millisecondes ou microsecondes (Neil)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       le nom du fuseau horaire peut désormais apparaître avant l'année dans
       les saisies de type <type>timestamp</type> (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       correctif pour les index <acronym>GIN</acronym> utilisés par
       <filename>/contrib/tsearch2</filename> (Teodor)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       l'insertion des index rtree est accélérée (Teodor)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       la journalisation excessive des messages d'erreur <acronym>SSL</acronym>
       est corrigée (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       la journalisation est corrigée de sorte que les messages ne sont plus
       entremêlés lorsque syslog est utilisé (Andrew)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       le plantage lorsque la journalisation de
       <varname>log_min_error_statement</varname> n'a plus de mémoire
       disponible est corrigé (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       la gestion incorrecte de certains cas limites de clés étrangères est
       corrigée (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       <function>stddev_pop(numeric)</function> and
       <function>var_pop(numeric)</function> sont corrigées (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       <command>REINDEX</command> et <command>CLUSTER</command> ne plantent
       plus en tentant de travailler sur les tables temporaires d'autres
       sessions (Alvaro)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       les règles de la base de données concernant les fuseaux horaires, en
       particulier les changements prévus pour la Nouvelle-Zélande, sont mises
       à jour (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       les sockets et sémaphores Windows sont améliorés (Magnus)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       <command>pg_ctl -w</command> fonctionne désormais correctement en mode
       service pour Windows (Dave Page)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       le bogue d'allocation de mémoire lors de l'utilisation de
       <application>MIT Kerberos</application> sous Windows est corrigé
       (Magnus)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       le nom du fuseau horaire (<literal>%Z</literal>) dans les estampilles
       temporelles des journaux sous Windows sont supprimés parce qu'il peut y
       avoir des incompatibilités d'encodage (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       les utilisateurs dépourvus de droit superutilisateur qui utilisent 
       <filename>/contrib/dblink</filename> ne peuvent utiliser que
       l'authentification par mot de passe, pour des raisons de sécurité
       (Joe)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       seuls les superutilisateurs peuvent utiliser
       <filename>/contrib/pgstattuple</filename>, pour des raisons de sécurité
       (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       <filename>/contrib/intarray</filename> ne peut plus utiliser sa classe
       d'opérateurs GIN comme classe par défaut (cela causait des problèmes lors
       des exports/imports) (Tom).
      </para>
     </listitem>

    </itemizedlist>

   </sect2>
  </sect1>

  <sect1 id="release-8-2-4">
   <title>Version 8.2.4</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2007-04-23</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la 8.2.3, dont la
    correction d'une faille de sécurité.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 8.2, voir <xref linkend="release-8-2"/>.
   </para>

   <sect2>
    <title>Migration vers la version 8.2.4</title>

    <para>
     Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la
     version 8.2.
   </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

    <itemizedlist>

     <listitem>
     <para>
      Supporte le placement explicite du schéma des tables temporaires dans
      <varname>search_path</varname>, et désactive sa recherche pour les fonctions
      et opérateurs (Tom)
     </para>
     <para>
      Ceci est nécessaire pour autoriser une fonction en mode security-definer
      à configurer une valeur sécurisée de <varname>search_path</varname>. Sans cela,
      un utilisateur SQL sans droit peut utiliser des objets temporaires pour
      exécuter du code avec une fonction possédant les droits du créateur de
      la fonction (CVE-2007-2138). Voir <command>CREATE FUNCTION</command> pour plus
      d'informations.
     </para>
     </listitem>

     <listitem>
     <para>
      Correction de <varname>shared_preload_libraries</varname> pour Windows
      en forçant le rechargement sur chaque processus serveur (Korry Douglas)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction de <function>to_char()</function> pour qu'il localise
      correctement les noms des jours et mois en majuscule/minuscule
      (Pavel Stehule)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'arrêts brutaux dans <filename>/contrib/tsearch2</filename> (Teodor)
     </para>
     </listitem>

     <listitem>
     <para>
      Nécessite l'exécution de <command>COMMIT PREPARED</command> dans la
      même base que celle utilisée par la transaction qui l'a préparé
      (Heikki)
     </para>
     </listitem>

     <listitem>
     <para>
      Autorise <command>pg_dump</command> à faire des sauvegardes binaires
      d'une taille supérieure à 2&nbsp;Go sur Windows (Magnus)
     </para>
     </listitem>

     <listitem>
     <para>
      Nouvelle <acronym>FAQ</acronym> en chinois traditionel (Taiwan)
      (Zhou Daojing)
     </para>
     </listitem>

     <listitem>
     <para>
      Empêche le collecteur de statistiques d'écrire trop fréquemment
      sur le disque (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'un bogue pouvant corrompre des données dans la façon
      dont <command>VACUUM FULL</command> gère les chaînes <command>UPDATE</command>
      (Tom, Pavan Deolasee)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'un bogue dans les domaines qui utilisent
      des types array (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction de <command>pg_dump</command> pour qu'il sauvegarde la
      séquence d'une colonne de type serial lorsque l'utilisateur
      sélectionne l'option <option>-t</option> sans sauvegarder la
      table propriétaire (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Corrections du planificateur, avec des améliorations sur la logique de
      sélection des jointures externes et des parcours de bitmap (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction des possibles mauvaises réponses ou arrêts brutaux quand
      une fonction PL/pgSQL essaie de quitter (avec <literal>RETURN</literal>)
      à l'intérieur d'un bloc <literal>EXCEPTION</literal> (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'un PANIC lors de l'élargissement d'un index haché
      (bug introduit en 7.4.15) (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction des spécifications des fuseaux horaires POSIX
      pour suivre les nouvelles règles USA DST (Tom)
     </para>
     </listitem>

    </itemizedlist>

   </sect2>
  </sect1>

  <sect1 id="release-8-2-3">
   <title>Version 8.2.3</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2007-02-07</simpara>
   </note>

   <para>
    Cette version contient deux corrections de la 8.2.2.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 8.2, voir <xref linkend="release-8-2"/>.
   </para>

   <sect2>
    <title>Migration vers la version 8.2.3</title>

    <para>
     Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la
     version 8.2.
    </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

    <itemizedlist>

     <listitem>
     <para>
      Suppression d'une vérification trop restrictive de la longueur du type
      dans les contraintes et les index fonctionnels (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'une optimisation pour que MIN/MAX puissent de nouveau utiliser
      des index dans des sous-requêtes (Tom)
     </para>
     </listitem>

    </itemizedlist>

   </sect2>
  </sect1>

  <sect1 id="release-8-2-2">
   <title>Version 8.2.2</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2007-02-05</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la 8.2.1, dont la
    correction d'une faille de sécurité.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 8.2, voir <xref linkend="release-8-2"/>.
   </para>

   <sect2>
    <title>Migration vers la version 8.2.2</title>

    <para>
     Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la
     version 8.2.
    </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

    <itemizedlist>

     <listitem>
     <para>
      Suppression de failles de sécurité qui permettent à des utilisateurs
      connectés de lire la mémoire du serveur (backend)
      (Tom)
     </para>
     <para>
      Ces vulnérabilités impliquent de supprimer la vérification habituelle
      qu'une fonction renvoie le type de données qu'elle a déclaré, et de
      modifier le type de données de la colonne d'une table utilisée dans une
      fonction SQL (CVE-2007-0555, CVE-2007-0556).
      Cette erreur peut être facilement exploitée pour causer un arrêt brutal
      du serveur et pourrait être utilisée, en principe, pour lire un contenu
      de la base, contenu que l'utilisateur ne devrait pas pouvoir accéder.
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'un bogue rare où la séparation de page d'un index btree
      pourrait échouer à cause du choix d'un point de séparation infaisable.
      (Heikki Linnakangas)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction des scripts de compilation pour Borland C (L Bayuk)
     </para>
     </listitem>

     <listitem>
     <para>
      Gestion correcte par <function>to_char('CC')</function> des années finissant en
      <literal>00</literal> (Tom)
     </para>
     <para>
      L'année 2000 est dans le 20ème siècle, pas dans le 21ème.
     </para>
     </listitem>

     <listitem>
     <para>
      Amélioration des régionalisations de
      <filename>/contrib/tsearch2</filename> (Tatsuo, Teodor)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'une vérification incorrecte des droits dans la vue
      <literal>information_schema.key_column_usage</literal> (Tom)
     </para>
     <para>
      Le symptôme se déclare avec des erreurs <quote>relation with OID nnnnn
      does not exist</quote>. Pour obtenir cette correction sans avoir à exécuter
      un <command>initdb</command>, il convient d'utiliser 
      <command>CREATE OR REPLACE VIEW</command> pour installer la définition
      corrigée disponible dans
      <filename>share/information_schema.sql</filename>. Cela devra être
      effectué pour chaque base de données.
     </para>
     </listitem>

     <listitem>
     <para>
      Amélioration des performances de <command>VACUUM</command> pour les bases
      de données avec de nombreuses tables (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'un bogue rare dans Assert() déclenché par <literal>UNION</literal> (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction de résultats potentiellement incorrects lors d'une recherche
      par index en utilisant les conditions d'inégalités de <literal>ROW</literal>
      (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Amélioration de la sécurité lors du traitement de caractères multi-octets
      pour les séquences UTF8 de plus de trois octets (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'échecs erronés de type <quote>droit refusé</quote> survenant
      sur Windows à cause de tentatives de fsync sur des fichiers déjà
      supprimés (Magnus, Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'un bogue qui pouvait arrêter le récupérateur de statistiques
      sur Windows (Magnus)
     </para>

     <para>
      Ceci a pour conséquences d'empêcher le bon fonctionnement de l'autovacuum.
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'arrêts brutaux possibles quand une fonction PL/pgSQL en cours
      d'utilisation est mise à jour (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Amélioration de la gestion des types domaines par PL/pgSQL (Sergiy Vyshnevetskiy, Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'erreurs possibles dans le traitement des blocs d'exception de
      PL/pgSQL (Tom)
     </para>
     </listitem>

    </itemizedlist>

   </sect2>
  </sect1>

  <sect1 id="release-8-2-1">
   <title>Version 8.2.1</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2007-01-08</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la 8.2.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 8.2, voir <xref linkend="release-8-2"/>.
   </para>

   <sect2>
    <title>Migration vers la version 8.2.1</title>

    <para>
     Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la
     version 8.2.
    </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

    <itemizedlist>

     <listitem>
      <para>
       Correction d'arrêts brutaux avec <literal>SELECT</literal> ...
       <literal>LIMIT ALL</literal> (ainsi qu'avec <literal>LIMIT NULL</literal>)
       (Tom)
      </para>
     </listitem>

     <listitem>
      <para>
       Plusieurs corrections sur <filename>/contrib/tsearch2</filename> (Teodor)
      </para>
     </listitem>

     <listitem>
      <para>
       Sur Windows, s'assure que les traces provenant du système d'exploitation
       utilisent le jeu de caractères <acronym>ASCII</acronym> (Hiroshi Saito)
      </para>

      <para>
       Ceci corrige un problème de conversion quand il y a une différence entre
       le jeu de caractères du système d'exploitation et celui du serveur de
       bases de données.
      </para>
     </listitem>

     <listitem>
      <para>
       Correction du lien Windows de <application>pg_dump</application> en utilisant
       <filename>win32.mak</filename>
       (Hiroshi Saito)
      </para>
     </listitem>

     <listitem>
      <para>
       Correction d'erreurs du planificateur pour les requêtes à jointure
       externe (Tom)
      </para>
     </listitem>

     <listitem>
      <para>
       Correction de différents problèmes dans les requêtes impliquant des
       sous-SELECT (Tom)
      </para>
     </listitem>

     <listitem>
      <para>
       Correction d'un arrêt brutal potentiel dans SPI lors de l'annulation
       d'une sous-transaction (Tom)
      </para>

      <para>
       Ceci affecte toutes les fonctions PL car elles utilisent toutes SPI.
      </para>
     </listitem>

     <listitem>
      <para>
       Amélioration de la vitesse de construction de la documentation
       <acronym>PDF</acronym> (Peter)
      </para>
     </listitem>

     <listitem>
      <para>
       Nouvel ajout de l'abréviation du fuseau horaire <acronym>JST</acronym> (Japan) (Tom)
      </para>
     </listitem>

     <listitem>
      <para>
       Amélioration des décisions d'optimisation relatives aux parcours d'index
       (Tom)
      </para>
     </listitem>

     <listitem>
      <para>
       Fait que <application>psql</application> affiche les caractères
       multi-octets comme avant plutôt que de les afficher comme
       <literal>\u</literal> (Tom)
      </para>
     </listitem>

     <listitem>
      <para>
       Amélioration de l'utilisation des expressions rationnelles qui utilisent
       des parenthèses (Tom)
      </para>

      <para>
       Ceci améliore aussi les performances de l'<literal>\d</literal> de
       <application>psql</application>.
      </para>
     </listitem>

     <listitem>
      <para>
       Fait que <application>pg_dumpall</application> suppose que les bases de
       données ont le droit <literal>CONNECT</literal> pour public lors d'une
       sauvegarde d'un serveur antérieure à la 8.2 (Tom)
      </para>

      <para>
       Ceci empêche le comportement précédent où tout le monde pouvait se
       connecter à une base si le <filename>pg_hba.conf</filename> l'autorisait.
      </para>
     </listitem>

    </itemizedlist>

   </sect2>
  </sect1>
 
  <sect1 id="release-8-2">
   <title>Version 8.2</title>

   <note>
    <title>Date de sortie</title>
    <simpara>2006-12-05</simpara>
   </note>

   <sect2>
    <title>Overview</title>
 
    <para>
     Cette version ajoute beaucoup de nouvelles fonctionnalités et
     d'améliorations de performances demandées par les utilisateurs. Parmi
     celles-ci&nbsp;:

    <itemizedlist>

      <listitem>
       <para>
        Amélioration du langage de requêtes avec <command>INSERT/UPDATE/DELETE
        RETURNING</command>, les listes <literal>VALUES</literal> multi-lignes
        et les alias optionnels de table cible pour
        <command>UPDATE</command>/<command>DELETE</command>
       </para>
      </listitem>

      <listitem>
       <para>
        Création d'index sans blocage des opérations concurrentes
        <command>INSERT</command>/<command>UPDATE</command>/<command>DELETE</command>
       </para>
      </listitem>

      <listitem>
       <para>
        Beaucoup d'améliorations dans l'optimisation des requêtes, avec un
	support d'un réordonnancement des jointures externes
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration des performances du tri avec un usage plus restreint de la
	mémoire
       </para>
      </listitem>

      <listitem>
       <para>
        Verrouillage plus efficace avec une meilleure gestion de la concurrence
       </para>
      </listitem>

      <listitem>
       <para>
        Un VACUUM plus efficace
       </para>
      </listitem>

      <listitem>
       <para>
        Une administration plus simple des serveurs de secours
	semi-automatique
	(<foreignphrase>warm standby servers</foreignphrase>)
       </para>
      </listitem>

      <listitem>
       <para>
        Support d'un facteur de remplissage (<literal>FILLFACTOR</literal>) pour
	les tables et index
       </para>
      </listitem>

      <listitem>
       <para>
        Ajout dans la configuration de la surveillance, des journaux et des
	performances
       </para>
      </listitem>

      <listitem>
       <para>
        Plus de contrôle sur la création et la suppression des objets
       </para>
      </listitem>

      <listitem>
       <para>
        Les relations d'héritage des tables peuvent être définies et supprimées
	sur des tables déjà existantes
       </para>
      </listitem>

      <listitem>
       <para>
        <command>COPY TO</command> peut copier le résultat de toute instruction
        <command>SELECT</command>
       </para>
      </listitem>

      <listitem>
       <para>
        Améliorations sur les tableaux, dont le support des éléments NULL
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration des fonctions d'agrégat, avec les agrégats à entrées
	multiples et les fonctions statistiques de SQL:2003
       </para>
      </listitem>

      <listitem>
       <para>
        Beaucoup d'améliorations dans les modules <filename>contrib/</filename>
       </para>
      </listitem>

     </itemizedlist>

    </para>

   </sect2>
 
   <sect2>
    <title>Migration vers la version 8.2</title>

    <para>
     Une sauvegarde/restauration utilisant <application>pg_dump</application>
     est requise pour ceux qui souhaitent migrer leurs données d'une version
     précédente.
    </para>

    <para>
     Prenez note des incompatibilités suivantes&nbsp;:
    </para>

    <itemizedlist>

      <listitem>
       <para>
        Initialise par défaut <link
        linkend="guc-escape-string-warning"><varname>escape_string_warning</varname></link>
        à <literal>on</literal> (Bruce)
       </para>

       <para>
        Un avertissement est affiché si des échappements par antislash sont
        utilisés dans des <link linkend="sql-syntax-strings">chaînes non
        échappées (ne commençant pas par <literal>E</literal>)</link>.
       </para>
      </listitem>

      <listitem>
       <para>
        Modifie la <link linkend="sql-syntax-row-constructors">syntaxe du
        constructeur de lignes</link> (<literal>ROW(...)</literal>) pour que
        les éléments de liste <literal>foo.*</literal> soient étendues en une
        liste de leurs champs membres, plutôt que de créer un champ de type
        ligne imbriqué comme précédemment (Tom)
       </para>

       <para>
        Le nouveau comportement est plus utile car il permet, par exemple, aux
        déclencheurs de détecter les modifications de données avec
        <literal>IF row(new.*) IS DISTINCT FROM row(old.*)</literal>.
        L'ancien comportement est toujours disponible en oubliant <literal>.*</literal>.
       </para>
      </listitem>

      <listitem>
       <para>
        Fait en sorte que la <link linkend="row-wise-comparison">comparaisons
        de lignes</link> suive la sémantique du standard
        <acronym>SQL</acronym> et lui permettent d'être utilisée dans les
        parcours d'index (Tom)
       </para>

       <para>
        Auparavant, les comparaisons d'égalité et de différence de lignes
	suivaient le standard mais les comparaisons de type &lt; &lt;= &gt;
	&gt;= ne le faisaient pas. Une comparaison de ligne peut maintenant
	être utilisé en tant que contrainte d'index pour un index
	multi-colonne correspondant à la valeur de la ligne.
       </para>
      </listitem>

      <listitem>
       <para>
        Les tests <link linkend="functions-comparison">row <literal>IS <optional>NOT</optional> NULL</literal></link>
        suivent la sémantique du standard <acronym>SQL</acronym> (Tom)
       </para>

       <para>
        Le comportement précédent se conformait au standard pour les cas
	simples avec <literal>IS NULL</literal>, mais <literal>IS NOT NULL</literal>
	renvoyait true si aucun champ de ligne n'était différent de NULL alors
	que le standard demande qu'il renvoit NULL seulement quand tous les
	champs sont différents de NULL.
       </para>
      </listitem>

      <listitem>
       <para>
        <link linkend="sql-set-constraints"><command>SET
        CONSTRAINT</command></link> affecte seulement une seule contrainte (Kris Jurka)
       </para>

       <para>
        Dans les versions précédentes, <command>SET CONSTRAINT</command> modifiait
	toutes les contraintes avec un nom qui correspondait. Dans cette version,
	le chemin de recherche du schéma est utilisé pour modifier seulement la
	première contrainte qui correspond. Une spécification du schéma est aussi
	possible. Ceci permet un meilleur respect du standard SQL.
       </para>
      </listitem>

      <listitem>
       <para>
        Suppression de la règle <literal>RULE</literal> pour les tables pour
	des raisons de sécurité (Tom)
       </para>

       <para>
        À partir de cette version, seul le propriétaire d'une table peut créer
	ou modifier les règles d'une table. Pour la compatibilité ascendante,
	<command>GRANT</command>/<command>REVOKE RULE</command> est toujours
	accepté mais ne fait rien.
       </para>
      </listitem>

      <listitem>
       <para>
        Améliorations de la comparaison de tableau (Tom)
       </para>

       <para>
        Maintenant, les dimensions des tableaux sont aussi comparées.
       </para>
      </listitem>

      <listitem>
       <para>
        Modification de la <link linkend="functions-array">concaténation de
	tableaux</link> pour que le comportement corresponde à celui indiqué
	dans la documentation (Tom)
       </para>

       <para>
        Le comportement précédent est modifié quand la concaténation modifie
	la limite basse du tableau.
       </para>
      </listitem>

      <listitem>
       <para>
        Les options en ligne de commande de <application>postmaster</application>
        et <link linkend="app-postgres"><application>postgres</application></link>
        sont maintenant identiques (Peter)
       </para>

       <para>
        Ceci permet au postmaster de passer les arguments à chaque processus
        fils sans utiliser <literal>-o</literal>.
       </para>
      </listitem>

      <listitem>
       <para>
        Le lien symbolique <application>postmaster</application> est maintenant
	obsolète (Peter)
       </para>

       <para>
        Les commandes <application>postmaster</application> et <application>postgres</application>
        agissent maintenant de façon identique, le comportement étant déterminé
	par les options en ligne de commande. Le lien sympbolique
	<application>postmaster</application> est conservé pour compatibilité
	mais n'est plus vraiment nécessaire.
       </para>
      </listitem>

      <listitem>
       <para>
        <link
        linkend="guc-log-duration"><varname>log_duration</varname></link>
        affiche la durée même si la requête n'est pas affichée (Tom)
       </para>

       <para>
        Dans les versions précédentes, <varname>log_duration</varname> affichait
	seulement la durée quand la requête apparaissait auparavant dans les
	journaux.
       </para>
      </listitem>

      <listitem>
       <para>
        <link
        linkend="functions-formatting"><function>to_char(time)</function></link>
        et <link
        linkend="functions-formatting"><function>to_char(interval)</function></link>
        traitent <literal>HH</literal> et <literal>HH12</literal> comme des
	intervals sur 12h.
       </para>

       <para>
        La plupart des applications devrait utiliser <literal>HH24</literal> sauf
	si elles veulent un affichage sur 12h.
       </para>
      </listitem>

      <listitem>
       <para>
        Zero unmasked bits in conversion from <link
        linkend="datatype-inet"><type>INET</type></link> to <link
        linkend="datatype-inet"><type>CIDR</type></link> (Tom)
       </para>

       <para>
        Ceci vous assure que la valeur convertie est réellement valide pour
        <type>CIDR</type>.
       </para>
      </listitem>

      <listitem>
       <para>
        Suppression de la variable de configuration
	<varname>australian_timezones</varname> (Joachim Wieland)
       </para>

       <para>
        Cette variable a été rendue obsolète par une fonctionnalité plus
	générale dans la configuration des abréviations de fuseaux horaires.
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration de l'estimation du coût pour les parcours d'index
	de boucles imbriquées (Tom)
       </para>

       <para>
        Ceci élimine le besoin de configurer des valeurs ridiculement petites
	de <link
        linkend="guc-random-page-cost"><varname>random_page_cost</varname></link>.
        Si vous avez utilisé une valeur trop petite de <varname>random_page_cost</varname>,
        merci de vérifier vos cas de tests.
       </para>
      </listitem>

      <listitem>
       <para>
        Modification de <function>PQdsplen()</function> dans
	<link linkend="libpq"><application>libpq</application></link>
        pour que cette fonction renvoie une valeur utile (Martijn
        van Oosterhout)
       </para>
      </listitem>

      <listitem>
       <para>
        Déclare que <function>PQgetssl()</function>
	(<link linkend="libpq"><application>libpq</application></link>)
	renvoie <literal>void *</literal> à la place de
        <literal>SSL *</literal> (Martijn van Oosterhout)
       </para>

       <para>
        Ceci permet aux applications d'utiliser la fonction sans inclure les
	en-têtes d'OpenSSL.
       </para>
      </listitem>

      <listitem>
       <para>
        les modules chargeables, en langage C, doivent maintenant inclure un
	appel à la macro
        <link linkend="xfunc-c-dynload"><literal>PG_MODULE_MAGIC</literal></link>
        pour une vérification de la compatibilité de la version
        (Martijn van Oosterhout)
       </para>
      </listitem>

      <listitem>
       <para>
        Pour des raisons de sécurité, les modules utilisés par une fonction
	PL/PerlU ne sont plus disponibles pour les fonctions PL/Perl (Andrew)
       </para>
       <note>
        <para>
         Ceci implique aussi que les données ne peuvent plus êtres partagées
	 entre une fonction PL/Perl et une fonction PL/PerlU. Certaines
	 installations Perl n'ont pas été compilées avec les bons drapeaux
	 pour permettre à plusieurs interpréteurs d'exister au sein d'un
	 même processus. Dans ce cas, PL/Perl et PL/PerlU ne peuvent pas être
	 utilisés dans un même processus fils. La solution est d'obtenir une
	 installation Perl qui supporte plusieurs interpréteurs.
        </para>
       </note>
      </listitem>

      <listitem>
       <para>
        Dans <filename>contrib/xml2/</filename>, renommage de
	<function>xml_valid()</function> en
        <function>xml_is_well_formed()</function> (Tom)
       </para>

       <para>
        <function>xml_valid()</function> restera pour des raisons de
	compatibilité ascendante mais son comportement changera pour réaliser
	une vérification de schéma dans une prochaine version.
       </para>
      </listitem>

      <listitem>
       <para>
        Suppression de <filename>contrib/ora2pg/</filename>, maintenant sur
        <ulink url="http://www.samse.fr/GPL/ora2pg"></ulink>
       </para>
      </listitem>

      <listitem>
       <para>
        Suppression des modules contrib qui ont migré sur PgFoundry&nbsp;:
        <filename>adddepend</filename>, <filename>dbase</filename>, <filename>dbmirror</filename>,
        <filename>fulltextindex</filename>, <filename>mac</filename>, <filename>userlock</filename>
       </para>
      </listitem>

      <listitem>
       <para>
        Suppression des modules contrib abandonnés&nbsp;:
        <filename>mSQL-interface</filename>, <filename>tips</filename>
       </para>
      </listitem>

      <listitem>
       <para>
        Suppression des ports <acronym>QNX</acronym> et <acronym>BEOS</acronym> (Bruce)
       </para>

       <para>
        Ces ports n'ont plus de mainteneurs actifs.
       </para>
      </listitem>

    </itemizedlist>
   </sect2>
 
   <sect2>
    <title>Modifications</title>
 
    <para>
     Vous trouverez ci-dessous une liste détaillée des modifications appliquées
     à <productname>PostgreSQL</productname> 8.2.
    </para>
 
    <sect3>
     <title>Améliorations des performances</title>
     <itemizedlist>

      <listitem>
       <para>
        Autorise le planificateur à réordonner les <link
        linkend="queries-join">jointures externes</link> dans certaines
	circonstances (Tom)
       </para>

       <para>
        Dans les versions précédentes, les jointures externes ont toujours été
	évaluées dans l'ordre donné par la requête. Cette modification permet
	à l'optimiseur de requête de considérer la modification de l'ordre des
	jointures externes quand il peut s'assurer que ce changement peut se
	faire sans altérer la signification de la requête. Ceci peut faire une
	différence considérable au niveau des performances pour les requêtes
	impliquant plusieurs jointures externes ou un mixe entre jointures
	internes et jointures externes.
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration de l'efficacité des clauses <link
        linkend="functions-comparisons"><literal>IN</literal>
        (liste d'expressions)</link> (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration de la vitesse des tris et réduction de l'utilisation
	mémoire (Simon, Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration des performances des sous-transaction (Alvaro, Itagaki Takahiro,
        Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Ajout de <literal>FILLFACTOR</literal> pour la création des <link
        linkend="sql-createtable">tables</link> et <link
        linkend="sql-createindex">index</link> (ITAGAKI Takahiro)
       </para>

       <para>
        Ceci amène un espace libre plus important dans chaque page de table et
	d'index, donnant des performances améliorées au fur et à mesure que la
	base grossit. C'est tout particulièrement vrai dans le cas d'un cluster.
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration des valeurs par défaut pour les paramètres <link
        linkend="guc-shared-buffers"><varname>shared_buffers</varname></link>
        et <varname>max_fsm_pages</varname>
        (Andrew)
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration de la performance des verrous en cassant les tables du
	gestionnaire de verrous en plusieurs sections (Tom)
       </para>

       <para>
        Le verrouillage est ainsi plus fin, réduisant du coup les problèmes.
       </para>
      </listitem>

      <listitem>
       <para>
        Réduction des besoins en verrou pour les parcours séquentiels (Qingqing
        Zhou)
       </para>
      </listitem>

      <listitem>
       <para>
        Réduction du verrouillage requis pour la création et la destruction de
	bases de données (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration de la sélectivité de l'optimiseur pour les estimations de
	<link linkend="functions-like"><literal>LIKE</literal></link>, <link
        linkend="functions-like"><literal>ILIKE</literal></link> et des
        <link linkend="functions-posix-regexp">expressions rationnelles</link>
        (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration de la planification des jointures des <link
	linkend="ddl-inherit">tables héritées</link> et des vues <link
	linkend="queries-union"><literal>UNION ALL</literal></link> (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Permet l'application de l'<link
	linkend="guc-constraint-exclusion">exclusion des contraintes</link> aux
	requêtes <command>UPDATE</command> et <command>DELETE</command> avec
	<link linkend="ddl-inherit">héritage</link> (Tom)
       </para>

       <para>
        <command>SELECT</command> honorait déjà cette exclusion.
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration de la planification des clauses <literal>WHERE</literal>
	constantes comme une condition qui dépend seulement des variables
	héritées d'un niveau de requête externe (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Les instructions préparées, sans nom et au niveau protocole sont
	re-planifiées pour chaque ensemble de valeurs <literal>BIND</literal>
	(Tom)
       </para>

       <para>
        Ceci améliore les performances car les valeurs exactes des paramètres
	peuvent être utilisées dans le plan.
       </para>
      </listitem>

      <listitem>
       <para>
        Accélère l'opération VACUUM des index B-Tree (Heikki Linnakangas,
        Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Évite un parcours supplémentaire des tables sans index pendant un <link
        linkend="sql-vacuum"><command>VACUUM</command></link> (Greg Stark)
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration de l'indexage multi-colonnes <link
	linkend="gist"><acronym>GiST</acronym></link> (Oleg, Teodor)
       </para>
      </listitem>

      <listitem>
       <para>
        Suppression des entrées mortes des index avant la séparation d'une
	page B-Tree (Junji Teramoto)
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>Modifications serveur</title>
     <itemizedlist>

      <listitem>
       <para>
        Permet de forcer un basculement vers un nouveau journal de transactions
	(Simon, Tom)
       </para>

       <para>
        Ceci est utile pour conserver la synchronisation des serveurs esclaves
	en attente et du maître. Le changement du journal de transaction
	survient aussi automatiquement lors de l'exécution de <link
        linkend="functions-admin"><function>pg_stop_backup()</function></link>.
        Ceci vous assure que tous les journaux de transactions nécessaires à
	la récupération sont archivés immédiatement.
       </para>
      </listitem>

      <listitem>
       <para>
        Ajout des fonctions d'information sur les <acronym>WAL</acronym> (Simon)
       </para>

       <para>
        Ajout de fonctions d'interrogation sur le point d'insertion du journal
	de transaction en cours et de détermination des noms des fichiers
        <acronym>WAL</acronym> à partir des emplacements
        <acronym>WAL</acronym> hexadécimaux affichés par la fonction <link
        linkend="functions-admin"><function>pg_stop_backup()</function></link>
        mais aussi par d'autres fonctions en relation.
       </para>
      </listitem>

      <listitem>
       <para>
        Amélioration de la récupération après un arrêt brutal lors d'une
	ré-exécution d'un <acronym>WAL</acronym> (Simon)
       </para>

       <para>
        Maintenant, le serveur réalise des points de vérification durant la
	récupération des <acronym>WAL</acronym>. Donc, en cas d'arrêt brutal,
        la récupération des <acronym>WAL</acronym> restants est raccourcie.
	Ceci élimine aussi le besoin pour les serveurs en attente de rejouer
	tous les journaux depuis la sauvegarde de base s'ils s'arrêtent
	brutalement.
       </para>
      </listitem>

      <listitem>
       <para>
        Improve reliability of long-term <acronym>WAL</acronym> replay
        (Heikki, Simon, Tom)
       </para>

       <para>
        Formerly, trying to roll forward through more than 2 billion
        transactions would not work due to XID wraparound.  This meant
        warm standby servers had to be reloaded
        from fresh base backups periodically.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link
        linkend="guc-archive-timeout"><varname>archive_timeout</varname></link>
        to force transaction log file switches at a given interval (Simon)
       </para>

       <para>
        This enforces a maximum replication delay for warm standby servers.
       </para>
      </listitem>

      <listitem>
       <para>
        Add native <link linkend="auth-ldap"><acronym>LDAP</acronym></link>
        authentication (Magnus Hagander)
       </para>

       <para>
        This is particularly useful for platforms that do not
        support <acronym>PAM</acronym>, such as Windows.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="sql-grant-description-objects"><literal>GRANT
        CONNECT ON DATABASE</literal></link> (Gevik Babakhani)
       </para>

       <para>
        This gives SQL-level control over database access.  It works as
        an additional filter on top of the existing
        <link linkend="auth-pg-hba-conf"><filename>pg_hba.conf</filename></link>
        controls.
       </para>
      </listitem>

      <listitem>
       <para>
        Add support for <link linkend="ssl-tcp"><acronym>SSL</acronym>
        Certificate Revocation List</link> (<acronym>CRL</acronym>) files
        (Libor Hoho)
       </para>

       <para>
        The server and <application>libpq</application> both recognize <acronym>CRL</acronym>
        files now.
       </para>
      </listitem>

      <listitem>
       <para>
        <link linkend="gist"><acronym>GiST</acronym></link> indexes are
        now clusterable (Teodor)
       </para>
      </listitem>

      <listitem>
       <para>
        Remove routine autovacuum server log entries (Bruce)
       </para>

       <para>
        <link
        linkend="monitoring-stats-views-table"><literal>pg_stat_activity</literal></link>
        now shows autovacuum activity.
       </para>
      </listitem>

      <listitem>
       <para>
        Track maximum XID age within individual tables, instead of whole databases (Alvaro)
       </para>

       <para>
        This reduces the overhead involved in preventing transaction
        ID wraparound, by avoiding unnecessary VACUUMs.
       </para>
      </listitem>

      <listitem>
       <para>
        Add last vacuum and analyze timestamp columns to the stats
        collector (Larry Rosenman)
       </para>

       <para>
        These values now appear in the <link
        linkend="monitoring-stats-views-table"><literal>pg_stat_*_tables</literal></link>
        system views.
       </para>
      </listitem>

      <listitem>
       <para>
        Improve performance of statistics monitoring, especially
<!--       Fonctionnalité disparu en 8.3        -->
<!--        <link                               -->
<!--        linkend="guc-stats-command-string"> -->
        <varname>stats_command_string</varname> 
        <!-- </link> -->
        (Tom, Bruce)
       </para>

       <para>
        This release enables <varname>stats_command_string</varname> by
        default, now that its overhead is minimal.  This means
        <link
        linkend="monitoring-stats-views-table"><literal>pg_stat_activity</literal></link>
        will now show all active queries by default.
       </para>
      </listitem>

      <listitem>
       <para>
        Add a <literal>waiting</literal> column to <link
        linkend="monitoring-stats-views-table"><literal>pg_stat_activity</literal></link>
        (Tom)
       </para>

       <para>
        This allows <structname>pg_stat_activity</structname> to show all the
        information included in the <application>ps</application> display.
       </para>
      </listitem>

      <listitem>
       <para>
        Add configuration parameter <link
        linkend="guc-update-process-title"><varname>update_process_title</varname></link>
        to control whether the <application>ps</application> display is updated
        for every command (Bruce)
       </para>

       <para>
        On platforms where it is expensive to update the <application>ps</application>
        display, it may be worthwhile to turn this off and rely solely on
        <structname>pg_stat_activity</structname> for status information.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow units to be specified in configuration settings
        (Peter)
       </para>

       <para>
        For example, you can now set <link
        linkend="guc-shared-buffers"><varname>shared_buffers</varname></link>
        to <literal>32MB</literal> rather than mentally converting sizes.
       </para>
      </listitem>

      <listitem>
       <para>
        Add support for <link linkend="config-setting">include
        directives</link> in <filename>postgresql.conf</filename> (Joachim
        Wieland)
       </para>
      </listitem>

      <listitem>
       <para>
        Improve logging of protocol-level prepare/bind/execute
        messages (Bruce, Tom)
       </para>

       <para>
        Such logging now shows statement names, bind parameter
        values, and the text of the query being executed.  Also,
        the query text is properly included in logged error messages
        when enabled by <varname>log_min_error_statement</varname>.
       </para>
      </listitem>

      <listitem>
       <para>
        Prevent <link
        linkend="guc-max-stack-depth"><varname>max_stack_depth</varname></link>
        from being set to unsafe values
       </para>

       <para>
        On platforms where we can determine the actual kernel stack depth
        limit (which is most), make sure that the initial default value of
        <varname>max_stack_depth</varname> is safe, and reject attempts to set it
        to unsafely large values.
       </para>
      </listitem>

      <listitem>
       <para>
        Enable highlighting of error location in query in more
        cases (Tom)
       </para>

       <para>
        The server is now able to report a specific error location for
        some semantic errors (such as unrecognized column name), rather
        than just for basic syntax errors as before.
       </para>
      </listitem>

      <listitem>
       <para>
        Fix <quote>failed to re-find parent key</quote> errors in
        <command>VACUUM</command> (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Clean out <filename>pg_internal.init</filename> cache files during server
        restart (Simon)
       </para>

       <para>
        This avoids a hazard that the cache files might contain stale
        data after PITR recovery.
       </para>
      </listitem>

      <listitem>
       <para>
        Fix race condition for truncation of a large relation across a
        gigabyte boundary by <command>VACUUM</command> (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Fix bug causing needless deadlock errors on row-level locks (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Fix bugs affecting multi-gigabyte hash indexes (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Each backend process is now its own process group leader (Tom)
       </para>

       <para>
        This allows query cancel to abort subprocesses invoked from a
        backend or archive/recovery process.
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>Query Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Add <link linkend="sql-insert"><command>INSERT</command></link>/<link
        linkend="sql-update"><command>UPDATE</command></link>/<link
        linkend="sql-delete"><command>DELETE</command></link>
        <literal>RETURNING</literal> (Jonah Harris, Tom)
       </para>

       <para>
        This allows these commands to return values, such as the
        computed serial key for a new row.  In the <command>UPDATE</command>
        case, values from the updated version of the row are returned.
       </para>
      </listitem>

      <listitem>
       <para>
        Add support for multiple-row <link
        linkend="queries-values"><literal>VALUES</literal></link> clauses,
        per SQL standard (Joe, Tom)
       </para>

       <para>
        This allows <command>INSERT</command> to insert multiple rows of
        constants, or queries to generate result sets using constants.
        For example, <literal>INSERT ...  VALUES (...), (...),
        ....</literal>, and <literal>SELECT * FROM (VALUES (...), (...),
        ....) AS alias(f1, ...)</literal>.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <link linkend="sql-update"><command>UPDATE</command></link>
        and <link linkend="sql-delete"><command>DELETE</command></link>
        to use an alias for the target table (Atsushi Ogawa)
       </para>

       <para>
        The SQL standard does not permit an alias in these commands, but
        many database systems allow one anyway for notational convenience.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <link linkend="sql-update"><command>UPDATE</command></link>
        to set multiple columns with a list of values (Susanne
        Ebrecht)
       </para>

       <para>
        This is basically a short-hand for assigning the columns
        and values in pairs.  The syntax is <literal>UPDATE tab
        SET (<replaceable>column</replaceable>, ...) = (<replaceable>val</replaceable>, ...)</literal>.
       </para>
      </listitem>

      <listitem>
       <para>
        Make row comparisons work per standard (Tom)
       </para>

       <para>
        The forms &lt;, &lt;=, &gt;, &gt;= now compare rows lexicographically,
        that is, compare the first elements, if equal compare the second
        elements, and so on.  Formerly they expanded to an AND condition
        across all the elements, which was neither standard nor very useful.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="sql-truncate"><literal>CASCADE</literal></link>
        option to <command>TRUNCATE</command> (Joachim Wieland)
       </para>

       <para>
        This causes <command>TRUNCATE</command> to automatically include all tables
        that reference the specified table(s) via foreign keys.  While
        convenient, this is a dangerous tool &mdash; use with caution!
       </para>
      </listitem>

      <listitem>
       <para>
        Support <literal>FOR UPDATE</literal> and <literal>FOR SHARE</literal>
        in the same <link linkend="sql-insert"><literal>SELECT</literal></link>
        command (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="functions-comparisons"><literal>IS NOT
        DISTINCT FROM</literal></link> (Pavel Stehule)
       </para>

       <para>
        This operator is similar to equality (<literal>=</literal>), but
        evaluates to true when both left and right operands are
        <literal>NULL</literal>, and to false when just one is, rather than
        yielding <literal>NULL</literal> in these cases.
       </para>
      </listitem>

      <listitem>
       <para>
        Improve the length output used by <link
        linkend="queries-union"><literal>UNION</literal></link>/<literal>INTERSECT</literal>/<literal>EXCEPT</literal>
        (Tom)
       </para>

       <para>
        When all corresponding columns are of the same defined length, that
        length is used for the result, rather than a generic length.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <link linkend="functions-like"><literal>ILIKE</literal></link>
        to work for multi-byte encodings (Tom)
       </para>

       <para>
        Internally, <literal>ILIKE</literal> now calls <function>lower()</function>
        and then uses <literal>LIKE</literal>.  Locale-specific regular
        expression patterns still do not work in these encodings.
       </para>
      </listitem>

      <listitem>
       <para>
        Enable <link
        linkend="guc-standard-conforming-strings"><varname>standard_conforming_strings</varname></link>
        to be turned <literal>on</literal> (Kevin Grittner)
       </para>

       <para>
        This allows backslash escaping in strings to be disabled,
        making <productname>PostgreSQL</productname> more
        standards-compliant.  The default is <literal>off</literal> for backwards
        compatibility, but future releases will default this to <literal>on</literal>.
       </para>
      </listitem>

      <listitem>
       <para>
        Do not flatten subqueries that contain <literal>volatile</literal>
        functions in their target lists (Jaime Casanova)
       </para>

       <para>
        This prevents surprising behavior due to multiple evaluation
        of a <literal>volatile</literal> function (such as <function>random()</function>
        or <function>nextval()</function>).  It may cause performance
        degradation in the presence of functions that are unnecessarily
        marked as <literal>volatile</literal>.
       </para>
      </listitem>

      <listitem>
       <para>
        Add system views <link
        linkend="view-pg-prepared-statements"><literal>pg_prepared_statements</literal></link>
        and <link
        linkend="view-pg-cursors"><literal>pg_cursors</literal></link>
        to show prepared statements and open cursors (Joachim Wieland, Neil)
       </para>

       <para>
        These are very useful in pooled connection setups.
       </para>
      </listitem>

      <listitem>
       <para>
        Support portal parameters in <link
        linkend="sql-explain"><command>EXPLAIN</command></link> and <link
        linkend="sql-execute"><command>EXECUTE</command></link> (Tom)
       </para>

       <para>
        This allows, for example, <acronym>JDBC</acronym> <literal>?</literal> parameters to
        work in these commands.
       </para>
      </listitem>

      <listitem>
       <para>
        If <acronym>SQL</acronym>-level <link
        linkend="sql-prepare"><command>PREPARE</command></link> parameters
        are unspecified, infer their types from the content of the
        query (Neil)
       </para>

       <para>
        Protocol-level <command>PREPARE</command> already did this.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <literal>LIMIT</literal> and <literal>OFFSET</literal> to exceed
        two billion (Dhanaraj M)
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>Object Manipulation Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Add <literal>TABLESPACE</literal> clause to <link
        linkend="sql-createtableas"><command>CREATE TABLE AS</command></link>
        (Neil)
       </para>

       <para>
        This allows a tablespace to be specified for the new table.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <literal>ON COMMIT</literal> clause to <link
        linkend="sql-createtableas"><command>CREATE TABLE AS</command></link>
        (Neil)
       </para>

       <para>
        This allows temporary tables to be truncated or dropped on
        transaction commit.  The default behavior is for the table
        to remain until the session ends.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <literal>INCLUDING CONSTRAINTS</literal> to <link
        linkend="sql-createtable"><command>CREATE TABLE LIKE</command></link>
        (Greg Stark)
       </para>

       <para>
        This allows easy copying of <literal>CHECK</literal> constraints to a new
        table.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow the creation of placeholder (shell) <link
        linkend="sql-createtype">types</link> (Martijn van Oosterhout)
       </para>

       <para>
        A shell type declaration creates a type name, without specifying
        any of the details of the type.  Making a shell type is useful
        because it allows cleaner declaration of the type's input/output
        functions, which must exist before the type can be defined <quote>for
        real</quote>.  The syntax is <command>CREATE TYPE <replaceable
        class="parameter">typename</replaceable></command>.
       </para>
      </listitem>

      <listitem>
       <para>
        <link linkend="sql-createaggregate">Aggregate functions</link>
        now support multiple input parameters (Sergey Koposov, Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Add new aggregate creation <link
        linkend="sql-createaggregate">syntax</link> (Tom)
       </para>

       <para>
        The new syntax is <command>CREATE AGGREGATE
        <replaceable>aggname</replaceable> (<replaceable>input_type</replaceable>)
        (<replaceable>parameter_list</replaceable>)</command>.  This more
        naturally supports the new multi-parameter aggregate
        functionality.  The previous syntax is still supported.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link
        linkend="sql-alterrole"><command>ALTER ROLE PASSWORD NULL</command></link>
        to remove a previously set role password (Peter)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <command>DROP</command> object <literal>IF EXISTS</literal> for many
        object types (Andrew)
       </para>

       <para>
        This allows <command>DROP</command> operations on non-existent
        objects without generating an error.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="sql-drop-owned"><literal>DROP OWNED</literal></link>
        to drop all objects owned by a role (Alvaro)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="sql-reassign-owned"><literal>REASSIGN
        OWNED</literal></link> to reassign ownership of all objects owned
        by a role (Alvaro)
       </para>

       <para>
        This, and <literal>DROP OWNED</literal> above, facilitate dropping
        roles.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="sql-grant"><command>GRANT ON SEQUENCE</command></link>
        syntax (Bruce)
       </para>

       <para>
        This was added for setting sequence-specific permissions.
        <literal>GRANT ON TABLE</literal> for sequences is still supported
        for backward compatibility.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="sql-grant"><literal>USAGE</literal></link>
        permission for sequences that allows only <function>currval()</function>
        and <function>nextval()</function>, not <function>setval()</function>
        (Bruce)
       </para>

       <para>
        <literal>USAGE</literal> permission allows more fine-grained
        control over sequence access.  Granting <literal>USAGE</literal>
        allows users to increment
        a sequence, but prevents them from setting the sequence to
        an arbitrary value using <function>setval()</function>.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="sql-altertable"><literal>ALTER TABLE
        [ NO ] INHERIT</literal></link> (Greg Stark)
       </para>

       <para>
        This allows inheritance to be adjusted dynamically, rather than
        just at table creation and destruction.  This is very valuable
        when using inheritance to implement table partitioning.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <link linkend="sql-comment">comments</link> on global
        objects to be stored globally (Kris Jurka)
       </para>

       <para>
        Previously, comments attached to databases were stored in individual
        databases, making them ineffective, and there was no provision
        at all for comments on roles or tablespaces.  This change adds a new
        shared catalog <link
        linkend="catalog-pg-shdescription"><structname>pg_shdescription</structname></link>
        and stores comments on databases, roles, and tablespaces therein.
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>Utility Command Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Add option to allow indexes to be created without blocking
        concurrent writes to the table (Greg Stark, Tom)
       </para>

       <para>
        The new syntax is <link linkend="sql-createindex"><command>CREATE
        INDEX CONCURRENTLY</command></link>.  The default behavior is
        still to block table modification while a index is being
        created.
       </para>
      </listitem>

      <listitem>
       <para>
        Provide <link linkend="functions-advisory-locks">advisory
        locking</link> functionality (Abhijit Menon-Sen, Tom)
       </para>

       <para>
        This is a new locking API designed to replace what used to be
        in /contrib/userlock.  The userlock code is now on pgfoundry.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <link linkend="sql-copy"><command>COPY</command></link> to
        dump a <command>SELECT</command> query (Zoltan Boszormenyi, Karel
        Zak)
       </para>

       <para>
        This allows <command>COPY</command> to dump arbitrary <acronym>SQL</acronym>
        queries. The syntax is <literal>COPY (SELECT ...) TO</literal>.
       </para>
      </listitem>

      <listitem>
       <para>
        Make the <link linkend="sql-copy"><command>COPY</command></link>
        command return a command tag that includes the number of
        rows copied (Volkan YAZICI)
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <link linkend="sql-vacuum"><command>VACUUM</command></link>
        to expire rows without being affected by other concurrent
        <command>VACUUM</command> operations (Hannu Krossing, Alvaro, Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Make <link linkend="app-initdb"><application>initdb</application></link>
        detect the operating system locale and set the default
        <varname>DateStyle</varname> accordingly (Peter)
       </para>

       <para>
        This makes it more likely that the installed
        <filename>postgresql.conf</filename> <varname>DateStyle</varname> value will
        be as desired.
       </para>
      </listitem>

      <listitem>
       <para>
        Reduce number of progress messages displayed by <application>initdb</application> (Tom)
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>Date/Time Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Allow full timezone names in <link
        linkend="datatype-datetime"><type>timestamp</type></link> input values
        (Joachim Wieland)
       </para>

       <para>
        For example, <literal>'2006-05-24 21:11
        America/New_York'::timestamptz</literal>.
       </para>
      </listitem>

      <listitem>
       <para>
        Support configurable timezone abbreviations (Joachim Wieland)
       </para>

       <para>
        A desired set of timezone abbreviations can be chosen via the
        configuration parameter <link
        linkend="guc-timezone-abbreviations"><varname>timezone_abbreviations</varname></link>.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link
        linkend="view-pg-timezone-abbrevs"><varname>pg_timezone_abbrevs</varname></link>
        and <link
        linkend="view-pg-timezone-names"><varname>pg_timezone_names</varname></link>
        views to show supported timezones (Magnus Hagander)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link
        linkend="functions-datetime-table"><function>clock_timestamp()</function></link>,
        <link
        linkend="functions-datetime-table"><function>statement_timestamp()</function></link>,
        and <link
        linkend="functions-datetime-table"><function>transaction_timestamp()</function></link>
        (Bruce)
       </para>

       <para>
        <function>clock_timestamp()</function> is the current wall-clock time,
        <function>statement_timestamp()</function> is the time the current
        statement arrived at the server, and
        <function>transaction_timestamp()</function> is an alias for
        <function>now()</function>.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <link
        linkend="functions-formatting"><function>to_char()</function></link>
        to print localized month and day names (Euler Taveira de
        Oliveira)
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <link
        linkend="functions-formatting"><function>to_char(time)</function></link>
        and <link
        linkend="functions-formatting"><function>to_char(interval)</function></link>
        to output <acronym>AM</acronym>/<acronym>PM</acronym> specifications
        (Bruce)
       </para>

       <para>
        Intervals and times are treated as 24-hour periods, e.g.
        <literal>25 hours</literal> is considered <acronym>AM</acronym>.
       </para>
      </listitem>

      <listitem>
       <para>
        Add new function <link
        linkend="functions-datetime-table"><function>justify_interval()</function></link>
        to adjust interval units (Mark Dilger)
       </para>
      </listitem>

      <listitem>
       <para>
        Allow timezone offsets up to 14:59 away from GMT
       </para>

       <para>
        Kiribati uses GMT+14, so we'd better accept that.
       </para>
      </listitem>

      <listitem>
       <para>
        Interval computation improvements (Michael Glaesemann, Bruce)
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>Other Data Type and Function Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Allow arrays to contain <literal>NULL</literal> elements (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Allow assignment to array elements not contiguous with the existing
        entries (Tom)
       </para>

       <para>
        The intervening array positions will be filled with nulls.
        This is per SQL standard.
       </para>
      </listitem>

      <listitem>
       <para>
        New built-in <link linkend="functions-array">operators</link>
        for array-subset comparisons (<literal>@&gt;</literal>,
        <literal>&lt;@</literal>, <literal>&amp;&amp;</literal>) (Teodor, Tom)
       </para>

       <para>
        These operators can be indexed for many data types using
        <acronym>GiST</acronym> or <acronym>GIN</acronym> indexes.
       </para>
      </listitem>

      <listitem>
       <para>
        Add convenient arithmetic <link
        linkend="cidr-inet-operators-table">operations</link> on
        <type>INET</type>/<type>CIDR</type> values (Stephen R. van den
        Berg)
       </para>

       <para>
        The new operators are <literal>&amp;</literal> (and), <literal>|</literal>
        (or), <literal>~</literal> (not), <type>inet</type> <literal>+</literal> <type>int8</type>,
        <type>inet</type> <literal>-</literal> <type>int8</type>, and
        <type>inet</type> <literal>-</literal> <type>inet</type>.
       </para>
      </listitem>

      <listitem>
       <para>
        Add new <link
        linkend="functions-aggregate-statistics-table">aggregate functions</link>
        from SQL:2003 (Neil)
       </para>

       <para>
        The new functions are <function>var_pop()</function>,
        <function>var_samp()</function>, <function>stddev_pop()</function>, and
        <function>stddev_samp()</function>.  <function>var_samp()</function> and
        <function>stddev_samp()</function> are merely renamings of the
        existing aggregates <function>variance()</function> and
        <function>stddev()</function>.  The latter names remain available
        for backward compatibility.
       </para>
      </listitem>

      <listitem>
       <para>
        Add SQL:2003 statistical <link
        linkend="functions-aggregate-statistics-table">aggregates</link>
        (Sergey Koposov)
       </para>

       <para>
        New functions:  <function>regr_intercept()</function>,
        <function>regr_slope()</function>, <function>regr_r2()</function>,
        <function>corr()</function>, <function>covar_samp()</function>,
        <function>covar_pop()</function>, <function>regr_avgx()</function>,
        <function>regr_avgy()</function>, <function>regr_sxy()</function>,
        <function>regr_sxx()</function>, <function>regr_syy()</function>,
        <function>regr_count()</function>.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <link linkend="sql-createdomain">domains</link> to be
        based on other domains (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Properly enforce domain <link
        linkend="ddl-constraints"><literal>CHECK</literal></link> constraints
        everywhere (Neil, Tom)
       </para>

       <para>
        For example, the result of a user-defined function that is
        declared to return a domain type is now checked against the
        domain's constraints. This closes a significant hole in the domain
        implementation.
       </para>
      </listitem>

      <listitem>
       <para>
        Fix problems with dumping renamed <link
        linkend="datatype-serial"><type>SERIAL</type></link> columns
        (Tom)
       </para>

       <para>
        The fix is to dump a <type>SERIAL</type> column by explicitly
        specifying its <literal>DEFAULT</literal> and sequence elements,
        and reconstructing the <type>SERIAL</type> column on reload
        using a new <link linkend="sql-altersequence"><command>ALTER
        SEQUENCE OWNED BY</command></link> command.  This also allows
        dropping a <type>SERIAL</type> column specification.
       </para>
      </listitem>

      <listitem>
       <para>
        Add a server-side sleep function <link
        linkend="functions-datetime-delay"><function>pg_sleep()</function></link>
        (Joachim Wieland)
       </para>
      </listitem>

      <listitem>
       <para>
        Add all comparison operators for the <link
        linkend="datatype-oid"><type>tid</type></link> (tuple id) data
        type (Mark Kirkwood, Greg Stark, Tom)
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>PL/PgSQL Server-Side Language Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Add <literal>TG_table_name</literal> and <literal>TG_table_schema</literal> to
        trigger parameters (Andrew)
       </para>

       <para>
        <literal>TG_relname</literal> is now deprecated.  Comparable
        changes have been made in the trigger parameters for the other
        PLs as well.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <literal>FOR</literal> statements to return values to scalars
        as well as records and row types (Pavel Stehule)
       </para>
      </listitem>

      <listitem>
       <para>
        Add a <literal>BY</literal> clause to the <literal>FOR</literal> loop,
        to control the iteration increment (Jaime Casanova)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <literal>STRICT</literal> to <link
        linkend="plpgsql-statements-sql-onerow"><command>SELECT
        INTO</command></link> (Matt Miller)
       </para>

       <para>
        <literal>STRICT</literal> mode throws an exception if more or less
        than one row is returned by the <command>SELECT</command>, for
        <productname>Oracle PL/SQL</productname> compatibility.
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>PL/Perl Server-Side Language Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Add <literal>table_name</literal> and <literal>table_schema</literal> to
        trigger parameters (Adam Sjogren)
       </para>
      </listitem>

      <listitem>
       <para>
        Add prepared queries (Dmitry Karasik)
       </para>
      </listitem>

      <listitem>
       <para>
        Make <literal>$_TD</literal> trigger data a global variable (Andrew)
       </para>

       <para>
        Previously, it was lexical, which caused unexpected sharing
        violations.
       </para>
      </listitem>

      <listitem>
       <para>
        Run PL/Perl and PL/PerlU in separate interpreters, for security
        reasons (Andrew)
       </para>
       <para>
        In consequence, they can no longer share data nor loaded modules.
        Also, if Perl has not been compiled with the requisite flags to
        allow multiple interpreters, only one of these languages can be used
        in any given backend process.
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>PL/Python Server-Side Language Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Named parameters are passed as ordinary variables, as well as in the
        <literal>args[]</literal> array (Sven Suursoho)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <literal>table_name</literal> and <literal>table_schema</literal> to
        trigger parameters (Andrew)
       </para>
      </listitem>

      <listitem>
       <para>
        Allow returning of composite types and result sets (Sven Suursoho)
       </para>
      </listitem>

      <listitem>
       <para>
        Return result-set as <literal>list</literal>, <literal>iterator</literal>,
        or <literal>generator </literal>(Sven Suursoho)
       </para>
      </listitem>

      <listitem>
       <para>
        Allow functions to return <literal>void</literal> (Neil)
       </para>
      </listitem>

      <listitem>
       <para>
        Python 2.5 is now supported (Tom)
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title><link linkend="app-psql"><application>psql</application></link> Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Add new command <literal>\password</literal> for changing role
        password with client-side password encryption (Peter)
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <literal>\c</literal> to connect to a new host and port
        number (David, Volkan YAZICI)
       </para>
      </listitem>

      <listitem>
       <para>
        Add tablespace display to <literal>\l+</literal> (Philip Yarra)
       </para>
      </listitem>

      <listitem>
       <para>
        Improve <literal>\df</literal> slash command to include the argument
        names and modes (<literal>OUT</literal> or <literal>INOUT</literal>) of
        the function (David Fetter)
       </para>
      </listitem>

      <listitem>
       <para>
        Support binary <command>COPY</command> (Andreas Pflug)
       </para>
      </listitem>

      <listitem>
       <para>
        Add option to run the entire session in a single transaction
        (Simon)
       </para>

       <para>
        Use option <literal>-1</literal> or <literal>--single-transaction</literal>.
       </para>
      </listitem>

      <listitem>
       <para>
        Support for automatically retrieving <command>SELECT</command>
        results in batches using a cursor (Chris Mair)
       </para>

       <para>
        This is enabled using <command>\set FETCH_COUNT
        <replaceable>n</replaceable></command>. This
        feature allows large result sets to be retrieved in
        <application>psql</application> without attempting to buffer the entire
        result set in memory.
       </para>
      </listitem>

      <listitem>
       <para>
        Make multi-line values align in the proper column
        (Martijn van Oosterhout)
       </para>

       <para>
        Field values containing newlines are now displayed in a more
        readable fashion.
       </para>
      </listitem>

      <listitem>
       <para>
        Save multi-line statements as a single entry, rather than
        one line at a time (Sergey E. Koposov)
       </para>

       <para>
        This makes up-arrow recall of queries easier.  (This is
        not available on Windows, because that platform uses the native
        command-line editing present in the operating system.)
       </para>
      </listitem>

      <listitem>
       <para>
        Make the line counter 64-bit so it can handle files with more
        than two billion lines (David Fetter)
       </para>
      </listitem>

      <listitem>
       <para>
        Report both the returned data and the command status tag
        for <command>INSERT</command>/<command>UPDATE</command>/<command>DELETE
        RETURNING</command> (Tom)
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title><link linkend="app-pgdump"><application>pg_dump</application></link> Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Allow complex selection of objects to be included or excluded
        by <application>pg_dump</application> (Greg Sabino Mullane)
       </para>

       <para>
        <application>pg_dump</application> now supports multiple <literal>-n</literal>
        (schema) and <literal>-t</literal> (table) options, and adds
        <literal>-N</literal> and <literal>-T</literal> options to exclude objects.
        Also, the arguments of these switches can now be wild-card expressions
        rather than single object names, for example
        <literal>-t 'foo*'</literal>, and a schema can be part of
        a <literal>-t</literal> or <literal>-T</literal> switch, for example
        <literal>-t schema1.table1</literal>.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="app-pgrestore"><application>pg_restore</application></link>
        <literal>--no-data-for-failed-tables</literal> option to suppress
        loading data if table creation failed (i.e., the table already
        exists) (Martin Pitt)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="app-pgrestore"><application>pg_restore</application></link>
        option to run the entire session in a single transaction
        (Simon)
       </para>

       <para>
        Use option <literal>-1</literal> or <literal>--single-transaction</literal>.
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title><link linkend="libpq"><application>libpq</application></link> Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Add <link
        linkend="libpq-misc"><function>PQencryptPassword()</function></link>
        to encrypt passwords (Tom)
       </para>

       <para>
        This allows passwords to be sent pre-encrypted for commands
        like <link linkend="sql-alterrole"><command>ALTER ROLE ...
        PASSWORD</command></link>.
       </para>
      </listitem>

      <listitem>
       <para>
        Add function <link
        linkend="libpq-threading"><function>PQisthreadsafe()</function></link>
        (Bruce)
       </para>

       <para>
        This allows applications to query the thread-safety status
        of the library.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link
        linkend="libpq-exec-main"><function>PQdescribePrepared()</function></link>,
        <link
        linkend="libpq-exec-main"><function>PQdescribePortal()</function></link>,
        and related functions to return information about previously
        prepared statements and open cursors (Volkan YAZICI)
       </para>
      </listitem>

      <listitem>
       <para>
        Allow <link linkend="libpq-ldap"><acronym>LDAP</acronym></link> lookups
        from <link
        linkend="libpq-pgservice"><filename>pg_service.conf</filename></link>
        (Laurenz Albe)
       </para>
      </listitem>

      <listitem>
       <para>
        Allow a hostname in <link
        linkend="libpq-pgpass"><filename>~/.pgpass</filename></link>
        to match the default socket directory (Bruce)
       </para>

       <para>
        A blank hostname continues to match any Unix-socket connection,
        but this addition allows entries that are specific to one of
        several postmasters on the machine.
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title><link linkend="ecpg"><application>ecpg</application></link> Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Allow <link linkend="sql-show"><command>SHOW</command></link> to
        put its result into a variable (Joachim Wieland)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link linkend="sql-copy"><command>COPY TO STDOUT</command></link>
        (Joachim Wieland)
       </para>
      </listitem>

      <listitem>
       <para>
        Add regression tests (Joachim Wieland, Michael)
       </para>
      </listitem>

      <listitem>
       <para>
        Major source code cleanups (Joachim Wieland, Michael)
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title><application>Windows</application> Port</title>
     <itemizedlist>

      <listitem>
       <para>
        Allow <acronym>MSVC</acronym> to compile the <productname>PostgreSQL</productname>
        server (Magnus, Hiroshi Saito)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <acronym>MSVC</acronym> support for utility commands and <link
        linkend="app-pgdump"><application>pg_dump</application></link> (Hiroshi
        Saito)
       </para>
      </listitem>

      <listitem>
       <para>
        Add support for Windows code pages <literal>1253</literal>,
        <literal>1254</literal>, <literal>1255</literal>, and <literal>1257</literal>
        (Kris Jurka)
       </para>
      </listitem>

      <listitem>
       <para>
        Drop privileges on startup, so that the server can be started from 
        an administrative account (Magnus)
       </para>
      </listitem>

      <listitem>
       <para>
        Stability fixes (Qingqing Zhou, Magnus)
       </para>
      </listitem>

      <listitem>
       <para>
        Add native semaphore implementation (Qingqing Zhou)
       </para>

       <para>
        The previous code mimicked SysV semaphores.
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>Source Code Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Add <link linkend="GIN"><acronym>GIN</acronym></link> (Generalized
        Inverted iNdex) index access method (Teodor, Oleg)
       </para>
      </listitem>

      <listitem>
       <para>
        Remove R-tree indexing (Tom)
       </para>

       <para>
        Rtree has been re-implemented using <link
        linkend="gist"><acronym>GiST</acronym></link>. Among other
        differences, this means that rtree indexes now have support
        for crash recovery via write-ahead logging (WAL).
       </para>
      </listitem>

      <listitem>
       <para>
        Reduce libraries needlessly linked into the backend (Martijn
        van Oosterhout, Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Add a configure flag to allow libedit to be preferred over
        <acronym>GNU</acronym> readline (Bruce)
       </para>

       <para>
        Use configure <link
        linkend="configure"><literal>--with-libedit-preferred</literal></link>.
       </para>
      </listitem>

      <listitem>
       <para>
        Allow installation into directories containing spaces
        (Peter)
       </para>
      </listitem>

      <listitem>
       <para>
        Improve ability to relocate installation directories (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Add support for <productname>Solaris x86_64</productname> using the
        <productname>Solaris</productname> compiler (Pierre Girard, Theo
        Schlossnagle, Bruce)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <application>DTrace</application> support (Robert Lor)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <literal>PG_VERSION_NUM</literal> for use by third-party
        applications wanting to test the backend version in C using &gt;
        and &lt; comparisons (Bruce)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <literal>XLOG_BLCKSZ</literal> as independent from <literal>BLCKSZ</literal>
        (Mark Wong)
       </para>
      </listitem>

      <listitem>
       <para>
        Add <literal>LWLOCK_STATS</literal> define to report locking
        activity (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Emit warnings for unknown <application>configure</application> options
        (Martijn van Oosterhout)
       </para>
      </listitem>

      <listitem>
       <para>
        Add server support for <quote>plugin</quote> libraries
        that can be used for add-on tasks such as debugging and performance
        measurement (Korry Douglas)
       </para>

       <para>
        This consists of two features: a table of <quote>rendezvous
        variables</quote> that allows separately-loaded shared libraries to
        communicate, and a new configuration parameter <link
        linkend="guc-local-preload-libraries"><varname>local_preload_libraries</varname></link>
        that allows libraries to be loaded into specific sessions without
        explicit cooperation from the client application.  This allows
        external add-ons to implement features such as a PL/PgSQL debugger.
       </para>
      </listitem>

      <listitem>
       <para>
        Rename existing configuration parameter
        <varname>preload_libraries</varname> to <link
        linkend="guc-shared-preload-libraries"><varname>shared_preload_libraries</varname></link>
        (Tom)
       </para>

       <para>
        This was done for clarity in comparison to
        <varname>local_preload_libraries</varname>.
       </para>
      </listitem>

      <listitem>
       <para>
        Add new configuration parameter <link
        linkend="guc-server-version-num"><varname>server_version_num</varname></link>
        (Greg Sabino Mullane)
       </para>

       <para>
        This is like <varname>server_version</varname>, but is an
        integer, e.g.  <literal>80200</literal>. This allows applications to
        make version checks more easily.
       </para>
      </listitem>

      <listitem>
       <para>
        Add a configuration parameter <link
        linkend="guc-seq-page-cost"><varname>seq_page_cost</varname></link>
        (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Re-implement the <link linkend="regress">regression test</link> script as a C program
        (Magnus, Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Allow loadable modules to allocate shared memory and
        lightweight locks (Marc Munro)
       </para>
      </listitem>

      <listitem>
       <para>
        Add automatic initialization and finalization of dynamically
        loaded libraries (Ralf Engelschall, Tom)
       </para>

       <para>
        New <link linkend="xfunc-c-dynload">functions</link>
        <function>_PG_init()</function> and <function>_PG_fini()</function> are
        called if the library defines such symbols.  Hence we no
        longer need to specify an initialization function in
        <varname>shared_preload_libraries</varname>; we can assume that
        the library used the <function>_PG_init()</function> convention
        instead.
       </para>
      </listitem>

      <listitem>
       <para>
        Add <link
        linkend="xfunc-c-dynload"><literal>PG_MODULE_MAGIC</literal></link>
        header block to all shared object files (Martijn van
        Oosterhout)
       </para>

       <para>
        The magic block prevents version mismatches between loadable object
        files and servers.
       </para>
      </listitem>

      <listitem>
       <para>
         Add shared library support for AIX (Laurenz Albe)
       </para>
      </listitem>

      <listitem>
       <para>
        New <link linkend="datatype-xml"><acronym>XML</acronym></link>
        documentation section (Bruce)
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

    <sect3>
     <title>Contrib Changes</title>
     <itemizedlist>

      <listitem>
       <para>
        Major tsearch2 improvements (Oleg, Teodor)
       </para>

       <itemizedlist>

        <listitem>
         <para>
          multibyte encoding support, including <acronym>UTF8</acronym>
         </para>
        </listitem>
        <listitem>
         <para>
          query rewriting support
         </para>
        </listitem>
        <listitem>
         <para>
          improved ranking functions
         </para>
        </listitem>
        <listitem>
         <para>
          thesaurus dictionary support
         </para>
        </listitem>
        <listitem>
         <para>
          Ispell dictionaries now recognize <application>MySpell</application>
          format, used by <application>OpenOffice</application>
         </para>
        </listitem>
        <listitem>
         <para>
          <acronym>GIN</acronym> support
         </para>
        </listitem>

       </itemizedlist>

      </listitem>

      <listitem>
       <para>
        Add adminpack module containing <application>Pgadmin</application> administration
        functions (Dave)
       </para>

       <para>
        These functions provide additional file system access
        routines not present in the default <productname>PostgreSQL</productname>
        server.
       </para>
      </listitem>

      <listitem>
       <para>
        Add sslinfo module (Victor Wagner)
       </para>

       <para>
        Reports information about the current connection's <acronym>SSL</acronym>
        certificate.
       </para>
      </listitem>

      <listitem>
       <para>
        Add pgrowlocks module (Tatsuo)
       </para>

       <para>
        This shows row locking information for a specified table.
       </para>
      </listitem>

      <listitem>
       <para>
        Add hstore module (Oleg, Teodor)
       </para>
      </listitem>

      <listitem>
       <para>
        Add isn module, replacing isbn_issn (Jeremy Kronuz)
       </para>

       <para>
        This new implementation supports <acronym>EAN13</acronym>, <acronym>UPC</acronym>,
        <acronym>ISBN</acronym> (books), <acronym>ISMN</acronym> (music), and
        <acronym>ISSN</acronym> (serials).
       </para>
      </listitem>

      <listitem>
       <para>
        Add index information functions to pgstattuple (ITAGAKI Takahiro,
        Satoshi Nagayasu)
       </para>
      </listitem>

      <listitem>
       <para>
        Add pg_freespacemap module to display free space map information
        (Mark Kirkwood)
       </para>
      </listitem>

      <listitem>
       <para>
        pgcrypto now has all planned functionality (Marko Kreen)
       </para>
       <itemizedlist>
        <listitem>
         <para>
          Include iMath library in pgcrypto to have the public-key encryption
          functions always available.
         </para>
        </listitem>
        <listitem>
         <para>
          Add SHA224 algorithm that was missing in OpenBSD code.
         </para>
        </listitem>
        <listitem>
         <para>
          Activate builtin code for SHA224/256/384/512 hashes on older
          OpenSSL to have those algorithms always available.
         </para>
        </listitem>
        <listitem>
         <para>
          New function gen_random_bytes() that returns cryptographically strong 
          randomness.  Useful for generating encryption keys.
         </para>
        </listitem>
        <listitem>
         <para>
          Remove digest_exists(), hmac_exists() and cipher_exists() functions.
         </para>
        </listitem>
       </itemizedlist>
      </listitem>

      <listitem>
       <para>
        Improvements to cube module (Joshua Reich)
       </para>

       <para>
        New functions are <function>cube(float[])</function>,
        <function>cube(float[], float[])</function>, and
        <function>cube_subset(cube, int4[])</function>.
       </para>
      </listitem>

      <listitem>
       <para>
        Add async query capability to dblink (Kai Londenberg,
        Joe Conway)
       </para>
      </listitem>

      <listitem>
       <para>
        New operators for array-subset comparisons (<literal>@&gt;</literal>,
        <literal>&lt;@</literal>, <literal>&amp;&amp;</literal>) (Tom)
       </para>

       <para>
        Various contrib packages already had these operators for their
        datatypes, but the naming wasn't consistent.  We have now added
        consistently named array-subset comparison operators to the core code
        and all the contrib packages that have such functionality.
        (The old names remain available, but are deprecated.)
       </para>
      </listitem>

      <listitem>
       <para>
        Add uninstall scripts for all contrib packages that have install
        scripts (David, Josh Drake)
       </para>
      </listitem>

     </itemizedlist>

    </sect3>

   </sect2>
  </sect1>
