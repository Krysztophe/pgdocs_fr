<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/alter_database.sgml,v 1.8 2005/09/15 07:03:25 guillaume Exp $
PostgreSQL documentation
-->
<!-- SAS 20060616 -->

<refentry id="sql-alterdatabase">
 <refmeta>
  <refentrytitle id="sql-alterdatabase-title">ALTER DATABASE</refentrytitle>
  <refmiscinfo>SQL - Instructions du langage</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>ALTER DATABASE</refname>
  <refpurpose>Modifier une base de données</refpurpose>
 </refnamediv>

 <refsynopsisdiv>
<synopsis>ALTER DATABASE <replaceable class="parameter">nom</replaceable> [ [ WITH ] <replaceable class="parameter">option</replaceable> [ ... ] ]

où <replaceable class="parameter">option</replaceable> peut être&nbsp;:

    CONNECTION LIMIT <replaceable class="parameter">limite_connexion</replaceable>

ALTER DATABASE <replaceable class="parameter">nom</replaceable> RENAME TO <replaceable>nouveau_nom</replaceable>
ALTER DATABASE <replaceable class="parameter">nom</replaceable> OWNER TO <replaceable>nouveau_propriétaire</replaceable>

ALTER DATABASE <replaceable class="parameter">nom</replaceable> SET <replaceable>paramètre</replaceable> { TO | = } { <replaceable>valeur</replaceable> | DEFAULT }
ALTER DATABASE <replaceable class="parameter">nom</replaceable> SET <replaceable>paramètre</replaceable> FROM CURRENT
ALTER DATABASE <replaceable class="parameter">nom</replaceable> RESET <replaceable>paramètre</replaceable>
ALTER DATABASE <replaceable class="parameter">nom</replaceable> RESET ALL
</synopsis>
 </refsynopsisdiv>

 <refsect1>
  <title>Description</title>
  <indexterm zone="sql-alterdatabase">
   <primary>ALTER DATABASE</primary>
  </indexterm>


  <para>
   <command>ALTER DATABASE</command> modifie les attributs d'une base de
   données.
  </para>

  <para>
   La première forme modifie certains paramètres d'une base de données (voir
   ci-dessous pour les détails). Seul le propriétaire de la base de données ou
   un superutilisateur peut modifier ces paramètres.
  </para> 

  <para>
   La deuxième forme permet de renommer la base. Seul le propriétaire ou un
   superutilisateur peut renommer une base. Un propriétaire qui n'est pas superutilisateur
   doit en outre posséder le droit <literal>CREATEDB</literal>. La base en cours
   d'utilisation ne peut pas être renommée (on se connectera à une base différente
   pour réaliser cette opération).
  </para>

  <para>
   La troisième forme change le propriétaire de la base de données.
   Pour changer le propriétaire, il faut être propriétaire de la base
   de données et membre direct ou indirect du nouveau rôle
   propriétaire. Le droit <literal>CREATEDB</literal> est également requis
   (les superutilisateurs ont automatiquement tous ces droits).
  </para>

  <para>
   The remaining forms change the session default for a run-time
   configuration variable for a <productname>PostgreSQL</productname>
   database. Whenever a new session is subsequently started in that
   database, the specified value becomes the session default value.
   The database-specific default overrides whatever setting is present
   in <filename>postgresql.conf</filename> or has been received from the
   <command>postgres</command> command line.  Only the database
   owner or a superuser can change the session defaults for a
   database.  Certain variables cannot be set this way, or can only be
   set by a superuser.
  </para>
 </refsect1>

 <refsect1>
  <title>Paramètres</title>

    <variablelist>
     <varlistentry>
      <term><replaceable class="parameter">nom</replaceable></term>
      <listitem>
       <para>
		Le nom de la base dont les attributs sont à modifier.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">limite_connexion</replaceable></term>
      <listitem>
       <para>
        Le nombre de connexions concurrentes sur la base de données. -1 signifie aucune limite.
       </para>
      </listitem>
     </varlistentry> 

     <varlistentry>
      <term><replaceable>nouveau_nom</replaceable></term>
      <listitem>
       <para>
        Le nouveau nom de la base.
       </para>
      </listitem>
     </varlistentry>

   <varlistentry>
    <term><replaceable
	class="parameter">nouveau_propriétaire</replaceable></term>
    <listitem>
     <para>
      Le nouveau propriétaire de la base.
     </para>
    </listitem>
   </varlistentry>

     <varlistentry>
      <term><replaceable>configuration_parameter</replaceable></term>
      <term><replaceable>value</replaceable></term>
      <listitem>
       <para>
        Set this database's session default for the specified configuration
        parameter to the given value.  If
        <replaceable>value</replaceable> is <literal>DEFAULT</literal>
        or, equivalently, <literal>RESET</literal> is used, the
        database-specific setting is removed, so the system-wide default
        setting will be inherited in new sessions.  Use <literal>RESET
        ALL</literal> to clear all database-specific settings.
        <literal>SET FROM CURRENT</literal> saves the session's current value of
        the parameter as the database-specific value.
       </para>

       <para>
        See <xref linkend="sql-set" endterm="sql-set-title"/> and <xref linkend="runtime-config"/>
        for more information about allowed parameter names
        and values.
       </para>
      </listitem>
     </varlistentry>
  </variablelist>
 </refsect1>

 <refsect1>
  <title>Notes</title>

  <para>
   Il est possible de lier une valeur de session par défaut à un rôle plutôt qu'à
   une base. Voir <xref linkend="sql-alterrole" endterm="sql-alterrole-title"/>
   à ce propos. En cas de conflit, les configurations spécifiques au rôle
   l'emportent sur celles spécifiques à la base.
  </para>
 </refsect1>

 <refsect1>
  <title>Exemples</title>

  <para>
   Désactiver les parcours d'index par défaut de la base
   <literal>test</literal> :

<programlisting>ALTER DATABASE test SET enable_indexscan TO off;
</programlisting>
  </para>
 </refsect1>

 <refsect1>
  <title>Compatibilité</title>
    
  <para>
   La commande <command>ALTER DATABASE</command> est une extension 
   <productname>PostgreSQL</productname>.
  </para>
 </refsect1>

 <refsect1>
  <title>Voir aussi</title>

  <simplelist type="inline">
   <member><xref linkend="sql-createdatabase" endterm="sql-createdatabase-title"/></member>
   <member><xref linkend="sql-dropdatabase" endterm="sql-dropdatabase-title"/></member>
   <member><xref linkend="sql-set" endterm="sql-set-title"/></member>
  </simplelist>
 </refsect1>
</refentry>
