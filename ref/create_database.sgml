<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/create_database.sgml,v 1.9 2005/09/15 07:03:26 guillaume Exp $
PostgreSQL documentation
-->

<refentry id="SQL-CREATEDATABASE">
 <refmeta>
  <refentrytitle id="sql-createdatabase-title">CREATE DATABASE</refentrytitle>
  <refmiscinfo>SQL - Instructions du langage</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>CREATE DATABASE</refname>
  <refpurpose>crée une nouvelle base de données</refpurpose>
 </refnamediv>

 <indexterm zone="sql-createdatabase">
  <primary>CREATE DATABASE</primary>
 </indexterm>

 <refsynopsisdiv>
<synopsis>
CREATE DATABASE <replaceable class="PARAMETER">nom</replaceable>
    [ [ WITH ] [ OWNER [=] <replaceable class="parameter">propriétaire</replaceable> ]
           [ TEMPLATE [=] <replaceable class="parameter">modèle</replaceable> ]
           [ ENCODING [=] <replaceable class="parameter">codage</replaceable> ]
           [ TABLESPACE [=] <replaceable class="parameter">espacelogique</replaceable> ]
	   [ CONNECTION LIMIT [=] <replaceable class="parameter">limite_connexion</replaceable> ] ]
</synopsis>
 </refsynopsisdiv>

 <refsect1>
  <title>Description</title>

  <para>
   <command>CREATE DATABASE</command> crée une nouvelle
   base de données <productname>PostgreSQL</productname>.
  </para>

  <para>
   Pour créer une base de données, vous devez être super-utilisateur
   ou avoir le droit spécial <literal>CREATEDB</>.
   Regardez <xref linkend="SQL-CREATEUSER" endterm="SQL-CREATEUSER-title">.
  </para>

  <para>
   Normalement, le créateur devient le propriétaire de la nouvelle base.
   Les superutilisateurs peuvent créer des bases dont le propriétaire sera
   un autre utilisateur en utilisant la clause <literal>OWNER</>.  Ils peuvent
   même créer des bases qui appartiendront à des utilisateurs qui n'ont aucun
   droits spéciaux. Les utilisateurs qui ne sont pas superutilisateurs
   mais qui possèdent le privilège <literal>CREATEDB</> peuvent seulement
   créer des bases de données dont ils seront les propriétaires.
  </para>

  <para>
   Par défaut, la nouvelle base de données sera créée en clonant la base
   système standard <literal>template1</>.  Un modèle différent peut
   être spécifié en écrivant <literal>TEMPLATE
   <replaceable class="parameter">nom</replaceable></literal>.  En particulier,
   en écrivant <literal>TEMPLATE template0</>, vous pouvez créer une base de
   données vierge contenant seulement les objets standards pré-définis par
   votre version de <productname>PostgreSQL</productname>.  Ceci est utile si
   vous souhaitez éviter de copier les objets de l'installation locale qui ont
   pû être ajoutés à <literal>template1</>.
  </para>
 </refsect1>

 <refsect1>
  <title>Paramètres</title>

    <variablelist>
     <varlistentry>
      <term><replaceable class="parameter">nom</replaceable></term>
      <listitem>
       <para>
  Le nom de la base de données à créer.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable class="parameter">propriétaire</replaceable></term>
      <listitem>
       <para>
  Un nom d'utilisateur de la base qui sera le propriétaire de la
  nouvelle base de données ou <literal>DEFAULT</literal> pour utiliser
  l'option par défaut (c'est-à-dire utiliser le nom de l'utilisateur qui
  exécute la commande).
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable class="parameter">modèle</replaceable></term>
      <listitem>
       <para>
  Le nom du modèle depuis lequel créer la nouvelle base de données ou
  <literal>DEFAULT</literal> pour utiliser le modèle par défaut
	(<literal>template1</literal>).
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable class="parameter">encodage</replaceable></term>
      <listitem>
       <para>
  Jeu d'encodage à utiliser par la nouvelle base de données.  Spécifiez
  une chaîne (par exemple <literal>'SQL_ASCII'</literal>), un nombre
  d'encodage de type entier ou <literal>DEFAULT</literal> pour utiliser
  l'encodage par défaut. Les ensembles de caractères supportés par le serveur
  <productname>PostgreSQL</productname> sont décrits dans <xref
  linkend="multibyte-charset-supported">.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable class="parameter">espacelogique</replaceable></term>
      <listitem>
       <para>
        Le nom de l'espace logique qui sera associé avec la nouvelle base de
        données ou <literal>DEFAULT</literal> pour utiliser l'espace logique de
        la base de données modèle. Cet espace logique sera l'espace logique par
        défaut utilisé pour les objets créés dans cette base de données. Voir
        <xref linkend="sql-createtablespace"
        endterm="sql-createtablespace-title"> pour plus d'informations.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">limite_connexion</replaceable></term>
      <listitem>
       <para>
        Combien de connexions concurrentes peuvent être faites sur cette base
	de données. -1 (la valeur par défaut) signifie qu'il n'y a pas de
	limite.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>

  <para>
   Les paramètres optionels peuvent être écrits dans n'importe quel
   ordre, pas seulement l'ordre illustré au-dessus.
  </para>
 </refsect1>

 <refsect1>
  <title>Notes</title>

   <para>
    <command>CREATE DATABASE</> ne peut pas être exécuté à l'intérieur d'un
    bloc de transactions.
   </para>

   <para>
    Les erreurs suivants la ligne <quote>could not initialize database directory</>
    (ne peut pas initialiser le répertoire de la base de données) sont le plus
    souvent dûes à des droits insuffisants sur le répertoire de données, à
    un disque plein ou à un autre problème du système de fichiers.
   </para>

   <para>
    Utilisez l'instruction
    <xref linkend="SQL-DROPDATABASE" endterm="SQL-DROPDATABASE-title"> pour
    supprimer la base de données.
   </para>

   <para>
    Le programme <xref linkend="APP-CREATEDB" endterm="APP-CREATEDB-title"> est
    un emballage autour de cette commande. Il est fourni pour la convenance.
   </para>

  <para>
   Bien qu'il soit possible de copier une base de données autre que
   <literal>template1</> en spécifiant son nom comme modèle, ceci n'est pas
   (encore) prévu comme un service
   <quote><command>COPY DATABASE</command></quote> d'usage général.
   Nous recommandons que les bases de données utilisées comme modèles soient
   en mode lecture seule.  Regardez la <xref linkend="manage-ag-templatedbs">
   pour plus d'informations.
  </para>

  <para>
   L'option <literal>CONNECTION LIMIT</> est seulement contraignante de façon
   approximative&nbsp;; si deux nouvelles sessions commencent à peu près en même
   temps alors qu'un seul <quote>emplacement</> est disponible dans la base de
   données, il est possible que les deux échouent. De plus, la limite n'existe
   pas pour les superutilisateurs.
  </para>
 </refsect1>

 <refsect1>
  <title>Exemples</title>

  <para>
   Pour créer une nouvelle base de données&nbsp;:

<programlisting>
CREATE DATABASE lusiadas;
</programlisting>
  </para>

  <para>
   Pour créer une base de données <literal>ventes</> possédée par l'utilisateur
   <literal>app_ventes</> avec l'espace logique <literal>espace_ventes</> par
   défaut&nbsp;:

<programlisting>
CREATE DATABASE ventes OWNER app_ventes TABLESPACE espace_ventes;
</programlisting>
  </para>

  <para>
   Pour créer une base de données <literal>musique</> qui supporte l'ensemble
   de caractères ISO-8859-1 &nbsp;:

<programlisting>
CREATE DATABASE musique ENCODING 'LATIN1';
</programlisting>
  </para>
 </refsect1>

 <refsect1>
  <title>Compatibilité</title>

  <para>
   Il n'existe pas d'instruction <command>CREATE DATABASE</command>
   dans le standard SQL.  Les bases de données sont équivalentes aux
   catalogues, dont la création est définie lors de l'implémentation.
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
