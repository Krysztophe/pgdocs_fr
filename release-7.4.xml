<?xml version="1.0" encoding="UTF-8"?>
<!-- Dernière modification
     le       $Date: 2009-05-03 13:57:02 +0200 (dim. 03 mai 2009) $
     par      $Author: gleu $
     révision $Revision: 1317 $ -->

 <sect1 id="release-7-4-29">
  <title>Release 7.4.29</title>

  <note>
  <title>Release date</title>
  <simpara>2010-05-17</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 7.4.28.
   For information about new features in the 7.4 major release, see
   <xref linkend="release-7-4"/>.
  </para>

  <para>
   The <productname>PostgreSQL</productname> community will stop releasing updates
   for the 7.4.X release series in July 2010.
   Users are encouraged to update to a newer release branch soon.
  </para>

  <sect2>
   <title>Migration to Version 7.4.29</title>

   <para>
    A dump/restore is not required for those running 7.4.X.
    However, if you are upgrading from a version earlier than 7.4.26,
    see the release notes for 7.4.26.
   </para>

  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

    <listitem>
     <para>
      Enforce restrictions in <literal>plperl</literal> using an opmask applied to
      the whole interpreter, instead of using <filename>Safe.pm</filename>
      (Tim Bunce, Andrew Dunstan)
     </para>

     <para>
      Recent developments have convinced us that <filename>Safe.pm</filename> is too
      insecure to rely on for making <literal>plperl</literal> trustable.  This
      change removes use of <filename>Safe.pm</filename> altogether, in favor of using
      a separate interpreter with an opcode mask that is always applied.
      Pleasant side effects of the change include that it is now possible to
      use Perl's <literal>strict</literal> pragma in a natural way in
      <literal>plperl</literal>, and that Perl's <literal>$a</literal> and <literal>$b</literal>
      variables work as expected in sort routines, and that function
      compilation is significantly faster.  (CVE-2010-1169)
     </para>
    </listitem>

    <listitem>
     <para>
      Prevent PL/Tcl from executing untrustworthy code from
      <structname>pltcl_modules</structname> (Tom)
     </para>

     <para>
      PL/Tcl's feature for autoloading Tcl code from a database table
      could be exploited for trojan-horse attacks, because there was no
      restriction on who could create or insert into that table.  This change
      disables the feature unless <structname>pltcl_modules</structname> is owned by a
      superuser.  (However, the permissions on the table are not checked, so
      installations that really need a less-than-secure modules table can
      still grant suitable privileges to trusted non-superusers.)  Also,
      prevent loading code into the unrestricted <quote>normal</quote> Tcl
      interpreter unless we are really going to execute a <literal>pltclu</literal>
      function.  (CVE-2010-1170)
     </para>
    </listitem>

    <listitem>
     <para>
      Do not allow an unprivileged user to reset superuser-only parameter
      settings (Alvaro)
     </para>

     <para>
      Previously, if an unprivileged user ran <literal>ALTER USER ... RESET
      ALL</literal> for himself, or <literal>ALTER DATABASE ... RESET ALL</literal> for
      a database he owns, this would remove all special parameter settings
      for the user or database, even ones that are only supposed to be
      changeable by a superuser.  Now, the <command>ALTER</command> will only
      remove the parameters that the user has permission to change.
     </para>
    </listitem>

    <listitem>
     <para>
      Avoid possible crash during backend shutdown if shutdown occurs
      when a <literal>CONTEXT</literal> addition would be made to log entries (Tom)
     </para>

     <para>
      In some cases the context-printing function would fail because the
      current transaction had already been rolled back when it came time
      to print a log message.
     </para>
    </listitem>

    <listitem>
     <para>
      Update pl/perl's <filename>ppport.h</filename> for modern Perl versions
      (Andrew)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix assorted memory leaks in pl/python (Andreas Freund, Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Ensure that <filename>contrib/pgstattuple</filename> functions respond to cancel
      interrupts promptly (Tatsuhito Kasahara)
     </para>
    </listitem>

    <listitem>
     <para>
      Make server startup deal properly with the case that
      <function>shmget()</function> returns <literal>EINVAL</literal> for an existing
      shared memory segment (Tom)
     </para>

     <para>
      This behavior has been observed on BSD-derived kernels including OS X.
      It resulted in an entirely-misleading startup failure complaining that
      the shared memory request size was too large.
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4-28">
  <title>Release 7.4.28</title>

  <note>
  <title>Release date</title>
  <simpara>2010-03-15</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 7.4.27.
   For information about new features in the 7.4 major release, see
   <xref linkend="release-7-4"/>.
  </para>

  <para>
   The <productname>PostgreSQL</productname> community will stop releasing updates
   for the 7.4.X release series in July 2010.
   Users are encouraged to update to a newer release branch soon.
  </para>

  <sect2>
   <title>Migration to Version 7.4.28</title>

   <para>
    A dump/restore is not required for those running 7.4.X.
    However, if you are upgrading from a version earlier than 7.4.26,
    see the release notes for 7.4.26.
   </para>

  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

    <listitem>
     <para>
      Add new configuration parameter <varname>ssl_renegotiation_limit</varname> to
      control how often we do session key renegotiation for an SSL connection
      (Magnus)
     </para>

     <para>
      This can be set to zero to disable renegotiation completely, which may
      be required if a broken SSL library is used.  In particular, some
      vendors are shipping stopgap patches for CVE-2009-3555 that cause
      renegotiation attempts to fail.
     </para>
    </listitem>

    <listitem>
     <para>
      Make <function>substring()</function> for <type>bit</type> types treat any negative
      length as meaning <quote>all the rest of the string</quote> (Tom)
     </para>

     <para>
      The previous coding treated only -1 that way, and would produce an
      invalid result value for other negative values, possibly leading to
      a crash (CVE-2010-0442).
     </para>
    </listitem>

    <listitem>
     <para>
      Fix some cases of pathologically slow regular expression matching (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      When reading <filename>pg_hba.conf</filename> and related files, do not treat
      <literal>@something</literal> as a file inclusion request if the <literal>@</literal>
      appears inside quote marks; also, never treat <literal>@</literal> by itself
      as a file inclusion request (Tom)
     </para>

     <para>
      This prevents erratic behavior if a role or database name starts with
      <literal>@</literal>.  If you need to include a file whose path name
      contains spaces, you can still do so, but you must write
      <literal>@"/path to/file"</literal> rather than putting the quotes around
      the whole construct.
     </para>
    </listitem>

    <listitem>
     <para>
      Prevent infinite loop on some platforms if a directory is named as
      an inclusion target in <filename>pg_hba.conf</filename> and related files
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Ensure PL/Tcl initializes the Tcl interpreter fully (Tom)
     </para>

     <para>
      The only known symptom of this oversight is that the Tcl
      <literal>clock</literal> command misbehaves if using Tcl 8.5 or later.
     </para>
    </listitem>

    <listitem>
     <para>
      Prevent crash in <filename>contrib/dblink</filename> when too many key
      columns are specified to a <function>dblink_build_sql_*</function> function
      (Rushabh Lathia, Joe Conway)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4-27">
  <title>Release 7.4.27</title>

  <note>
  <title>Release date</title>
  <simpara>2009-12-14</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 7.4.26.
   For information about new features in the 7.4 major release, see
   <xref linkend="release-7-4"/>.
  </para>

  <sect2>
   <title>Migration to Version 7.4.27</title>

   <para>
    A dump/restore is not required for those running 7.4.X.
    However, if you are upgrading from a version earlier than 7.4.26,
    see the release notes for 7.4.26.
   </para>

  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

    <listitem>
     <para>
      Protect against indirect security threats caused by index functions
      changing session-local state (Gurjeet Singh, Tom)
     </para>

     <para>
      This change prevents allegedly-immutable index functions from possibly
      subverting a superuser's session (CVE-2009-4136).
     </para>
    </listitem>

    <listitem>
     <para>
      Reject SSL certificates containing an embedded null byte in the common
      name (CN) field (Magnus)
     </para>

     <para>
      This prevents unintended matching of a certificate to a server or client
      name during SSL validation (CVE-2009-4034).
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible crash during backend-startup-time cache initialization (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Prevent signals from interrupting <literal>VACUUM</literal> at unsafe times
      (Alvaro)
     </para>

     <para>
      This fix prevents a PANIC if a <literal>VACUUM FULL</literal> is cancelled
      after it's already committed its tuple movements, as well as transient
      errors if a plain <literal>VACUUM</literal> is interrupted after having
      truncated the table.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix possible crash due to integer overflow in hash table size
      calculation (Tom)
     </para>

     <para>
      This could occur with extremely large planner estimates for the size of
      a hashjoin's result.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix very rare crash in <type>inet</type>/<type>cidr</type> comparisons (Chris
      Mikkelson)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix PAM password processing to be more robust (Tom)
     </para>

     <para>
      The previous code is known to fail with the combination of the Linux
      <literal>pam_krb5</literal> PAM module with Microsoft Active Directory as the
      domain controller.  It might have problems elsewhere too, since it was
      making unjustified assumptions about what arguments the PAM stack would
      pass to it.
     </para>
    </listitem>

    <listitem>
     <para>
      Make the postmaster ignore any <literal>application_name</literal> parameter in
      connection request packets, to improve compatibility with future libpq
      versions (Tom)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4-26">
  <title>Release 7.4.26</title>

  <note>
  <title>Release date</title>
  <simpara>2009-09-09</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 7.4.25.
   For information about new features in the 7.4 major release, see
   <xref linkend="release-7-4"/>.
  </para>

  <sect2>
   <title>Migration to Version 7.4.26</title>

   <para>
    A dump/restore is not required for those running 7.4.X.
    However, if you have any hash indexes on <type>interval</type> columns,
    you must <command>REINDEX</command> them after updating to 7.4.26.
    Also, if you are upgrading from a version earlier than 7.4.11,
    see the release notes for 7.4.11.
   </para>

  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

    <listitem>
     <para>
      Disallow <command>RESET ROLE</command> and <command>RESET SESSION
      AUTHORIZATION</command> inside security-definer functions (Tom, Heikki)
     </para>

     <para>
      This covers a case that was missed in the previous patch that
      disallowed <command>SET ROLE</command> and <command>SET SESSION
      AUTHORIZATION</command> inside security-definer functions.
      (See CVE-2007-6600)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix handling of sub-SELECTs appearing in the arguments of
      an outer-level aggregate function (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix hash calculation for data type <type>interval</type> (Tom)
     </para>

     <para>
      This corrects wrong results for hash joins on interval values.
      It also changes the contents of hash indexes on interval columns.
      If you have any such indexes, you must <command>REINDEX</command> them
      after updating.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix overflow for <literal>INTERVAL '<replaceable>x</replaceable> ms'</literal>
      when <replaceable>x</replaceable> is more than 2 million and integer
      datetimes are in use (Alex Hunsaker)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix calculation of distance between a point and a line segment (Tom)
     </para>

     <para>
      This led to incorrect results from a number of geometric operators.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <type>money</type> data type to work in locales where currency
      amounts have no fractional digits, e.g. Japan (Itagaki Takahiro)
     </para>
    </listitem>

    <listitem>
     <para>
      Properly round datetime input like
      <literal>00:12:57.9999999999999999999999999999</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix poor choice of page split point in GiST R-tree operator classes
      (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix portability issues in plperl initialization (Andrew Dunstan)
     </para>
    </listitem>

    <listitem>
     <para>
      Improve robustness of <application>libpq</application>'s code to recover
      from errors during <command>COPY FROM STDIN</command> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Avoid including conflicting readline and editline header files
      when both libraries are installed (Zdenek Kotala)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4-25">
  <title>Version 7.4.25</title>

  <note>
  <title>Date de version</title>
  <simpara>2009-03-16</simpara>
  </note>

  <para>
   Cette version contient des corrections de la version 7.4.24.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 7.4, voir <xref linkend="release-7-4"/>.
  </para>

  <sect2>
   <title>Migration vers la version 7.4.25</title>

   <para>
    Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
    version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
    antérieure à la 7.4.11, voir les notes de sortie de la 7.4.11.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Correction de crashs suite à des récursions erronées dûes à l'échec d'une
      conversion d'encodage (Tom)
     </para>

     <para>
      Cette modification étend les corrections réalisées lors des deux
      précédentes versions mineures pour les même scénarios. Les corrections
      déjà réalisées étaient ciblées sur les problèmes rencontrés, mais nous
      nous apercevons maintenant que <emphasis>toute</emphasis> erreur renvoyée
      par une fonction de conversion d'encodage pouvait entraîner une récursion
      infinie pour indiquer l'erreur. La solution est donc de désactiver toute
      traduction et conversion d'encodage. Le message d'erreur est renvoyé en
      ASCII simple si nous découvrons que nous sommes dans une situation
      susceptible d'entraîner une récursion infinie.
      (CVE-2009-0922)
     </para>
    </listitem>

    <listitem>
     <para>
      N'autorise plus <command>CREATE CONVERSION</command> avec les mauvais
      encodages pour la fonction de conversion spécifiée (Heikki)
     </para>

     <para>
      Ceci permet de prévenir un scénario possible pour un échec de conversion
      d'encodage. Le changement précédent permet de se protéger contre les
      autres échecs du même type.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un crash lorsque <function>to_char()</function> a pour
      argument des codes de format inappropriés pour la donnée en argument
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Ajout de <literal>MUST</literal> (Mauritius Island Summer Time) dans la
      liste par défaut des abréviations connues de fuseau horaire (Xavier
      Bugaud)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4-24">
  <title>Version 7.4.24</title>

  <note>
  <title>Date de version</title>
  <simpara>2009-02-02</simpara>
  </note>

  <para>
   Cette version contient des corrections de la version 7.4.23.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 7.4, voir <xref linkend="release-7-4"/>.
  </para>

  <sect2>
   <title>Migration vers la version 7.4.24</title>

   <para>
    Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
    version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
    antérieure à la 7.4.11, voir les notes de sortie de la 7.4.11.
   </para>

  </sect2>

  <sect2>
   <title>Changements</title>

   <itemizedlist>

    <listitem>
     <para>
      Amélioration de la gestion des URL dans la fonction
      <function>headline()</function> (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Amélioration de la gestion des lignes trop longues dans la fonction
      <function>headline()</function> (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Empêche des échecs ou des mauvaises conversions avec Assert si une
      conversion d'encodage est créé avec la mauvaise fonction de conversion
      pour la paire spécifiée des encodages (Tom, Heikki)
     </para>
    </listitem>

    <listitem>
     <para>
      Évite un verrou inutile des petites tables dans <command>VACUUM</command>
      (Heikki)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de variables non initialisées dans la fonction
      <function>get_covers()</function> de <filename>contrib/tsearch2</filename>
      (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un bogue dans la gestion de <function>to_char()</function>
      pour les codes de format <literal>TH</literal> (Andreas Scherbaum)
     </para>
    </listitem>

    <listitem>
     <para>
      Toute la documentation référence maintenant <literal>pgsql-bugs</literal>
      et/ou <literal>pgsql-hackers</literal>, au lieu des listes obsolètes comme
      <literal>pgsql-ports</literal> et <literal>pgsql-patches</literal> (Tom)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4-23">
  <title>Version 7.4.23</title>

  <note>
  <title>Date de sortie</title>
  <simpara>2008-11-03</simpara>
  </note>

  <para>
   Cette version contient des corrections de la version 7.4.22.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 7.4, voir <xref linkend="release-7-4"/>.
  </para>

  <sect2>
   <title>Migration vers la version 7.4.23</title>

   <para>
    Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
    version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
    antérieure à la 7.4.11, voir les notes de sortie de la 7.4.11.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Correction d'un crash du serveur lorsque l'encodage client ne peut pas
      représenter une version convertie du message d'erreur (Tom)
     </para>

     <para>
      Nous avons déjà corrigé des problèmes identiques dans le passé, mais le
      problème est toujours d'actualité si le message <quote>le caratère n'a
      pas d'équivalent</quote> ne peut pas être converti. La correction revient à
      désactiver la transformation et à renvoyer le message d'erreur en ASCII
      brut quand nous détectons cette situation.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de la génération du résumé (« headline ») par tsearch2 quand
      l'élément de la requête correspond au premier mot d'un texte (Sushant
      Sinha)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de l'affichage de secondes fractionnées dans des valeurs
      d'intervalle lors de l'utilisation d'un style de date non ISO dans une
      construction ayant utilisé l'option <option>--enable-integer-datetimes</option>
      (Ron Mayer)
     </para>
    </listitem>

    <listitem>
     <para>
      S'assure que <function>SPI_getvalue</function> et <function>SPI_getbinval</function>
      fonctionnent correctement lorsque la ligne et le descripteur de ligne
      passés ont un nombre de colonnes différent (Tom)
     </para>

     <para>
      Cette situation est normale quand une table se voit ajouter ou supprimer
      des colonnes, mais ces deux fonctions ne le géraient pas correctement.
      La seule conséquence probable est l'envoi d'un message d'erreur erroné.
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de l'analyse de <command>CREATE USER</command> par
      <application>ecpg</application> (Michael)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4-22">
  <title>Version 7.4.22</title>

  <note>
  <title>Date de sortie</title>
  <simpara>2008-09-22</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 7.4.21.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 7.4, voir <xref linkend="release-7-4"/>.
  </para>

  <sect2>
   <title>Migration vers la version 7.4.22</title>

   <para>
    Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la version 7.4.X.
    However, if you are upgrading from a version earlier than 7.4.11,
    see the release notes for 7.4.11.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Fix datetime input functions to correctly detect integer overflow when
      running on a 64-bit platform (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Improve performance of writing very long log messages to syslog (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix bug in backwards scanning of a cursor on a <literal>SELECT DISTINCT
      ON</literal> query (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix planner to estimate that <literal>GROUP BY</literal> expressions yielding
      boolean results always result in two groups, regardless of the
      expressions' contents (Tom)
     </para>

     <para>
      This is very substantially more accurate than the regular <literal>GROUP
      BY</literal> estimate for certain boolean tests like <replaceable>col</replaceable>
      <literal>IS NULL</literal>.
     </para>
    </listitem>

    <listitem>
     <para>
      Improve <application>pg_dump</application> and <application>pg_restore</application>'s
      error reporting after failure to send a SQL command (Tom)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4-21">
  <title>Version 7.4.21</title>

  <note>
  <title>Date de sortie</title>
  <simpara>2008-06-12</simpara>
  </note>

  <para>
   This release contains one serious bug fix over 7.4.20.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 7.4, voir <xref linkend="release-7-4"/>.
  </para>

  <sect2>
   <title>Migration vers la version 7.4.21</title>

   <para>
    Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la version 7.4.X.
    However, if you are upgrading from a version earlier than 7.4.11,
    see the release notes for 7.4.11.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Make <function>pg_get_ruledef()</function> parenthesize negative constants (Tom)
     </para>

     <para>
      Before this fix, a negative constant in a view or rule might be dumped
      as, say, <literal>-42::integer</literal>, which is subtly incorrect: it should
      be <literal>(-42)::integer</literal> due to operator precedence rules.
      Usually this would make little difference, but it could interact with
      another recent patch to cause
      <productname>PostgreSQL</productname> to reject what had been a valid
      <command>SELECT DISTINCT</command> view query.  Since this could result in
      <application>pg_dump</application> output failing to reload, it is being treated
      as a high-priority fix.  The only released versions in which dump
      output is actually incorrect are 8.3.1 and 8.2.7.
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4-20">
  <title>Version 7.4.20</title>

  <note>
  <title>Date de sortie</title>
  <simpara>never released</simpara>
  </note>

  <para>
   This release contains a variety of fixes from 7.4.19.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 7.4, voir <xref linkend="release-7-4"/>.
  </para>

  <sect2>
   <title>Migration vers la version 7.4.20</title>

   <para>
    Une sauvegarde/restauration n'est pas nécessaire aux utilisateurs de la version 7.4.X.
    However, if you are upgrading from a version earlier than 7.4.11,
    see the release notes for 7.4.11.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Fix conversions between ISO-8859-5 and other encodings to handle
      Cyrillic <quote>Yo</quote> characters (<literal>e</literal> and <literal>E</literal> with
      two dots) (Sergey Burladyan)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix a few datatype input functions
      that were allowing unused bytes in their results to contain
      uninitialized, unpredictable values (Tom)
     </para>

     <para>
      This could lead to failures in which two apparently identical literal
      values were not seen as equal, resulting in the parser complaining
      about unmatched <literal>ORDER BY</literal> and <literal>DISTINCT</literal>
      expressions.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix a corner case in regular-expression substring matching
      (<literal>substring(<replaceable>string</replaceable> from
      <replaceable>pattern</replaceable>)</literal>) (Tom)
     </para>

     <para>
      The problem occurs when there is a match to the pattern overall but
      the user has specified a parenthesized subexpression and that
      subexpression hasn't got a match.  An example is
      <literal>substring('foo' from 'foo(bar)?')</literal>.
      This should return NULL, since <literal>(bar)</literal> isn't matched, but
      it was mistakenly returning the whole-pattern match instead (ie,
      <literal>foo</literal>).
     </para>
    </listitem>

    <listitem>
     <para>
      Fix incorrect result from <application>ecpg</application>'s
      <function>PGTYPEStimestamp_sub()</function> function (Michael)
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <literal>DatumGetBool</literal> macro to not fail with <application>gcc</application>
      4.3 (Tom)
     </para>

     <para>
      This problem affects <quote>old style</quote> (V0) C functions that
      return boolean.  The fix is already in 8.3, but the need to
      back-patch it was not realized at the time.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix longstanding <command>LISTEN</command>/<command>NOTIFY</command>
      race condition (Tom)
     </para>

     <para>
      In rare cases a session that had just executed a
      <command>LISTEN</command> might not get a notification, even though
      one would be expected because the concurrent transaction executing
      <command>NOTIFY</command> was observed to commit later.
     </para>

     <para>
      A side effect of the fix is that a transaction that has executed
      a not-yet-committed <command>LISTEN</command> command will not see any
      row in <structname>pg_listener</structname> for the <command>LISTEN</command>,
      should it choose to look; formerly it would have.  This behavior
      was never documented one way or the other, but it is possible that
      some applications depend on the old behavior.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix display of constant expressions in <literal>ORDER BY</literal>
      and <literal>GROUP BY</literal> (Tom)
     </para>

     <para>
      An explictly casted constant would be shown incorrectly.  This could
      for example lead to corruption of a view definition during
      dump and reload.
     </para>
    </listitem>

    <listitem>
     <para>
      Fix <application>libpq</application> to handle NOTICE messages correctly
      during COPY OUT (Tom)
     </para>

     <para>
      This failure has only been observed to occur when a user-defined
      datatype's output routine issues a NOTICE, but there is no
      guarantee it couldn't happen due to other causes.
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4-19">
  <title>Version 7.4.19</title>

  <note>
  <title>Date de sortie</title>
  <simpara>2008-01-07</simpara>
  </note>

  <para>
   Cette version contient divers correctifs de la version 7.4.18,
   et inclut des corrections pour des failles de sécurité importantes.
   Pour plus d'informations sur les nouvelles fonctionnalités de la
   version majeure 7.4, voir <xref linkend="release-7-4"/>.
  </para>

  <sect2>
   <title>Migration vers la version 7.4.19</title>

   <para>
    Les utilisateurs des versions 7.4.X n'ont pas besoin d'effectuer d'une
    étape de sauvegarde/restauration. Néanmoins, si vous mettez à jour à partir
    d'une version précédant la 7.4.11, voir les notes de version de la 7.4.11.
   </para>

  </sect2>

  <sect2>
   <title>Modifications</title>

   <itemizedlist>

    <listitem>
     <para>
      Empêche les fonctions d'index de s'exécuter avec les droits de
      l'utilisateur exécutant <command>VACUUM</command>,
      <command>ANALYZE</command>, etc (Tom)
     </para>

     <para>
      Les fonctions utilisées dans les expressions d'index et dans les index
      partiels sont évaluées quand une nouvelle entrée est faite dans la table.
      Depuis longtemps, ceci est un risque, un cheval de Troie pouvant être
      exécuté si une personne modifie une table appartenant à un utilisateur
      à qui on ne peut faire confiance (Notez ques les triggers, valeurs par
      défaut, contraintes de vérification, etc posent le même type de risque.)
      Mais les fonctions utilisées dans des index sont un danger supplémentaire
      car ils seront exécutés par des opérations de maintenance périodiques
      comme un <command>VACUUM FULL</command>, opérations généralement
      exécutées par des super-utilisateurs. Donc, un utilisateur cherchant à
      gagner accès au système peut exécuter du code avec des droits de
      super-utilisateur en ajoutant une définition d'index avec un code de
      cheval de Troie, puis attendre la prochaine exécution des opérations de
      maintenance. La correction s'arrange pour que les opérations standards de
      maintenance (ceci incluant <command>VACUUM</command>,
      <command>ANALYZE</command>, <command>REINDEX</command> et
      <command>CLUSTER</command>) s'exécutent en tant que propriétaire de la
      table plutôt qu'en tant qu'appelent, en utilisant le même mécanisme de
      bascule de droits utilisé dans les fonctions <literal>SECURITY
      DEFINER</literal>. Pour empêcher un coutournement de cette mesure de
      sécurité, l'exécution de <command>SET SESSION AUTHORIZATION</command>
      et <command>SET ROLE</command> est maintenant interdit dans un contexte
      <literal>SECURITY DEFINER</literal>. (CVE-2007-6600)
     </para>
    </listitem>

    <listitem>
     <para>
      Réparation de bogues relatifs aux expressions rationnelles (Tom, Will
      Drewry)
     </para>

     <para>
      Des motifs d'expressions rationnelles conçus très précisément pourraient
      causer des arrêts brutaux, des boucles infinies (ou presque) et/ou une
      consommation massive de mémoire. Tout ceci représente un risque de
      déni de service pour les applications qui acceptent des motifs de
      recherche via des expressions rationnelles à partir de sources indignes
      de confiance. (CVE-2007-4769, CVE-2007-4772, CVE-2007-6067)
     </para>
    </listitem>

    <listitem>
     <para>
      Oblige l'utilisation de l'authentification par mot de passe pour les
      utilisateurs standards de <filename>/contrib/dblink</filename>, c'est
      une mesure de sécurité (Joe)
     </para>

     <para>
      La correction apparue dans 8.2.5 était incomplète, car il ne corrigeait
      la faille que pour certaines fonctions <filename>dblink</filename>. 
      (CVE-2007-6601, CVE-2007-3278)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un échec du planificateur dans certaines cas de
      <literal>WHERE false AND var IN (SELECT ...)</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un arrêt brutal potentiel dans
      <function>translate()</function> lors de l'utilisation d'un encodage
      multi-octets de la base (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de PL/Python pour ne pas causer un arrêt brutal sur des
      messages d'exception longs (Alvaro)
     </para>
    </listitem>

    <listitem>
     <para>
      Corrections de l'analyseur <application>ecpg</application> (Michael)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction pour que <function>crosstab()</function>, du module
      <filename>contrib/tablefunc</filename>, gère les rowid NULL comme catégorie (Joe)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction des routines d'affichage de <type>tsvector</type> et
      <type>tsquery</type> pour échapper correctement les antislashs (Teodor,
      Bruce)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction d'un arrêt brutal de <function>to_tsvector()</function> sur
      les très grosses chaînes en entrée (Teodor)
     </para>
    </listitem>

    <listitem>
     <para>
      Nécessite l'utilisation d'une version spécifique
      d'<productname>Autoconf</productname> lors de la re-génération du script
      <command>configure</command> (Peter)
     </para>

     <para>
      Ceci affecte seulement les développeurs et les créateurs de package.
      La modification a pour but d'empêcher l'utilisation accidentelle de
      combinaisons non testées des versions d'<productname>Autoconf</productname>
      et de <productname>PostgreSQL</productname>. Vous pouvez supprimer la
      vérification de la version si vous voulez vraiment utiliser une version
      différente d'<productname>Autoconf</productname>, mais c'est de votre
      responsabilité.
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

  <sect1 id="release-7-4-18">
   <title>Version 7.4.18</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2007-09-17</simpara>
   </note>

   <para>
    Cette version contient divers correctifs de la version 7.4.17.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.18</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
     antérieure à la 7.4.11, voir les notes de sortie de la 7.4.11.
    </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

    <itemizedlist>

     <listitem>
      <para>
       <command>CREATE DOMAIN ... DEFAULT NULL</command> fonctionne
       correctement (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       la journalisation excessive des messages d'erreur <acronym>SSL</acronym>
       est corrigée (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       le plantage lorsque la journalisation de
       <varname>log_min_error_statement</varname> n'a plus de mémoire
       disponible est corrigé (Tom)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       <command>CLUSTER</command> ne plante
       plus en tentant de travailler sur les tables temporaires d'autres
       sessions (Alvaro)&nbsp;;
      </para>
     </listitem>

     <listitem>
      <para>
       les utilisateurs dépourvus de droit superutilisateur qui utilisent 
       <filename>/contrib/dblink</filename> ne peuvent utiliser que
       l'authentification par mot de passe, pour des raisons de sécurité
       (Joe).
      </para>
     </listitem>

    </itemizedlist>

   </sect2>
  </sect1>
 
  <sect1 id="release-7-4-17">
   <title>Version 7.4.17</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2007-04-23</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la 7.4.16, dont la
    correction d'une faille de sécurité.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.17</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
     antérieure à la 7.4.11, voir les notes de sortie de la 7.4.11.
    </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

    <itemizedlist>

     <listitem>
     <para>
      Supporte le placement explicite du schéma des tables temporaires dans
      <varname>search_path</varname>, et désactive sa recherche pour les fonctions
      et opérateurs (Tom)
     </para>
     <para>
      Ceci est nécessaire pour autoriser une fonction en mode security-definer
      à configurer une valeur sécurisée de <varname>search_path</varname>. Sans cela,
      un utilisateur SQL sans droit peut utiliser des objets temporaires pour
      exécuter du code avec une fonction possédant les droits du créateur de
      la fonction (CVE-2007-2138). Voir <command>CREATE FUNCTION</command> pour plus
      d'informations.
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'arrêts brutaux dans <filename>/contrib/tsearch2</filename> (Teodor)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'un bogue pouvant corrompre des données dans la façon
      dont <command>VACUUM FULL</command> gère les chaînes <command>UPDATE</command>
      (Tom, Pavan Deolasee)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'un PANIC lors de l'élargissement d'un index haché
      (bug introduit en 7.4.15) (Tom)
     </para>
     </listitem>

    </itemizedlist>

   </sect2>
  </sect1>

  <sect1 id="release-7-4-16">
   <title>Version 7.4.16</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2007-02-05</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la 7.4.15, dont la
    correction d'une faille de sécurité.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.16</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
     antérieure à la 7.4.11, voir les notes de sortie de la 7.4.11.
    </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

    <itemizedlist>

     <listitem>
     <para>
      Suppression d'une faille de sécurité qui permet à des utilisateurs
      connectés de lire la mémoire du serveur (backend)
      (Tom)
     </para>
     <para>
      Cette vulnérabilité implique de modifier le type de données de la
      colonne d'une table utilisée dans une fonction SQL (CVE-2007-0555).
      Cette erreur peut être facilement exploitée pour causer un arrêt brutal
      du serveur et pourrait être utilisée, en principe, pour lire un contenu
      de la base, contenu que l'utilisateur ne devrait pas pouvoir accéder.
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'un bogue rare où la séparation de page d'un index btree
      pourrait échouer à cause du choix d'un point de séparation infaisable.
      (Heikki Linnakangas)
     </para>
     </listitem>

     <listitem>
     <para>
      Correction d'un bogue rare dans Assert() déclenché par <literal>UNION</literal> (Tom)
     </para>
     </listitem>

     <listitem>
     <para>
      Amélioration de la sécurité du traitement de caractères multi-octets pour
      les séquences UTF8 de plus de trois octets  (Tom)
     </para>
     </listitem>

    </itemizedlist>

   </sect2>
  </sect1>

  <sect1 id="release-7-4-15">
   <title>Version 7.4.15</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2007-01-08</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la 7.4.14.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.15</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
     antérieure à la 7.4.11, voir les notes de sortie de la 7.4.11.
    </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

    <itemizedlist>

     <listitem>
      <para>
       Amélioration de la gestion de <function>getaddrinfo()</function> sur AIX
       (Tom)
      </para>

      <para>
       Ceci corrige un problème lors du lancement, entre autres, du récupérateur
       de statistiques.
      </para>
     </listitem>

      <listitem>
       <para>
        Correction des erreurs <quote>failed to re-find parent key</quote> du
        <command>VACUUM</command> (Tom)
       </para>
      </listitem>

      <listitem>
       <para>
        Corrections de bogues affectant les index hash de plusieurs Go (Tom)
       </para>
      </listitem>

     <listitem>
      <para>
       Correction de l'erreur lors de la construction d'un
       <literal>ARRAY[]</literal> contenant plusieurs éléments vides (Tom)
      </para>
     </listitem>

     <listitem>
      <para>
       <function>to_number()</function> et <function>to_char(numeric)</function>
       sont maintenant <literal>STABLE</literal>, et non plus
       <literal>IMMUTABLE</literal>, pour les nouvelles installations
       (<application>initdb</application> nécessaire) (Tom)
      </para>

      <para>
       Ceci a été modifié car <literal>lc_numeric</literal> peut modifier la
       sortie de ces fonctions.
      </para>
     </listitem>

     <listitem>
      <para>
       Amélioration de l'utilisation des expressions rationnelles qui utilisent
       des parenthèses (Tom)
      </para>

      <para>
       Ceci améliore aussi les performances de l'<literal>\d</literal> de
       <application>psql</application>.
      </para>
     </listitem>

    </itemizedlist>

   </sect2>
  </sect1>

  <sect1 id="release-7-4-14">
   <title>Version 7.4.14</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2006-10-16</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la 7.4.13.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.14</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
     antérieure à la 7.4.11, voir les notes de sortie de la 7.4.11.
    </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

<itemizedlist>
<listitem><para>Correction d'un <quote>core dump</quote> quand un litéral sans
  type est pris pour un ANYARRAY</para></listitem>
<listitem><para>Correction de <function>string_to_array()</function> pour gérer des
  correspondances se surchargeant pour la chaîne de séparation</para>
<para>Par exemple, <literal>string_to_array('123xx456xxx789', 'xx')</literal>.
</para></listitem>
<listitem><para>Correction de quelques cas rares dans la correspondance de modèles
  pour les commandes <literal>\d</literal> de <application>psql</application></para></listitem>
<listitem><para>Correction de bogues corrompant les index dans /contrib/ltree
  (Teodor)</para></listitem>
<listitem><para>Correction de l'échappement des antislashs dans /contrib/dbmirror</para></listitem>
<listitem><para>Ajustement des tests de regression suite aux modifications
  récentes des lois de l'US DST</para> </listitem>

</itemizedlist>

   </sect2>
  </sect1>
 
  <sect1 id="release-7-4-13">
   <title>Version 7.4.13</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2006-05-23</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la 7.4.12 incluant des
    correctifs pour des problèmes de sécurité extrêmement sérieux.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.13</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
     antérieure à la 7.4.11, voir les notes de sortie de la 7.4.11.
    </para>

    <para>
     Assurer une sécurité complète contre les attaques par injection SQL décrites
     dans CVE-2006-2313 et CVE-2006-2314 peuvent demander des modifications dans
     le code de l'application. Si vous avez des applications embarquant des
     chaînes non sûres dans des commandes SQL, vous devriez les examiner aussi
     rapidement que possible pour vous assurer qu'elles utilisent les techniques
     d'échappement recommandées. Dans la plupart des cas, les applications
     devraient utiliser des sous-routines fournies par des bibliothèques ou des
     pilotes (comme <function>PQescapeStringConn()</function> de <application>libpq</application>)
     pour réaliser l'échappement des chaînes plutôt que de se fier à un code
     <foreignphrase>ad hoc</foreignphrase>.
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>

<itemizedlist>
<listitem><para>Modification du serveur pour qu'il rejette les caractères
multi-octets mal codés dans tous les cas (Tatsuo, Tom)</para>
<para>Bien que <productname>PostgreSQL</productname> va dans cette direction depuis un
certain temps, les vérifications sont maintenant appliquées uniformément à
tous les codages et toutes les entrées de texte. Ce sont maintenant des
erreurs, et non plus des messages d'avertissement. Ce changement sert à se
défendre contre les attaques à base d'injection SQL du type décrit dans
CVE-2006-2313.
</para></listitem>

<listitem><para>Rejette des utilisations non sûres de <literal>\'</literal> dans les
chaînes</para>
<para>En tant que défense côté serveur contre les attaques de type injection
SQL décrit dans CVE-2006-2314, le serveur accepte maintenant seulement
<literal>''</literal> et plus <literal>\'</literal> comme représentation d'un guillemet simple
ASCII dans des chaînes SQL. Par défaut, <literal>\'</literal> est rejetté seulement
quand <varname>client_encoding</varname> est configuré avec un codage client seul
(SJIS, BIG5, GBK, GB18030 ou UHC), qui est le scénario dans lequel l'injection
SQL est possible. Un nouveau paramètre de configuration
<varname>backslash_quote</varname> est disponible pour ajuster ce comportement si
nécessaire. Notez qu'une sécurité complète contre
CVE-2006-2314 pourrait nécessiter des modifications du côté client&nbsp;; le but
de <varname>backslash_quote</varname> est en partie de rendre évident que les clients
non sécurisés sont non sécurisés.
</para></listitem>

<listitem><para>Modification des routines d'échappement de texte de
<application>libpq</application> pour le rendre conscient des considérations de
codage</para>
<para>Ceci corrige les applications utilisant <application>libpq</application> pour les
problèmes de sécurité décrits dans CVE-2006-2313 et CVE-2006-2314. Les
applications qui utilisent les connections concurrentes multiples de
<productname>PostgreSQL</productname> devraient migrer vers <function>PQescapeStringConn()</function>
et <function>PQescapeByteaConn()</function> pour s'assurer que l'échappement est
réalisé correctement pour les paramétrages utilisés dans chaque connexion de
base de données. Les applications qui font des échappements de chaînes
<quote>à la main</quote> devraient être modifiées pour se fier à aux routines de la
bibliothèques à la place.
</para></listitem>

<listitem><para>Correction de quelques fonctions de conversion de codage</para>
<para><function>win1251_to_iso</function>, <function>alt_to_iso</function>,
<function>euc_tw_to_big5</function>, <function>euc_tw_to_mic</function>,
<function>mic_to_euc_tw</function> étaient toutes cassées à différents niveaux.
</para></listitem>

<listitem><para>Nettoyage des utilisations restantes et parasites de 
<literal>\'</literal> dans les chaînes (Bruce, Jan)</para></listitem>

<listitem><para>Correction d'un bogue qui a quelque fois empêché des parcours
d'index OR de ramener les lignes adéquates</para></listitem>

<listitem><para>Correction d'un replay WAL pour le cas où un index btree a été
tronqué</para></listitem>

<listitem><para>Correction de <literal>SIMILAR TO</literal> pour les modèles impliquant
<literal>|</literal> (Tom)</para></listitem>

<listitem><para>Correction du serveur pour qu'il utilise les paramètres
personnalisés DH SSL correctement (Michael Fuhr)</para></listitem>

<listitem><para>Correction de Bonjour pour les Intel Macs (Ashley Clark)</para></listitem>

<listitem><para>Correction de quelques pertes mémoires mineures</para></listitem>
</itemizedlist>

   </sect2>
  </sect1>

  <sect1 id="release-7-4-12">
   <title>Version 7.4.12</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2006-02-14</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la 7.4.11.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.12</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
     antérieure à la 7.4.11, voir les notes de sortie de la 7.4.11.
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>

<itemizedlist>

<listitem><para>Correction d'un arrêt brutal potentiel dans <command>SET
SESSION AUTHORIZATION</command> (CVE-2006-0553)</para>
<para>Un utilisateur non privilégié pourrait faire arrêter brutalement le
processus serveur, résultant en un déni de service momentané pour les autres
utilisateurs si le serveur a été compilé en activant les assertions (ce qui
n'est pas la valeur par défaut).
Merci à Akio Ishida pour nous avoir rapporté ce problème.
</para></listitem>

<listitem><para>Correction d'un bogue avec la logique de visibilité des
lignes dans les lignes insérées soi-même (Tom)</para>
<para>Dans des circonstances rares, une ligne insérée par la commande en cours
pourrait déjà être vue comme valide alors qu'elle ne le devrait pas. Corrige
un bogue ajoutée dans les versions 7.4.9 et 7.3.11.
</para></listitem>

<listitem><para>Correction d'une condition qui pourrait amener une erreur de type
<quote>le fichier existe déjà</quote> lors de la création d'un fichier pg_clog
(Tom)</para></listitem>

<listitem><para>Vérification correcte des contraintes <literal>DOMAIN</literal> pour
les paramètres <literal>UNKNOWN</literal> dans les instructions préparées
(Neil)</para></listitem>

<listitem><para>Correction pour permettre la restauration de sauvegardes qui
avaient des références croisées de schémas pour les opérateurs personnalisés
(Tom)</para></listitem>

<listitem><para>Correction de portabilité pour tester la présence de
<function>finite</function> et <function>isinf</function> lors du configure (Tom)</para></listitem>

</itemizedlist>

   </sect2>
  </sect1>
  <sect1 id="release-7-4-11">
   <title>Version 7.4.11</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2006-01-09</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la version 7.4.10.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.11</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
     antérieure à la 7.4.8, voir les notes de sortie de la 7.4.8.
     De plus, vous aurez sûrement besoin de lancer la commande
     <command>REINDEX</command> sur les index des colonnes de type texte après la
     mise à jour si vous êtes affectés par les problèmes de locale ou de
     <application>plperl</application> décrits ci-dessous.
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>
  
<itemizedlist>

<listitem><para>Correction des messages Describe au niveau protocole lancés
de l'extérieur d'une transaction ou à partir d'une transaction échouée
(Tom)</para></listitem>

<listitem><para>Correction de la comparaison de chaînes de caractères pour les
locales qui considèrent des combinaisons différentes de caractères comme égales,
comme le hongrois (Tom)</para>
<para>Ceci pourrait nécessiter l'exécution de la commande <command>REINDEX</command>
pour corriger les index existants sur des colonnes de type texte.</para></listitem>

<listitem><para>Configuration des variables d'environnement de la locale lors
du démarrage de postmaster pour s'assurer que <application>plperl</application> ne
changera pas de locale après</para>
<para>Ceci corrige un problème qui survenait si le <application>postmaster</application>
était lancé avec les variables d'environnement spécifiant une locale différente
que celle indiquée par <application>initdb</application>. Sous ces conditions, toute
utilisation de <application>plperl</application> pouvait amener une corruption des index.
Vous pourriez avoir besoin de lancer <command>REINDEX</command> pour corriger des
index existant sur des colonnes de type texte si cela vous arrivait.
</para></listitem>

<listitem><para>Correction d'un ancien bogue dans strpos() et dans le gestion
des expressions rationnelles de certains ensembles de caractères asiatiques
rarement utilisés (Tatsuo)
</para></listitem>

<listitem><para>Correction d'un bogue dans gen_salt de <filename>/contrib/pgcrypto</filename>,
qui l'empêchait d'utiliser l'espace disponible des grains de sel (salt) pour les
algorithmes MD5 et XDES (Marko Kreen, Solar Designer)</para>
<para>Les grains de sel ne sont pas affectés pour Blowfish et le DES
standard.</para></listitem>

<listitem><para>Correction de <filename>/contrib/dblink</filename> pour renvoyer une
erreur plutôt que de s'arrêter brutalement quand le nombre de colonnes spécifié
est différent de ce qui est réellement renvoyé par la requête (Joe)</para></listitem>
</itemizedlist>

   </sect2>
  </sect1>

  <sect1 id="release-7-4-10">
   <title>Version 7.4.10</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2005-12-12</simpara>
   </note>

   <para>
    Cette version contient quelques corrections sur la 7.4.9.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.10</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
     antérieure à la 7.4.8, voir les notes de sortie de la 7.4.8.
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>
  
<itemizedlist>

<listitem><para>Correction d'un cas extrême dans la gestion des traces des
transactions</para>
<para>Il existait une petite possibilité pour laquelle une opération
d'entrée/sortie pouvait être initiée pour la mauvaise page, amenant à un
échec Assert ou à une corruption de données.</para>
</listitem>

<listitem><para>Empêche un échec si le client envoie un message de protocole
Bind quand la transaction en cours est déjà annulée</para></listitem>

<listitem><para>Corrections sur <filename>/contrib/ltree</filename> (Teodor)</para></listitem>

<listitem><para>Corrections de compilation sur AIX et HPUX (Tom)</para></listitem>

<listitem><para>Correction d'une vieille erreur sur les jointures externes</para>
<para>Ce bogue a quelque fois causé une fausse erreur <quote>RIGHT JOIN is
only supported with merge-joinable join conditions</quote>.</para></listitem>

<listitem><para>Empêchement d'un arrêt brutal dans <application>pg_autovacuum</application>
quand une table a été supprimée</para></listitem>

</itemizedlist>

   </sect2>
  </sect1>

  <sect1 id="release-7-4-9">
   <title>Version 7.4.9</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2005-10-04</simpara>
   </note>

   <para>
    Cette version contient quelques corrections de la 7.4.8.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration à partir de la version 7.4.9</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, si vous mettez à jour à partir d'une version
     antérieure à la 7.4.8, voir les notes de sortie de la 7.4.8.
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>

     <itemizedlist>
      <listitem><para>Correction d'une erreur qui permettait au <command>VACUUM</command>
       de supprimer les chaînes <literal>ctid</literal> trop tôt, et ajout de
       vérification supplémentaire dans le code qui suit les liens
       <literal>ctid</literal></para>
       <para>Ceci corrige un vieux problème qui pourrait causer des arrêt
       brutaux dans de rares circonstances.</para></listitem>
      <listitem><para>Correction de <type>CHAR()</type> pour ajouter le nom
       d'espaces spécifié lors de l'utilisation d'un ensemble de caractères
       multi-octets (Yoshiyuki Asaba)</para>
       <para>Dans les versions précédentes, l'ajout pour <type>CHAR()</type> était
       incorrect car il ajoutait seulement le nombre d'octets spécifiés sans
       prendre en considération la façon dont les caractères étaient stockés.
       </para></listitem>
      <listitem><para>Correction du sens du test pour les transactions
       en lecture seule dans <command>COPY</command></para>
       <para>Le code empêchait <command>COPY TO</command> alors qu'il aurait dû interdire
       <command>COPY FROM</command>.</para></listitem>
      <listitem><para>Correction du problème de planification avec les clauses
       ON des jointures externes qui référencent seulement la relation du côté
       interne</para></listitem>
      <listitem><para>Autres corrections sur les cas particuliers du <literal>x
       FULL JOIN y ON true</literal></para></listitem>
      <listitem><para>Rend <function>array_in</function> et <function>array_recv</function> plus
       paranoïaque sur la validation de leur paramètre OID</para></listitem>
      <listitem><para>Correction des lignes manquantes dans les requêtes
       du type <literal>UPDATE a=... WHERE a...</literal> avec un index GiST sur la
       colonne <literal>a</literal></para></listitem>
      <listitem><para>Amélioration de la stabilité de l'analyse des valeurs du
       type datetime</para></listitem>
      <listitem><para>Amélioration de la vérification pour les pages WAL
       partiellement écrites</para></listitem>
      <listitem><para>Amélioration de la solidité de la gestion des signaux
       lorsque SSL est activé</para></listitem>
      <listitem><para>Empêche l'ouverture de plus de <literal>max_files_per_process</literal>
       fichiers lors du démarrage de postmaster</para></listitem>
      <listitem><para>Plusieurs corrections de perte mémoire</para></listitem>
      <listitem><para>Quelques améliorations sur la portabilité</para></listitem>
      <listitem><para>Correction de PL/PgSQL pour gérer correctement
       <literal>var := var</literal> quand la variable est passée par
       référence</para></listitem>
      <listitem><para>Mise à jour de <filename>contrib/tsearch2</filename> pour utiliser
       le code Snowball actuel</para></listitem>
     </itemizedlist>

   </sect2>
  </sect1>
 
  <sect1 id="release-7-4-8">
   <title>Version 7.4.8</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2005-05-09</simpara>
   </note>

   <para>
    Cette version contient quelques corrections sur la 7.4.7, dont des
    correctifs sur des failles de sécurité.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.8</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, c'est une façon possible de gérer deux problèmes
     de sécurité significatifs, qui ont été trouvé dans le contenu initial des
     catalogues systèmes des versions 7.4.X. Une séquence
     sauvegarde/initdb/restauration utilisant le initdb de la 7.4.8 corrigera
     automatiquement ces problèmes.
    </para>

    <para>
     Le problème de sécurité le plus important est que les fonctions de conversion
     du codage des ensembles de caractères peuvent être appelées à partir de
     commandes SQL par des utilisateurs non pribilégiés alors que les fonctions
     n'ont pas été conçues pour un tel usage et ne sont pas sécurisées contre
     des choix rusés des arguments. Le correctif implique de modifier la liste
     déclarée des arguments de ces fonctions pour qu'elles ne soient plus
     appelées à partir des commandes SQL. (Ceci n'affecte pas leur utilisation
     normale par la machinerie de conversion du codage.)
    </para>

    <para>
     Le problème le moins important est que le module <filename>contrib/tsearch2</filename>
     crée plusieurs fonctions déclarant par erreur renvoyées <type>internal</type>
     alors qu'elles n'acceptent pas les arguments <type>internal</type>. Ceci casse
     la sûreté des types pour toutes les fonctions utilisant des arguments
     <type>internal</type>.
    </para>

    <para>
     Il est fortement recommandé que toutes les installations corrigent ces
     erreurs, soit par un initdb soit en suivant les procédures de réparation
     données ci-dessous. Les erreurs permettent au moins à des utilisateurs
     non privilégiés de la base de données d'arrêter brutalement leur
     processus serveur et pourraient permettre à des utilisateurs non privilégiés
     de gagner les privilèges d'un superutilisateur.
    </para>

    <para>
     Si vous souhaitez ne pas lancer d'initdb, exécutez la procédure suivante à
     la place en tant que superutilisateur de la base de données&nbsp;:

<programlisting>BEGIN;
UPDATE pg_proc SET proargtypes[3] = 'internal'::regtype
WHERE pronamespace = 11 AND pronargs = 5
      AND proargtypes[2] = 'cstring'::regtype;
-- La commande devrait rapporter qu'elle a mis à jour 90 lignes ;
-- si ce n'est pas le cas, annulez (rollback) et investiguez au lieu de valider !
COMMIT;
</programlisting>

     Ensuite, si vous avez installé <filename>contrib/tsearch2</filename>, faites

<programlisting>BEGIN;
UPDATE pg_proc SET proargtypes[0] = 'internal'::regtype
WHERE oid IN (
    'dex_init(text)'::regprocedure,
    'snb_en_init(text)'::regprocedure,
    'snb_ru_init(text)'::regprocedure,
    'spell_init(text)'::regprocedure,
    'syn_init(text)'::regprocedure
);
-- La commande devrait rapporter qu'elle a mis à jour 90 lignes ;
-- si ce n'est pas le cas, annulez (rollback) et investiguez au lieu de valider !
COMMIT;
</programlisting>

     Si cette commande échoue avec un message comme <quote>function
     "dex_init(text)" does not exist</quote>, alors soit <filename>tsearch2</filename>
     n'est pas installé dans cette base de données, soit vous l'avez déjà mise
     à jour.
    </para>

    <para>
     Les procédures ci-dessus doivent être exécutées pour <emphasis>chaque</emphasis>
     base de données d'une installation, ceci incluant <literal>template1</literal>
     et devant idéalement inclure aussi <literal>template0</literal>. Si vous ne
     corrigez pas les bases de données modèles, alors toute base de données
     créée par la suite contiendra les mêmes erreurs. <literal>template1</literal> peut
     être corrigé de la même façon que les autres bases de données alors que
     <literal>template0</literal> requiert des étapes supplémentaires. Tout d'abord,
     à partir de n'importe quel base de données
<programlisting>UPDATE pg_database SET datallowconn = true WHERE datname = 'template0';
</programlisting>
      Ensuite, connectez-vous à <literal>template0</literal> et effectuez les opérations
      de réparation. Faites
<programlisting>-- gelez de nouveau template0:
VACUUM FREEZE;
-- et protégez-contre toute nouvelle modification :
UPDATE pg_database SET datallowconn = false WHERE datname = 'template0';
</programlisting>
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>

<itemizedlist>
<listitem><para>Modification de la signature de la fonction de codage pour
empêcher toute mauvaise utilisation</para></listitem>
<listitem><para>Modification de <filename>contrib/tsearch2</filename> pour éviter une
utilisation non sécurisée des résultats <type>INTERNAL</type> de la fonction</para></listitem>
<listitem><para>Réparation d'une ancienne condition qui permettait à une
transaction d'être vue comme validée pour certains buts (par exemple SELECT FOR
UPDATE) légèrement plus tôt que dans les autres buts</para>
<para>Ceci est un bogue extrêmement sérieux car il pourrait amener à des
incohérences apparents des données et visibles brièvement par les applications.
</para></listitem>
<listitem><para>Réparation d'une condition entre extension de relation et VACUUM
</para>
<para>Théoriquement, ceci pourrait avoir causé des pertes d'une page de données
tout juste insérées, bien que la probabilité d'un tel scénario semble extrêmement
faible. Il n'existe pas de cas connus  où cela a provoqué plus qu'un échec
d'Assert.
</para></listitem>
<listitem><para>Correction des comparaisons des valeurs <type>TIME WITH TIME
ZONE</type></para>
<para>Le code de comparaison était mauvais dans le cas où le commutateur de
configuration <literal>--enable-integer-datetimes</literal> avait été utilisé.
NOTE : si vous avez un index sur une colonne <type>TIME WITH TIME ZONE</type>, il
sera nécessaire de le <command>REINDEX</command>er après avoir installé cette mise à
jour parce que ce correctif corrige l'ordre de tri des valeurs de colonnes.
</para></listitem>
<listitem><para>Correction de <function>EXTRACT(EPOCH)</function> pour les valeurs de
type <type>TIME WITH TIME ZONE</type></para></listitem>
<listitem><para>Correction d'un mauvais affichage des secondes fractionnelles
négatives dans les valeurs <type>INTERVAL</type></para>
<para>Cette erreur est seulement survenue quand l'option de configuration
<literal>--enable-integer-datetimes</literal> avait été utilisée.
</para></listitem>
<listitem><para>S'assure que les opérations effectuées pendant l'arrêt du serveur
sont comptées par le collecteur de statistiques</para>
<para>Ceci doit avoir résolu les rapports concernant <application>pg_autovacuum</application>,
comme quoi il ne lançait pas assez fréquemment VACUUM sur les catalogues
systèmes &mdash; il n'a pas été question de suppressions des catalogues causées
par la suppression de tables temporaires lors de l'arrêt du serveur.
</para></listitem>
<listitem><para>Vérification supplémentaires de dépassement de tampon dans
plpgsql (Neil)</para></listitem>
<listitem><para>Correction de pg_dump pour qu'il sauvegarde correctement les
noms des déclencheurs contenant <literal>%</literal> (Neil)</para></listitem>
<listitem><para>Correction de <filename>contrib/pgcrypto</filename> pour les nouvelles
constructions d'OpenSSL (Marko Kreen)</para></listitem>
<listitem><para>Encore plus de correctifs 64 bits pour <filename>contrib/intagg</filename>
</para></listitem>
<listitem><para>Empêche une optimisation incorrecte des fonctions renvoyant
<type>RECORD</type></para></listitem>
<listitem><para>Empêche <function>to_char(interval)</function> d'arrêter brutalement le
serveur (dump core) pour les formats relatifs au mois</para></listitem>
<listitem><para>Empêche un arrêt brutal sur <literal>COALESCE(NULL,NULL)</literal></para></listitem>
<listitem><para>Correction de <function>array_map</function> pour appeler correctement
les fonctions PL</para></listitem>
<listitem><para>Correction de la vérification des droits dans <command>ALTER
DATABASE RENAME</command></para></listitem>
<listitem><para>Correction de <command>ALTER LANGUAGE RENAME</command></para></listitem>
<listitem><para>Make <function>RemoveFromWaitQueue</function> clean up after itself</para>
<para>Ceci corrige une erreur de gestion du verrour qui pourrait seulement être
visible si une transaction a été dégagée de l'attente d'un verrour (typiquement
dans le cas d'une requête annulée) et que le détenteur du verrou le relâche
dans une fenêtre très petite.
</para></listitem>
<listitem><para>Correction d'un problème avec un paramètre non typé apparaissant dans
<command>INSERT ... SELECT</command></para></listitem>
<listitem><para>Correction d'un échec de <command>CLUSTER</command> après
<command>ALTER TABLE SET WITHOUT OIDS</command></para></listitem>
</itemizedlist>

  </sect2>
 </sect1>


  <sect1 id="release-7-4-7">
   <title>Version 7.4.7</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2005-01-31</simpara>
   </note>

   <para>
    Cette version contient une variété de corrections de la version 7.4.6,
    incluant des correctifs de sécurité.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>

   <sect2>
    <title>Migration vers la version 7.4.7</title>

    <para>
     Une sauvegarde/restauration n'est pas requise pour ceux utilisant une
     7.4.X.
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>

<itemizedlist>
<listitem><para>Interdit <command>LOAD</command> aux utilisateurs standards</para>
<para>
Sur les plateformes qui exécuteront automatiquement les fonctions
d'initialisation d'une bibliothèque partagée (ceci inclut au moins Windows et
les Unix basés sur ELF), <command>LOAD</command> est utilisable pour faire exécuter
un code arbitraire par le serveur. Merci à NGS Software pour cette
information.</para></listitem>
<listitem><para>Vérifie que le créateur d'une fonction d'agrégat a le droit
d'exécuter les fonctions de transition spécifiées</para>
<para>
Ce problème rendait possible le contournement de l'interdiction du droit
EXECUTE sur une fonction.</para></listitem>
<listitem><para>Correction de problèmes de sécurité et de problèmes sur 
les 64 bits dans contrib/intagg</para></listitem>
<listitem><para>Ajout du marquage STRICT nécessaire à quelques fonctions
dans contrib (Kris Jurka)</para></listitem>
<listitem><para>Évite un dépassement de tampon lorsque la déclaration du curseur
plpgsql dispose trop de paramètres (Neil)</para></listitem>
<listitem><para>Correction d'erreurs de plannification pour les jointures
complètes et externes à droite</para>
<para>
Le résultat de la jointure était faussement supposé trié de la même façon que
l'entrée gauche. Ceci pouvait délivrer une sortie mal triée à l'utilisateur
mais, dans le cas de jointures de fusion imbriquées, pouvait donner de
mauvaises réponses.
</para></listitem>
<listitem><para>Correction de plperl pour les guillemets dans les
champs</para></listitem>
<listitem><para>Correction de l'affichage des intervalles négatifs pour les
styles de date SQL et GERMAN</para></listitem>
<listitem><para>Fait que age(timestamptz) calcule à partir du fuseau horaire
et non pas de GMT</para></listitem>
</itemizedlist>

  </sect2>
 </sect1>

  <sect1 id="release-7-4-6">
   <title>Sortie 7.4.6</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2004-10-22</simpara>
   </note>

   <para>
    Cette version contient plusieurs correctifs de la version 7.4.5.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>


   <sect2>
    <title>Migration vers la version 7.4.6</title>

    <para>
     Une sauvegarde restauration n'est pas requise pour ceux utilisant une
     version 7.4.X.
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>

<itemizedlist>
<listitem><para>Réparation d'un échec possible pour mettre à jour les bits
d'astuce sur disque</para>
<para>
Sous quelques rares circonstances, ceci pourrait mener à des échecs
<quote>could not access transaction status</quote>, qui se qualifient comme bogue
pouvant entraîner des pertes de données.
</para></listitem>
<listitem><para>Assurance que la jointure externe hachée ne manque pas de 
lignes</para>
<para>
Les jointures gauches très importantes pourraient échouer à afficher les lignes
du côté gauche sans correspondance en donnant seulement la distribution droite
des données.
</para></listitem>
<listitem><para>Interdit l'exécution de <application>pg_ctl</application> en tant que
root</para>
<para>
Ceci est fait pour évacuer tout risque de problèmes de sécurité.
</para></listitem>
<listitem><para>Évite l'utilisation de fichiers temporaires dans
<filename>/tmp</filename> dans <command>make_oidjoins_check</command></para>
<para>
Ceci a été rapportée comme un problème de sécurité bien qu'il est de peu
d'importance car il n'y a aucune raison pour que les utilisateurs autres que
les développeurs utilisent ce script de toute façon.
</para></listitem>
<listitem><para>Empêche l'arrêt forcé du moteur à partir de la ré-émission
du résultat de la commande précédente</para>
<para>
Dans de rares cas, un client pourrait penser que sa dernière commande a réussi
alors qu'elle a réellement été annulée par l'arrêt forcé de la base de données.
</para></listitem>
<listitem><para>Réparation d'un bogue dans
<function>pg_stat_get_backend_idset</function></para>
<para>
Cela pouvait amener un mauvais comportement dans quelques vues de statistiques
du système.
</para></listitem>
<listitem><para>Correction d'une petite perte mémoire dans
postmaster</para></listitem>
<listitem><para>Correction du bogue <quote>expected both swapped tables to have
TOAST tables</quote></para>
<para>
Ceci pouvait arriver dans les cas tels que CLUSTER après ALTER TABLE DROP
COLUMN.
</para></listitem>
<listitem><para>Empêche <literal>pg_ctl restart</literal> d'ajouter <literal>-D</literal>
plusieurs fois</para></listitem>
<listitem><para>Correction du problème de valeurs NULL dans les index
GiST</para></listitem>
<listitem><para><literal>::</literal> n'est plus interprété comme une variable dans
une instruction de préparation ECPG</para></listitem>
</itemizedlist>

  </sect2>
 </sect1>

  <sect1 id="release-7-4-5">
   <title>Sortie 7.4.5</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2004-08-18</simpara>
   </note>

   <para>
    Cette version contient la correction d'un bogue sérieux de la version 7.4.4.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>


   <sect2>
    <title>Migration vers la version 7.4.5</title>

    <para>
     Une sauvegarde restauration n'est pas requise pour ceux utilisant une
     version 7.4.X.
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>

<itemizedlist>
<listitem><para>Réparation d'un arrêt brutal possible lors d'insertions
concurrentes dans l'index B-tree</para>
<para>
Ce correctif s'occupe d'un cas ras dans les insertions concurrentes dans un
index B-tree, pouvant résulter en un PANIC du serveur. Aucun dommage permanent
ne devrait en résulter mais cela vaut néanmoins une pré-version. Ce bogue
n'existe pas dans les versions antérieures 7.4.
</para></listitem>
</itemizedlist>

  </sect2>
 </sect1>

  <sect1 id="release-7-4-4">
   <title>Sortie 7.4.4</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2004-08-16</simpara>
   </note>

   <para>
    Cette version contient quelques correctifs sur la 7.4.3.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>


   <sect2>
    <title>Migration vers la version 7.4.4</title>

    <para>
     Une sauvegarde restauration n'est pas requise pour ceux utilisant une
     version 7.4.X.
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>

<itemizedlist>
<listitem><para>Empêche une perte possible de transactions validées lors d'un
arrêt brutal</para>
<para>
À cause d'un verrouillage insuffisant entre la validation des transactions et
des points de vérification, il était possible pour les transactions validées
juste avant le point de vérification perdu, complètement ou partiellement, le
plus récent après un arrêt brutal de la base de données et un redémarrage. Ceci
est un bogue sérieux qui existait depuis <productname>PostgreSQL</productname>
7.1.</para></listitem>
<listitem><para>Vérification de la restriction HAVING avant d'évaluer une liste
de résultat d'un plan d'agrégat</para></listitem>
<listitem><para>Évite un arrêt brutal lorsque l'identifiant de l'utilisateur
courant est supprimé</para></listitem>
<listitem><para>Correction des tableaux croisés hachés pour les tableaux sans
ligne (Joe)</para></listitem>
<listitem><para>Force la mise à jour du cache après renommage d'une colonne dans
une clé étrangère</para></listitem>
<listitem><para>L'affichage propre des requêtes UNION
fonctionne correctement</para></listitem>
<listitem><para>Fait que psql gère les retours chariot <literal>\r\n</literal>
proprement dans COPY IN</para></listitem>
<listitem><para><application>pg_dump</application> gèrait les ACL avec des options grant
non correctement</para></listitem>
<listitem><para>Correction du support des threads pour OS X et
Solaris</para></listitem>
<listitem><para>Mise à jour du pilote JDBC (construction 215) avec différents
correctifs</para></listitem>
<listitem><para>Corrections pour ECPG</para></listitem>
<listitem><para>Corrections des traductions (contributeurs
variés)</para></listitem>
</itemizedlist>

  </sect2>
 </sect1>

  <sect1 id="release-7-4-3">
   <title>Sortie 7.4.3</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2004-06-14</simpara>
   </note>

   <para>
    Cette version contient quelques correctifs pour la 7.4.2.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>


   <sect2>
    <title>Migration vers la version 7.4.3</title>

    <para>
     Une sauvegarde restauration n'est pas requise pour ceux utilisant une
     version 7.4.X.
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>

<itemizedlist>
<listitem><para>Correction de pertes mémoire temporaires lors de l'utilisation
d'agrégats non hachés (Tom)</para></listitem>
<listitem><para>Correctifs pour ECPG, incluant quelques-uns pour la
compatibilité avec Informix (Michael)</para></listitem>
<listitem><para>Corrections pour compiler avec l'activation des threads, en
particulier pour Solaris (Bruce)</para></listitem>
<listitem><para>Correction d'une erreur dans la fin de COPY IN lors de
l'utilisation de l'ancien protocole réseau (ljb)</para></listitem>
<listitem><para>Plusieurs corrections importantes dans pg_autovacuum, incluant
des correctifs pour les grosses tables, les OID non signés, la stabilité, les
tables temporaires et le mode de débogage (Matthew T.
O'Connor)</para></listitem> 
<listitem><para>Correction d'un problème lors de la lecture de sauvegardes au
format tar sur NetBSD et BSD/OS (Bruce)</para></listitem>
<listitem><para>Quelques corrections sur JDBC</para></listitem>
<listitem><para>Correction de ALTER SEQUENCE RESTART lorsque last_value vaut la
valeur de réinitialisation (Tom)</para></listitem>
<listitem><para>Réparation de l'échec après recalcul des sous-sélections 
imbriquées (Tom)</para></listitem>
<listitem><para>Correction de problèmes avec les expressions non constantes dans
LIMIT/OFFSET</para></listitem>
<listitem><para>Support de FULL JOIN sans clause de jointure, tels que X FULL
JOIN Y ON TRUE (Tom)</para></listitem>
<listitem><para>Correction d'un autre bogue sur les tables sans colonnes
(Tom)</para></listitem>
<listitem><para>Amélioration de la gestion des identifieurs non qualifiés dans
les clauses GROUP BY des sous-sélections (Tom)</para>
<para>
Les alias de liste de sélection à l'intérieur de sous-sélections prendront
maintenant la précédence sur les noms des niveaux de requêtes externes.
</para></listitem>
<listitem><para>Ne génère pas de <quote>NATURAL CROSS JOIN</quote> lors de la
décompilation de règles (Tom)</para></listitem>
<listitem><para>Ajout de vérification pour la taille de champ invalide dans le
COPY binaire (Tom)</para>
<para>
Ceci corrige une faille de sécurité difficile à exploiter.
</para></listitem>
<listitem><para>Évite les conflits de verrouillage entre
<command>ANALYZE</command> et
<command>LISTEN</command>/<command>NOTIFY</command></para></listitem>
<listitem><para>Nombreuses mises à jour de traduction (plusieurs
contributeurs)</para></listitem>
</itemizedlist>

  </sect2>
 </sect1>

  <sect1 id="release-7-4-2">
   <title>Sortie 7.4.2</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2004-03-08</simpara>
   </note>

   <para>
    Cette version contient quelques correctifs pour la 7.4.1.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>


   <sect2>
    <title>Migration vers la version 7.4.2</title>

    <para>
     Une sauvegarde restauration n'est pas requise pour ceux utilisant une
     version 7.4.X. Néanmoins, c'est la méthode conseillé car plus simple pour
     l'incorporation de la correction sur deux erreurs trouvées dans le contenu
     initial des catalogues systèmes de la 7.4. Une séquence
     sauvegarde/initdb/restauration utilisant l'initdb de la 7.4.2 corrigera
     automatiquement ces problèmes.
    </para>

    <para>
     La plus sévère des deux erreurs est que le type de données
     <type>anyarray</type> a un mauvais label d'alignement&nbsp;; ceci est un
     problème parce que le catalogue système <structname>pg_statistic</structname> utilise
     des colonnes <type>anyarray</type>. Ce mauvais label peut causer des mauvaises
     estimations du planificateur et même des arrêts brutaux lorsque des
     requêtes de planification impliquent des clauses <literal>WHERE</literal> sur des
     colonnes doublement alignées doubles (telles que <type>float8</type> et
     <type>timestamp</type>). Il est fortement recommandé que toutes les
     installations réparent cette erreur, soit par initdb soit en suivant la
     procédure de réparation manuelle donnée ci-dessous.
    </para>

    <para>
     L'erreur moindre est que la vue système <structname>pg_settings</structname> devrait
     être marquée comme ayant un accès public en mise à jour pour permettre
     l'utilisation de <literal>UPDATE pg_settings</literal> comme substitut pour
     <command>SET</command>. Ceci peut être corrigé soit par initdb soit manuellement
     mais il n'est pas nécessaire de le corriger sauf si vous voulez utiliser
     <literal>UPDATE pg_settings</literal>.
    </para>

    <para>
     Si vous ne souhaitez pas lancer un initdb, la procédure suivante corrigera
     <structname>pg_statistic</structname>. En tant que superutilisateur de la base de
     données, faites&nbsp;:

<programlisting>-- efface les anciennes données de pg_statistic :
DELETE FROM pg_statistic;
VACUUM pg_statistic;
-- ceci devrait mettre à jour 1 ligne :
UPDATE pg_type SET typalign = 'd' WHERE oid = 2277;
-- ceci devrait mettre à jour 6 lignes :
UPDATE pg_attribute SET attalign = 'd' WHERE atttypid = 2277;
--     
-- À ce moment, vous DEVEZ lancer un nouveau moteur pour éviter un arrêt brutal
--
-- repopulate pg_statistic:
ANALYZE;
</programlisting>

     Ceci peut se faire sur une base de données en réel mais attention au fait
     que tous les serveurs de la base de données modifiée doivent être relancés
     avant qu'il ne soit sain de repeupler <structname>pg_statistic</structname>.
    </para>

    <para>
     Pour corriger l'erreur <structname>pg_settings</structname>, faites simplement&nbsp;:
<programlisting>GRANT SELECT, UPDATE ON pg_settings TO PUBLIC;
</programlisting>
    </para>

    <para>
     Les procédures ci-dessus doivent être exécutées dans <emphasis>chaque</emphasis>
     base de données d'une installation, ceci incluant <literal>template1</literal>, et
     idéalement <literal>template0</literal>. Si vous ne corrigez pas les bases de
     données modèles, alors toute nouvelle base de données contiendra les mêmes
     erreurs. <literal>template1</literal> peut être corrigé de la même façon que toute
     autre base de données, mais corriger <literal>template0</literal> requiert
     quelques étapes supplémentaires. Tout d'abord, à partir de n'importe quelle
     session de base de données
<programlisting>UPDATE pg_database SET datallowconn = true WHERE datname = 'template0';
</programlisting>
     nsuite, connectez-vous à <literal>template0</literal> et exécutez les
      procédures de réparation suivante. Enfin, faites
<programlisting>-- re-gèle template0:
VACUUM FREEZE;
-- et la protège contre toute modifications futures :
UPDATE pg_database SET datallowconn = false WHERE datname = 'template0';
</programlisting>
    </para>
   </sect2>

   <sect2>
    <title>Modifications</title>

<para>
    La version 7.4.2 incorpore toutes les corrections de la version 7.3.6,
    ainsi que les suivantes&nbsp;:
</para>

<itemizedlist>
<listitem><para>Correction du bogue d'alignement de
<structname>pg_statistics</structname> qui pouvait provoquer un arrêt brutal de
l'optimiseur</para>
<para>Voir ci-dessus pour les détails sur ce problème.</para></listitem>
<listitem><para>Autorise les utilisateurs standards à mettre à jour
<structname>pg_settings</structname></para></listitem>
<listitem><para>Correction de quelques bogues de l'optimiseur, la plupart
amenant des erreurs <quote>variable not found in subplan target lists</quote>
errors (NdT&nbsp;: variable non trouvée dans les listes cibles
du sous-plan</para></listitem>
<listitem><para>Évite les échecs dû au manque de mémoire lors du la
ncement de plusieurs gros parcours d'index</para></listitem>
<listitem><para>Correction d'un problème multioctets pouvant amener des erreurs
du type <quote>out of memory</quote> (manque de mémoire) lors d'une opération
<command>COPY IN</command></para></listitem>
<listitem><para>Correction de problèmes avec <command>SELECT INTO</command> /
<command>CREATE TABLE AS</command> à partir de tables sans OID</para></listitem>
<listitem><para>Correction de problèmes avec les tests de régression
<filename>alter_table</filename> lors de tests en parallèle</para></listitem>
<listitem><para>Correction de problèmes survenant à la limite du nombre de
fichiers ouverts, notamment sur OS X
(Tom)</para></listitem>
<listitem><para>Correction partielle pour les problèmes de la locale
turque</para>
<para>initdb réussira maintenant avec la locale turque, mais il reste quelques
inconvénients associés avec le problème <literal>i/I</literal>.</para></listitem>
<listitem><para>Fait que pg_dump initialise le codage du client lors d'une
restauration</para></listitem>
<listitem><para>Plusieurs autres corrections de pg_dump</para></listitem>
<listitem><para>Autorise ecpg à utiliser de nouveau des mots clés C comme noms
de colonnes (Michael)</para></listitem>
<listitem><para>Ajout de <literal>WHENEVER NOT_FOUND</literal> à ecpg pour
<literal>SELECT/INSERT/UPDATE/DELETE</literal> (Michael)</para></listitem> 
<listitem><para>Correction d'un arrêt brutal d'ecpg pour les requêtes appelant
des fonctions renvoyant des ensembles (Michael)</para></listitem>
<listitem><para>Plusieurs autres corrections d'ecpg (Michael)</para></listitem>
<listitem><para>Corrections pour le compilateur Borland</para></listitem>
<listitem><para>Amélioration de la construction avec les threads
(Bruce)</para></listitem>
<listitem><para>Plusieurs autres corrections pour la
construction</para></listitem>
<listitem><para>Plusieurs corrections sur JDBC</para></listitem>
</itemizedlist>

  </sect2>
 </sect1>

  <sect1 id="release-7-4-1">
   <title>Sortie 7.4.1</title>

   <note>
   <title>Date de sortie</title>
   <simpara>2003-12-22</simpara>
   </note>

   <para>
    Cette version contient plusieurs correctifs de la 7.4.
    Pour plus d'informations sur les nouvelles fonctionnalités de la
    version majeure 7.4, voir <xref linkend="release-7-4"/>.
   </para>


   <sect2>
    <title>Migration vers la version 7.4.1</title>

    <para>
     Une sauvegarde/restauration n'est <emphasis>pas</emphasis> requise pour
     ceux utilisant la version 7.4.
    </para>

    <para>
     Si vous voulez installer les correctifs dans le schéma d'information, vous
     avez besoin de le recharger dans la base de données. Ceci est accompli soit
     en initialisant un nouveau groupe de bases avec <command>initdb</command>
     soit en lançant la séquence suivante de commandes SQL dans chaque base de
     données (incluant idéalement <literal>template1</literal>) en tant que
     superutilisateur avec <application>psql</application>, après installation
     de la nouvelle version&nbsp;:
<programlisting>DROP SCHEMA information_schema CASCADE;
\i /usr/local/pgsql/share/information_schema.sql
</programlisting>
     Substituez votre chemin d'installation dans la deuxième commande.
    </para>

   </sect2>

   <sect2>
    <title>Modifications</title>

<itemizedlist>
<listitem><para>Correction d'un bogue dans l'analyse de <command>CREATE
SCHEMA</command> avec ECPG (Michael)</para></listitem>
<listitem><para>Correction d'une erreur de compilation quand 
<option>--enable-thread-safety</option> et <option>--with-perl</option> sont
utilisés ensemble (Peter)</para></listitem>
<listitem><para>Correction des sous-requêtes utilisant des jointures de
découpage (Tom)</para>
<para>
    Certaines sous-requêtes qui utilisaient des jointures de découpage pouvaient
    s'arrêter brutalement à cause de structures mal partagées.
</para></listitem>
<listitem><para>Correction d'un problème de compactage de la carte des espaces
libres (Tom)</para>
<para>
    Ceci corrige un bogue où le compactage de la carte des espaces libres
    pouvait entraîner un arrêt du serveur de la base de données.
</para>
</listitem>
<listitem><para>Correction pour la construction de libpq à partir du compilateur
Borland (Bruce)</para></listitem>
<listitem><para>Correction de <function>netmask()</function> et de
<function>hostmask()</function> pour renvoyer le masklen de longueur maximale
(Tom)</para>
<para>
    Correction de ces fonctions pour renvoyer des valeurs cohérentes avec les
    versions pre-7.4..
</para>
</listitem>
<listitem><para>Plusieurs corrections de
<filename>contrib/pg_autovacuum</filename></para>
<para>
    Les correctifs incluent une mauvaise initialisation des variables, un
    vacuum manquant après un <command>TRUNCATE</command> et un dépassement du
    calcul de durée pour les vacuums longs.
</para>
</listitem>
<listitem><para>Autorise la compilation de <filename>contrib/cube</filename>
sous Cygwin (Jason Tishler)</para></listitem>
<listitem><para>Correction de l'utilisation par Solaris du fichier mot de passe
lorsqu'aucun mot de passe n'est défini (Tom)</para>
<para>
    Correction de l'arrêt brutal sur Solaris causé par l'utilisation de tout
    type d'authentification par mot de passe lorsqu'aucun mot de passe n'est
    défini.
</para>
</listitem>
<listitem><para>Correction de JDBC pour les problèmes de threads, autres
corrections</para></listitem>
<listitem><para>Correction sur les recherches dans les index <type>bytea</type>
(Joe)</para></listitem>
<listitem><para>Correction du schéma d'information pour les types de données bit
(Peter)</para></listitem>
<listitem><para>Force zero_damaged_pages à être actif lors de la récupération
à partir des WAL</para></listitem>
<listitem><para>Empêche quelques cas obscures de <quote>variable not in
subplan target lists</quote></para></listitem>
<listitem><para>Rend <function>PQescapeBytea</function> et
<function>byteaout</function> cohérent l'un avec l'autre (Joe)</para></listitem>
<listitem><para>Échappe la sortie <type>bytea</type> pour les octets &gt; 0x7e
(Joe)</para>
<para>
  Si plusieurs codages clients sont utilisés pour la sortie et
  l'entrée <type>bytea</type>, il est possible de corrompre les valeurs
  <type>bytea</type> en modifiant les codages. Cette correction échappe tous les
  octets qui pourraient être affectés.
</para>
</listitem>
<listitem><para>Ajout des appels manquants à <function>SPI_finish()</function>
à la fonction <function>get_tuple_of_interest()</function> de dblink
(Joe)</para></listitem>
<listitem><para>Nouvelle FAQ tchèque</para></listitem>
<listitem><para>Correction de la vue du schéma d'informations
<literal>constraint_column_usage</literal> pour les clés étrangères
(Peter)</para></listitem>
<listitem><para>Corrections sur ECPG (Michael)</para></listitem>
<listitem><para>Correction d'un bogue avec plusieurs sous-requêtes
<literal>IN</literal> et des jointures dans les sous-requêtes
(Tom)</para></listitem>
<listitem><para>Autorise le fonctionnement de <literal>COUNT('x')</literal>
(Tom)</para></listitem>
<listitem><para>Installation des fichiers d'inclusion d'ECPG pour la
compatibilité Informix dans un répertoire séparé (Peter)</para>
<para>
  Certains noms des fichiers d'inclusion d'ECPG pour la compatibilité Informix
  entrent en conflit avec les fichiers d'inclusion du système d'exploitation.
  En les installant dans leur propre répertoire, les conflits de noms ont été
  réduits.
</para>
</listitem>
<listitem><para>Correction d'une perte mémoire sur SSL (Neil)</para>
<para>
  Cette version corrige un bogue de la 7.4 où SSL ne libérait pas toute la
  mémoire qu'il avait alloué.
</para>
</listitem>
<listitem><para>Empêche l'utilisation du nom de service par
<filename>pg_service.conf</filename> comme nom de la base par défaut
(Bruce)</para></listitem>
<listitem><para>Correction de l'authentification locale par ident sur FreeBSD
(Tom)</para></listitem>
</itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-7-4">
  <title>Sortie 7.4</title>

  <note>
   <title>Date de sortie</title>
   <simpara>2003-11-17</simpara>
  </note>

  <sect2>
   <title>Aperçu</title>

   <para>
    Modifications majeures dans cette version&nbsp;:

    <variablelist>
     <varlistentry>
      <term>
       Les sous-requêtes <literal>IN</literal>/<literal>NOT IN</literal> sont
maintenant bien plus efficaces
      </term>

      <listitem>
       <para>
        Dans les versions précédentes, les sous-requêtes
<literal>IN</literal>/<literal>NOT IN</literal> ont été jointes par la requête
supérieure en parcourant séquentiellement la sous-requête pour trouver une
correspondance. Le code de la 7.4 utilise les mêmes techniques sophistiquées
utilisées par les jointures ordinaires et est donc bien plus rapide. Un
<literal>IN</literal> sera maintenant aussi rapide ou plus rapide que la
sous-requête <literal>EXISTS</literal> équivalente&nbsp;; ceci inverse
l'information conventionnelle qui s'appliquait aux versions précédentes.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Amélioration du traitement du <literal>GROUP BY</literal> en utilisant
les <quote>hash buckets</quote>
      </term>

      <listitem>
       <para>
        Dans les précédentes versions, les lignes à grouper étaient d'abord
triées. Le code de la 7.4 traite le <literal>GROUP BY</literal> sans tri en
accumulant les résultats dans une table de découpage avec une entrée par
groupe. Néanmoins, il utilisera toujours la technique du tri si la table de
découpage est estimée trop importante pour être contenue dans
<varname>sort_mem</varname>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Nouvelle fonctionnalité de jointure par découpage sur des clés
multiples
      </term>

      <listitem>
       <para>
        Dans les précédentes versions, les jointures par découpage pouvaient
uniquement survenir sur des clés uniques. Cette version ajoute les jointures
par découpage sur plusieurs colonnes.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Les requêtes utilisant la syntaxe <literal>JOIN</literal> explicite sont
maintenant mieux optimisées
      </term>

      <listitem>
       <para>
        Les précédentes versions évaluaient les requêtes en utilisant
uniquement la syntaxe <literal>JOIN</literal> explicite dans l'ordre
fournie par la syntaxe. La version 7.4 autorise l'optimisation complète de
ces requêtes, ce qui signifie que l'optimiseur considère tous les ordres
possibles de jointure et choisit le plus efficace. Néanmoins, les
jointures externes doivent toujours suivre l'ordre déclaré.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Code des expressions rationnelles plus rapide et plus puissant
      </term>

      <listitem>
       <para>
        Le module entier des expressions rationnelles a été remplacé avec une
nouvelle version de Henry Spencer, écrit originellement pour Tcl. Le code
améliore énormément les performances et supporte plusieurs types d'expressions
rationnelles.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Fonctions en ligne pour les fonctions SQL simples
      </term>

      <listitem>
       <para>
        Les fonctions SQL simples peuvent maintenant être en ligne en incluant
le SQL dans la requête principale. Ceci améliore les performances en éliminant
la surcharge par appel. Ceci signifie que les fonctions SQL simples se
comportent maintenant comme des macros.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Support complet des connexions IPv6 et des données de type adresse IPv6
      </term>

      <listitem>
       <para>
        Les versions précédentes autorisaient seulement les connexions IPv4 et
les types de données IP supportaient seulement les adresses IPv4. Cette version
ajoute le support complet de IPv6 dans ces deux domaines.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Amélioration majeure dans les performances et la fiabilité de SSL
      </term>

      <listitem>
       <para>
        Plusieurs personnes très au courant de l'API SSL ont revu notre code
SSL pour améliorer la négotiation de clé SSL et la récupération en cas d'erreur.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Le <quote>free space map</quote> réutilise efficacement les
pages d'index, et quelques autres améliorations des espaces libres
      </term>

      <listitem>
       <para>
        Dans les précédentes versions, les pages d'index B-tree qui étaient
laissées vides à cause de lignes supprimées pouvaient seulement être
ré-utilisées par les lignes de valeurs d'index similaires aux lignes
originellement indexées sur cette page. Avec la version 7.4,
<command>VACUUM</command> enregistre les pages d'index vide et permet leur 
ré-utilisation pour toute ligne d'index future.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Schéma d'information au standard SQL
      </term>

      <listitem>
       <para>
        Le schéma d'information fournit une façon standardisée et stable
d'accéder aux informations sur les objets du schéma définis dans une base de
données.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Les curseurs se conforment mieux au standard SQL
      </term>

      <listitem>
       <para>
        Les commandes <command>FETCH</command> et
        <command>MOVE</command> ont été revues pour mieux se conformer au
        standard SQL.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Les curseurs peuvent exister en dehors des transactions
      </term>

      <listitem>
       <para>
        Ces curseurs sont aussi appelés des curseurs détenables.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Nouveau protocole client/serveur
      </term>

      <listitem>
       <para>
        Le nouveau protocole ajoute des codes d'erreur, plus d'informations sur
le statut, un démarrage plus rapide, un meilleur support des transmissions de
données binaires, des valeurs de paramètres séparées à partir des commandes
SQL, des instructions préparées disponibles au niveau du protocole et une
récupération plus propre pour les échecs lors d'un <command>COPY</command>.
L'ancien protocole est toujours supporté par le serveur et les clients.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Les applications <application>libpq</application> et
       <application>ECPG</application> sont maintenant totalement compatibles
       avec les threads
      </term>

      <listitem>
       <para>
        Alors que les précédentes versions de <application>libpq</application>
supportaient déjà les threads, cette version améliore la compatibilité en
corrigeant certains codes, non compatibles, utilisés lors du lancement de
la connexion à la base de données. L'option
<option>--enable-thread-safety</option> de <command>configure</command> doit
être utilisé pour activer cette fonctionnalité.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Nouvelle version de l'indexage complet de texte
      </term>

      <listitem>
       <para>
        Une nouvelle suite d'indexage complet de texte est disponible dans
        <filename>contrib/tsearch2</filename>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       Nouvel outil autovacuum
      </term>

      <listitem>
       <para>
        Le nouvel outil autovacuum dans
        <filename>contrib/autovacuum</filename> surveille les tables de 
statistiques de la base de données sur les activités
<command>INSERT</command>/<command>UPDATE</command>/<command>DELETE</command>
et lance automatiquement un <command>VACUUM</command> quand cela est nécessaire.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>
       La gestion des tableaux a été améliorée et déplacée dans le c&oelig;ur du
serveur
      </term>

      <listitem>
       <para>
        Beaucoup de limitations des tableaux ont été supprimées et les tableaux
se comportent beaucoup plus comme des types de données complètement supportés.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>
  </sect2>

  <sect2>
   <title>Migration vers la version 7.4</title>
                                      
   <para>
    Une sauvegarde/restauration grâce à <application>pg_dump</application> est
    requise pour ceux souhaitant migrer leurs données d'une version précédente.
   </para>
   
   <para>
    Observez les incompatibilités suivantes&nbsp;:

    <itemizedlist>
     <listitem>
      <para>
       Le paramétrage autocommit, côté serveur, a été supprimé et réimplémenté
dans les applications clients et dans les langages. L'autocommit posait
beaucoup trop de problèmes avec les langages et applications qui voulaient
contrôler leur propre comportement de validation automatique, donc celui-ci a
été supprimé du serveur et ajouté aux API clientes individuelles si appropriées.
      </para>
     </listitem>

     <listitem>
      <para>
       Le contenu des messages d'erreur a un peu changé dans cette version. Un
effort significatif a été fourni pour rendre ces messages plus consistants et
plus orientés vers l'utilisateur. Si vos applications essaient de détecter des
conditions d'erreur en analysant le message d'erreur, vous êtes fortement
encouragé à utiliser le nouveau code d'erreur à la place.
      </para>
     </listitem>

     <listitem>
      <para>
       Les jointures internes utilisant la syntaxe <literal>JOIN</literal>
explicite pourraient se comporter différemment parce qu'elles sont mieux
optimisées.
      </para>
     </listitem>

     <listitem>
      <para>
       Un certain nombre de paramètres de configuration serveur ont été
renommés pour plus de clarté, principalement ceux liés aux traces.
      </para>
     </listitem>

     <listitem>
      <para>
       <literal>FETCH 0</literal> ou <literal>MOVE 0</literal> ne font
maintenant plus rien. Dans les précédentes versions, <literal>FETCH 0</literal>
récupérerait toutes les lignes restantes et <literal>MOVE 0</literal> se
déplacerait à la fin du curseur.
      </para>
     </listitem>
 
     <listitem>
      <para>
       <command>FETCH</command> and <command>MOVE</command> renvoient
maintenant le nombre réel de lignes récupérées/déplacées ou 0 si au début ou à
la fin du curseur. Les versions précédentes renverraient le nombre de lignes
passé à la commande, pas le nombre de lignes réellement récupérées ou déplacées.
      </para>
     </listitem>

     <listitem>
      <para>
       <command>COPY</command> traite maintenant les fichiers processus
qui utilisent les séquences retour chariot ou retour chariot/fin de ligne. Les
retours chariots ou fin de ligne littérals ne sont plus acceptés dans les
données&nbsp;; utilisez à la place <literal>\r</literal> et
<literal>\n</literal>.
      </para>
     </listitem>

     <listitem>
      <para>
       Les espaces suivants sont maintenant supprimés lors de la conversion du
type <type>char(<replaceable>n</replaceable>)</type> aux types
<type>varchar(<replaceable>n</replaceable>)</type> et <type>text</type>. C'est ce que la
plupart des gens s'attendaient à voir arriver.
      </para>
     </listitem>

     <listitem>
      <para>
       Le type de données <type>float(<replaceable>p</replaceable>)</type> mesure
maintenant <replaceable>p</replaceable> en chiffres binaires, et non pas en chiffres
décimals. Le nouveau comportement suit le standard SQL.
      </para>
     </listitem>

     <listitem>
      <para>
       Les valeurs de dates ambigues doivent correspondre à l'ordre spécifié
par le paramétrage <varname>datestyle</varname>. Dans les précédentes versions,
la spécification de la date <literal>10/20/03</literal> était interprétée comme une
date d'octobre même  si <varname>datestyle</varname> spécifiait la date en premier. La
7.4 envoie une erreur si une spécification de date est invalide pour le
paramétrage courant de <varname>datestyle</varname>.
      </para>
     </listitem>

     <listitem>
      <para>
       Les fonctions <function>oidrand</function>, <function>oidsrand</function>
et <function>userfntest</function> ont été supprimées. Ces fonctions n'étaient
plus utiles.
      </para>
     </listitem>

     <listitem>
      <para>
       Les littéraux de chaîne spécifiant des valeurs date/heure, tels que
<literal>'now'</literal> ou <literal>'today'</literal>, ne fonctionneront plus
comme attendus dans les expressions par défaut de colonnes&nbsp;; ils ne
ajouteront maintenant par défaut l'heure de création de la table par
défaut, pas le moment de l'ajout. À la place, les fonctions <function>now()</function>,
<function>current_timestamp</function> ou <function>current_date</function> devraient
être utilisées.
      </para>

      <para>
       Dans les précédentes versions, il y avait un code spécial pour que les
chaînes telles que <literal>'now'</literal> soient interprétées au moment de
l'<command>INSERT</command> et non pas au moment de la création de la table mais ce
contournement ne couvrait pas tous les cas. La version 7.4 requiert
maintenant que les valeurs par défaut soient définies proprement en
utilisant des fonctions comme <function>now()</function> ou
<function>current_timestamp</function>. Elles fonctionneront dans toutes les situations.
      </para>
     </listitem>

     <listitem>
      <para>
       Le signe dollar (<literal>$</literal>) n'est plus permis dans les noms
d'opérateurs. À la place, cela peut être un caractère dans les identifieurs, à
condition qu'il ne soit pas le premier. Ceci a été fait pour améliorer la
compatibilité avec les autres systèmes de bases de données et pour éviter les
problèmes de syntaxe lorsque des emplacements de paramètres
(<literal>$<replaceable>n</replaceable></literal>) sont écrits adjacents à ceux des opérateurs.
      </para>
     </listitem>
    </itemizedlist>
   </para>
  </sect2>

  <sect2>
   <title>Modifications</title>

   <para>
    Vous trouverez ci-dessous un détail des modifications entre la version 7.4
et la précédente version majeure.
   </para>

  <sect3>
   <title>Modifications des opérations du serveur</title>

   <itemizedlist>
    <listitem>
     <para>
      Autorisation des connexions IPv6 au serveur (Nigel Kukard, Johan Jordaan,
      Bruce, Tom, Kurt Roeckx, Andrew Dunstan)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de SSL pour gérer les erreurs proprement (Nathan Mueller)
     </para>
     <para>
      Dans les précédentes versions, certains rapports d'erreur de l'API SSL
n'étaient pas gérés correctement. Cette version corrige ces problèmes.
     </para>
    </listitem>

    <listitem>
     <para>
      Amélioration des performances et de la sécurité du protocole SSL (Sean
Chittenden)
     </para>
     <para>
      La renégotiation de clé SSL arrivait trop fréquemment, impliquant des
performances SSL pauvres. De plus, la gestion de la clé initiale a été
améliorée.
     </para>
    </listitem>

    <listitem>
     <para>
      Affiche d'informations sur les verrous lorsqu'un blocage (deadlock) est
détecté (Tom)
     </para>
     <para>
      Ceci permet un débogage plus facile de ce type de situation.
     </para>
    </listitem>

    <listitem>
     <para>
      Mise à jour des heures de modification des socket s
<filename>/tmp</filename> pour éviter leur suppression (Tom)
     </para>
     <para>
      Ceci devrait aider à empêcher le nettoyage du répertoire 
<filename>/tmp</filename> par des scripts d'administration.
     </para>
    </listitem>

    <listitem><para>Activation de PAM pour Mac OS X (Aaron
Hillegass)</para></listitem>

    <listitem>
     <para>Index B-tree complètement compatibles avec les WAL (Tom)</para>
     <para>
      Dans les précédentes versions, dans certains cas rares, un arrêt brutal
du serveur pouvait causer la corruption d'index B-tree. Cette version supprime
ces quelques cas rares.
     </para>
    </listitem>

    <listitem><para>Permet le compactage des index B-tree et la réutilisation
des pages vides (Tom)</para></listitem>

    <listitem>
     <para>
      Corrige la recherche incohérente des index lors de la division de la
première page racine (Tom)
     </para>
     <para>
      Dans les précédentes versions, lorsqu'un index sur une page se divisait
en deux pages, il y avait une brève période où une autre session de base de
données pouvait ne pas voir une entrée d'index. Cette version corrige ce cas
rare d'échecs.
     </para>
    </listitem>

    <listitem><para>Améliore la logique d'allocation de l'espace libre
(Tom)</para></listitem>

    <listitem>
     <para>Préserve les informations sur l'espace libre entre les différents
redémarrages du serveur (Tom)</para>
     <para>
      Dans les précédentes versions, la carte de l'espace libre n'était pas
sauvegardée quand le postmaster était arrêté, donc les serveurs nouvellement
démarrés n'avaient pas d'informations sur l'espace libre. Cette version
sauvegarde la carte de l'espace libre et la recharge quand le serveur est
relancé.
     </para>
    </listitem>

    <listitem><para>Ajoute le temps de lancement dans
<literal>pg_stat_activity</literal>
(Neil)</para></listitem>
    <listitem><para>Nouveau code pour détecter les pages disque
corrompues&nbsp;; efface avec
<varname>zero_damaged_pages</varname> (Tom)</para></listitem>
    <listitem><para>Nouveau protocole client/serveur&nbsp;: plus rapide, plus
de limite sur la longueur du nom de l'utilisateur, permet une sortie propre
de la commande <command>COPY</command> (Tom)</para></listitem>
    <listitem><para>Ajoute un statut de transaction, un ID de table, un ID
de colonne au client/serveur protocol (Tom)</para></listitem>
    <listitem><para>Ajoute des entrées/sorties binaires au protocole
client/serveur (Tom)</para></listitem>
    <listitem><para>Supprime le paramétrage serveur autocommit&nbsp;; déplacez
dans les applications clientes (Tom)</para></listitem>
    <listitem><para>Changement des messages d'erreurs, codes d'erreurs et
trois niveaux de détails d'erreurs (Tom, Joe, Peter)</para></listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Améliorations des performances</title>

   <itemizedlist>
    <listitem><para>Ajout du découpage pour les agrégats <literal>GROUP
BY</literal> (Tom)</para></listitem>
    <listitem><para>Jointures à boucles imbriquées plus intelligentes
 sur les index multicolonnes (Tom)</para></listitem>
    <listitem><para>Autorisation des jointures découpées à clés multiples
(Tom)</para></listitem>
    <listitem><para>Amélioration du <quote>constant folding</quote>
(Tom)</para></listitem>
    <listitem><para>Ajout de la capacité de mettre en ligne les fonctions SQL 
simples (Tom)</para></listitem>

    <listitem>
     <para>Réduction de l'utilisation de la mémoire pour les requêtes utilisant
des fonctions complexes (Tom)</para>
     <para>
      Dans les précédentes versions, les fonctions renvoyant la mémoire allouée
ne la libéraient pas tant que la requête n'était pas terminée. Cette version
permet la libréation de la mémoire allouée par les fonctions lorsque l'appel de
celle-ci se termine, réduisant la mémoire totale utilisée par les fonctions.
     </para>
    </listitem>

    <listitem>
     <para>Amélioration des performances de l'optimiseur GEQO (Tom)</para>
     <para>
      Cette version corrige quelques inefficacités dans la façon dont
l'optimiseur GEQO gère les chemins de requête potentiels.
     </para>
    </listitem>

    <listitem>
     <para>
      Autorise la gestion des <literal>IN</literal>/<literal>NOT IN</literal> via des tables
de découpages (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Amélioration des performances de <literal>NOT IN
(<replaceable>subquery</replaceable>)</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Permet que la plupart des sous-requêtes <literal>IN</literal> soient
traitées comme des jointures (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Les opérations de correspondance de modèles peuvent utiliser des
      index quelque soit la locale (Peter)
     </para>
     <para>
      Il n'existe aucune méthode pourque des locales non ASCII utilisent les
      index standards pour des comparaisons <literal>LIKE</literal>. Cette
      version ajoute un moyen de créer un index spécial pour
      <literal>LIKE</literal>.
     </para>
    </listitem>

    <listitem>
     <para>Permet au postmaster de précharger les bibliothèques en utilisant
      <varname>preload_libraries</varname> (Joe)</para>
     <para>
      Pour les bibliothèques dynamiques requérant un long moment pour se
      charger, cette option est disponible pour que la bibliothèque soit
      pré-chargée par postmaster et héritée par toutes les sessions de la base
      de données.
     </para>
    </listitem>

    <listitem>
     <para>
      Améliore le calcul des coûts par l'optimiseur, particulièrement pour les
      sous-requêtes (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Évite le tri lors la sous-requête <literal>ORDER BY</literal> correspond
      à la requête de haut niveau (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Déduit que <literal>WHERE a.x = b.y AND b.y = 42</literal> signifie aussi
      que <literal>a.x = 42</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Autorise les jointures de découpage (hash/merge) sur des jointures
      complexes (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Autorise les jointures de découpage sur un plus grand nombre de types 
      de données (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Autorise l'optimisation des jointures internes explicites, désactivez avec
      <varname>join_collapse_limit</varname> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Ajoute le paramètre <varname>from_collapse_limit</varname> pour contrôler
      la conversion des sous-requêtes en jointures (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Utilise le code plus rapide et plus puissant des expressions rationnelles
      provenant de Tcl (Henry Spencer, Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Utilise les ensembles de relation dans l'optimiseur (Tom)
     </para>
    </listitem>

    <listitem>
     <para>Améliore le temps de lancement de la connexion (Tom)</para>
     <para>
      Le nouveau protocole client/serveur requiert moins de paquets réseau pour
      commencer une session de la base de données.
     </para>
    </listitem>

    <listitem>
     <para>
      Améliore les performances des déclencheurs/contraintes (Stephan)
     </para>
    </listitem>

    <listitem>
     <para>
      Améliore la rapidité de <literal>col IN (const, const, const,
      ...)</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Corrige les index de découpage, qui pourraient être cassés dans de rares
      cas (Tom)
     </para>
    </listitem>

    <listitem><para>Améliore la concurrence et la rapidité des index de
      découpage (Tom)</para>
     <para>
      Les versions précédentes souffraient d'une pauvre performance pour les
index de découpage, particulièrement dans les situations avec de nombreux
clients. Cette version corrige ceci. Le groupe de développement est intéressé
par des rapports de comparaison entre les performances d'un index B-tree et
d'un index de découpage.
     </para>
    </listitem>

    <listitem>
     <para>Alignement des tampons partagés sur des limites sur 32 bits pour des
      amélioration de la rapidité de copie (Manfred Spraul)</para>
     <para>
      Certains CPU réalisent des copies de données plus rapidement si les 
      adresses sont alignées sur 32 bits.
     </para>
    </listitem>

    <listitem>
     <para>Type de données <type>numeric</type> réimplémenté pour de meilleurs
      performances (Tom)</para>
     <para>
      <type>numeric</type> était auparavant stocké en base 100. Le nouveau code
      utilise la base 10000 pour des performances significativement meilleures.
     </para>
    </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Modification de la configuration du serveur</title>

   <itemizedlist>
    <listitem>
     <para>Renommage du paramètre serveur <varname>server_min_messages</varname> et
      <varname>log_min_messages</varname> (Bruce)</para>
     <para>
      Ceci a été fait pour que la plupart des paramètres contrôlant les
      traces serveur commencent avec <literal>log_</literal>.
     </para>
    </listitem>

    <listitem><para>Renommage de <varname>show_*_stats</varname> en
      <varname>log_*_stats</varname> (Bruce)</para></listitem>
    <listitem><para>Renommage de <varname>show_source_port</varname> en
<varname>log_source_port</varname> (Bruce)</para></listitem>
    <listitem><para>Renommage de <varname>hostname_lookup</varname> en
<varname>log_hostname</varname> (Bruce)</para></listitem>

    <listitem>
     <para>Ajout de <varname>checkpoint_warning</varname> pour avertir en cas de
      points de vérification trop fréquent (Bruce)</para>
     <para>
      Dans les versions précédentes, il était difficile de déterminer si un
      point de vérification arrivait trop fréquemment. Cette fonctionnalité 
      ajoute un avertissement aux traces du serveur lorsqu'un nombre
      excessif de points de vérification survient.
     </para>
    </listitem>

    <listitem><para>Nouveaux paramètres du serveur en lecture seule con
      cernant la localisation (Tom)</para></listitem>

    <listitem>
     <para>
      Modifie les messages des traces du serveur en <literal>DEBUG</literal> plutôt que
      <literal>LOG</literal> (Bruce)
     </para>
    </listitem>

    <listitem>
     <para>Empêche les variables de traces du serveur d'être désactivées par des
      utilisateurs standards (Bruce)</para>
     <para>
      Ceci est une fonctionnalité de sécurité pour que les utilisateurs
      standards ne puissent pas désactivés les traces activées par
      l'administrateur.
     </para>
    </listitem>

    <listitem>
     <para>
      <varname>log_min_messages</varname>/<varname>client_min_messages</varname> contrôle
      maintenant la sortie <varname>debug_*</varname> (Bruce)
     </para>
     <para>
      Ceci centralise les informations de débogages du client de façon à 
      ce que toutes les sorties de débogages puissent être envoyées soit au
      client soit aux traces du serveur.
     </para>
    </listitem>

    <listitem>
     <para>Ajoute le support du serveur Rendezvous de Mac OS X (Chris
      Campbell)</para>
     <para>
      Ceci permet aux hôtes Mac OS X de chercher les serveurs
      <productname>PostgreSQL</productname> disponibles sur le réseau.
     </para>
    </listitem>

    <listitem>
     <para>
      Ajoute la possibilité d'afficher seulement les instructions lentes 
      en utilisant <varname>log_min_duration_statement</varname> (Christopher)
     </para>
     <para>
      Ceci est une fonctionnalité de débogage souvent demandée qui permet aux
      administrateurs de voir seulement les requêtes lentes dans les traces du
      serveur.
     </para>
    </listitem>

    <listitem>
     <para>Autorise <filename>pg_hba.conf</filename> à accepter des masques
      réseau au format CIDR (Andrew Dunstan)</para>
     <para>
      Ceci permet aux administrateurs d'assembler l'adresse IP de l'hôte et les
      champs de masques dans un seul champ CIDR dans
      <filename>pg_hba.conf</filename>.
     </para>
    </listitem>

    <listitem><para>Nouveau paramètre <varname>is_superuser</varname> en
      lecture seule (Tom)</para></listitem>

    <listitem>
     <para>Nouveau paramètre <varname>log_error_verbosity</varname> pour
      contrôler le détail des erreurs (Tom)</para>
     <para>
      Ceci fonctionne avec la nouvelle version des rapports d'erreurs pour
      fournir des informations supplémentaires comme des astuces, de noms de
      fichiers et des numéros de lignes.
     </para>
    </listitem>

    <listitem>
     <para><literal>postgres --describe-config</literal> affiche maintenant les
      variables de configuration du serveur (Aizaz Ahmed, Peter)</para>
     <para>
      Cette option est utile pour les outils d'administration qui ont besoin de
      connaître les noms des variables de coniguration et leur minimum, maximum,
      valeur par défaut et descriptionss.
     </para>
    </listitem>

    <listitem>
     <para>
      Ajoute de nouvelles colonnes dans <literal>pg_settings</literal>&nbsp;:
      <literal>context</literal>, <literal>type</literal>, <literal>source</literal>,
      <literal>min_val</literal>, <literal>max_val</literal> (Joe)
     </para>
    </listitem>

    <listitem>
     <para>
      Par défaut, <varname>shared_buffers</varname> vaut 1000 et
      <varname>max_connections</varname> 100 si possible (Tom)
     </para>
     <para>
      Les anciennes versions avaient pour valeur par défaut 64 tampons
      partagés pour que <productname>PostgreSQL</productname> puisse démarrer
même sur de très vieux
      systèmes. Cette version teste la mémoire partagée autorisée par la
      plateforme et sélectionne des valeurs par défaut plus raisonnable si
      possible. Bien sûr, les utilisateurs sont toujours encouragés à évaluer
      leur charge de ressources en accord avec
      <varname>shared_buffers</varname>.
     </para>
    </listitem>

    <listitem>
     <para>
      Nouveau type d'enregistrement dans <filename>pg_hba.conf</filename>
      <literal>hostnossl</literal> pour empêcher les connexions SSL (Jon
      Jensen)
     </para>
     <para>
      Dans les précédentes versions, il n'existait pas de moyens d'empêcher les
      connexions SSL si le client et le serveur supportaient SSL. Cette option
      le permet.
     </para>
    </listitem>

    <listitem>
     <para>
      Nouveau déplacement du paramètre <varname>geqo_random_seed</varname>
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Ajout du paramètre serveur <varname>regex_flavor</varname> pour contrôler
      le traitement des expressions rationnelles (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que <command>pg_ctl</command> gère mieux les ports non standards
      (Greg)
     </para>
    </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Modifications sur les requêtes</title>

   <itemizedlist>
    <listitem><para>Nouveau schéma d'informations au standard SQL
      (Peter)</para></listitem>
    <listitem><para>Ajoute des transactions en lecture seule
      (Peter)</para></listitem>
    <listitem><para>Affichage du nom de la clé et de la valeur dans les
      messages de violation de clé étrangère (Dmitry Tkach)</para></listitem>

    <listitem>
     <para>Permet aux utilisateurs de voir leur propre requêtes dans
<literal>pg_stat_activity</literal> (Kevin Brown)</para>
     <para>
      Dans les versions précédentes, seul le superutilisateur pouvait voir les
      chaînes de requêtes en utilisant <literal>pg_stat_activity</literal>.
      Maintenant, les utilisateurs ordinaires peuvent voir leurs propres
      requêtes.
     </para>
    </listitem>

    <listitem>
     <para>Corrige les agrégats dans les sous-requêtes pour correspondre au
      standard SQL (Tom)</para>
     <para>
      Le standard SQL indique qu'une fonction d'agrégat apparaissant dans une
      sous-requête appartient à la requête externe si son argument contient
      seulement des variables de la requête externe. Les versions précédentes de
      <productname>PostgreSQL</productname> ne gèrent pas ce point correctement.
     </para>
    </listitem>

    <listitem>
     <para>Ajout d'une option pour empêcher l'ajout automatique de 
      tables référencées dans la requête (Nigel J. Andrews)</para>
     <para>
      Par défaut, les tables mentionnées dans la requête sont automatiquement 
      ajoutées dans la clause <literal>FROM</literal> s'ils n'y sont pas déjà. Ceci est
      compatible avec le comportement historique de
<productname>POSTGRES</productname>
      mais est contraire
      au standard SQL. Cette option permet de sélectionner un comportement
      compatible avec le standard.
     </para>
    </listitem>

    <listitem>
     <para>Autorise <literal>UPDATE ... SET col = DEFAULT</literal> (Rod)</para>
     <para>
      Ceci permet à <command>UPDATE</command> d'initialiser une colonne à sa
      valeur déclarée par défaut.
     </para>
    </listitem>

    <listitem>
     <para>Autorise l'utilisation d'expressions dans
      <literal>LIMIT</literal>/<literal>OFFSET</literal>
      (Tom)</para>
     <para>
      Dans les versions précédentes, <literal>LIMIT</literal>/<literal>OFFSET</literal>
      pouvaient seulement être des constantes, pas des expressions.
     </para>
    </listitem>

    <listitem>
     <para>Implémentation de <literal>CREATE TABLE AS EXECUTE</literal> (Neil,
      Peter)</para>
    </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Object Manipulation Changes</title>

   <itemizedlist>
    <listitem>
     <para>Rend la grammaire de <command>CREATE SEQUENCE</command> plus
      conforme à SQL:2003 (Neil)</para>
    </listitem>

    <listitem>
     <para>Ajout des déclencheurs au niveau instruction (Neil)</para>
     <para>
      Bien que ceci permet à un déclencheur d'être lancé à la fin d'une
      instruction, il ne permet pas au déclencheur d'accéder à toutes les lignes
      modifiées par l'instruction. Cette possibilité est planifiée pour une
      future version.
     </para>
    </listitem>

    <listitem>
     <para>Ajout de contraintes de vérifications pour les domaines
      (Rod)</para>
     <para>
      Ceci améliore grandement l'utilité des domaines en les permettant
      d'utiliser les contraintes de vérification.
     </para>
    </listitem>

    <listitem>
     <para>Ajout d'<command>ALTER DOMAIN</command> (Rod)</para>
     <para>
      Ceci permet la manipulation de domaines existants.
     </para>
    </listitem>

    <listitem>
     <para>Correction de plusieurs bogues pour les tables comprenant zéro
      colonne (Tom)</para>
     <para>
      <productname>PostgreSQL</productname> supporte les tables sans colonne.
      Ceci corrige plusieurs bogues survenant lors de l'utilisation de telles
      tables.
     </para>
    </listitem>

    <listitem>
     <para>Fait que <literal>ALTER TABLE ... ADD PRIMARY KEY</literal> ajoute
      une contrainte non NULL (Rod)</para>
     <para>
      Dans les précédentes versions, <literal>ALTER TABLE ... ADD
      PRIMARY</literal> aurait ajouter un index unique mais pas de contrainte
      non NULL. Ceci est corrigé dans cette version.
     </para>
    </listitem>

    <listitem><para>Ajout de <literal>ALTER TABLE ... WITHOUT OIDS</literal>
     (Rod)</para>
     <para>
      Ceci permet de contrôler le fait qu'il y ait ou non une colonne OID pour
      les nouvelles lignes. Ceci est surtout utile pour sauvegarder de l'espace
      disque.
     </para>
    </listitem>

    <listitem>
     <para>
      Ajout de <literal>ALTER SEQUENCE</literal> pour modifier les valeurs
      minimum, maximum, l'incrément, le cache et le cycle (Rod)
     </para>
    </listitem>

    <listitem>
     <para>Ajout de <literal>ALTER TABLE ... CLUSTER ON</literal> (Alvaro
      Herrera)</para>
     <para>
      Cette commande est utilisée par <command>pg_dump</command> pour
      enregistrer la colonne de groupement pour chaque table précédemment
      groupée. Cette information est utilisée pour regrouper toutes les tables
      précédemment groupées.
     </para>
    </listitem>

    <listitem><para>Amélioration de la conversion automatique de type pour les
     domaines (Rod, Tom)</para></listitem>
    <listitem><para>Permet les signes dollar dans les identifieurs sauf en
      premier caractère (Tom)</para></listitem>
    <listitem><para>Interdit les signes dollar dans les noms d'opérateur, pour
      que <literal>x=$1</literal> fonctionne (Tom)</para></listitem>

    <listitem>
     <para>
      Autorise la copie du schéma de la table en utilisant <literal>LIKE
      <replaceable>soustable</replaceable></literal>, aussi une fonctionnalité
      SQL:2003 <literal>INCLUDING DEFAULTS</literal> (Rod)
     </para>
    </listitem>

    <listitem>
     <para>
      Ajout de la clause <literal>WITH GRANT OPTION</literal> pour
      <command>GRANT</command> (Peter)
     </para>
     <para>
      Ceci permet à <command>GRANT</command> de donner aux autres utilisateurs
      la capacité de données des privilèges sur un objet.
     </para>
    </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Modifications des commandes utilitaires</title>

   <itemizedlist>
    <listitem>
     <para>Ajout de la clause <literal>ON COMMIT</literal> à <command>CREATE
     TABLE</command> pour les tables temporaires (Gavin)</para>
     <para>
      Ceci permet à une table d'être supprimée ou d'avoir toutes ces lignes
      supprimées lors de la validation d'une transaction.
     </para>
    </listitem>

    <listitem>
     <para>Permet aux curseurs d'agir en dehors des transactions en utilisant
      <literal>WITH HOLD</literal> (Neil)</para>
     <para>
      Dans les précédentes versions, les curseurs étaient supprimés à la fin de
      la transaction qui les avait créé. Les curseurs peuvent maintenant être
      créés avec l'option <literal>WITH HOLD</literal> qui leur permet de
      continuer à être utilisé après que la transaction qui les a créé soit
      validée.
     </para>
    </listitem>

    <listitem>
     <para><literal>FETCH 0</literal> et <literal>MOVE 0 </literal> ne font
      maintenant plus rien (Bruce)</para>
     <para>
      Dans les précédentes versions, <literal>FETCH 0</literal> récupérait
      toutes les lignes restantes et <literal>MOVE 0</literal> se déplaçait à la
      fin du curseur.
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que <command>FETCH</command> et <command>MOVE</command> renvoient le
      nombre de lignes récupérées/déplacées ou zéro si au début ou à la fin du
      curseur, suivant le standard SQL (Bruce)
     </para>
     <para>
      Dans les versions précédentes, le nombre de lignes renvoyé par
      <command>FETCH</command> et <command>MOVE</command> ne reflétaient pas
      exactement le nombre de lignes traitées.
     </para>
    </listitem>

    <listitem>
     <para>Gestion propre de <literal>SCROLL</literal> avec les curseurs ou
      renvoi d'une erreur (Neil)</para>
     <para>
      Permettre un accès aléatoire (à la fois en avant et en arrière) aux
      différents types de requêtes ne peut pas se faire sans quelques travaux
      supplémentaires. Si <literal>SCROLL</literal> est spécifié lors de la
      création du curseur, ce travail supplémentaire a été réalisé. De plus, si
      le curseur a été créé avec <literal>NO SCROLL</literal>, aucun accès
      aléatoire ne sera autorisé.
     </para>
    </listitem>

    <listitem>
     <para>
      Implémente les options compatibles SQL <literal>FIRST</literal>,
      <literal>LAST</literal>, <literal>ABSOLUTE <replaceable>n</replaceable></literal>,
      <literal>RELATIVE <replaceable>n</replaceable></literal> pour
      <command>FETCH</command> et <command>MOVE</command> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>Autorise <command>EXPLAIN</command> sur <command>DECLARE
      CURSOR</command> (Tom)</para>
    </listitem>

    <listitem>
     <para>Permet à <command>CLUSTER</command> d'utiliser les index marqués
      comme pré-groupés par défaut (Alvaro Herrera)</para>
    </listitem>

    <listitem>
     <para>Permet à <command>CLUSTER</command> de grouper toutes les tables
      (Alvaro Herrera)</para>
     <para>
      Ceci permet à toutes les tables précédemment groupées dans une base de 
      données d'être regroupées avec une seule commande.
     </para>
    </listitem>

    <listitem><para>Empêche <command>CLUSTER</command> sur les index partiels
      (Tom)</para></listitem>

    <listitem><para>Autorise les retours à la ligne DOS et Mac dans les fichiers
      <command>COPY</command> (Bruce)</para></listitem>

    <listitem>
     <para>
      Interdit les retours chariot comme valeur de données, les
      antislash-retour-chariot et <literal>\r</literal> sont toujours autorisés (Bruce)
     </para>
    </listitem>

    <listitem>
     <para>Modifications sur <command>COPY</command> (binaire, <literal>\.</literal>)
      (Tom)</para>
    </listitem>

    <listitem>
     <para>Récupération propre après un échec de <command>COPY</command>
      (Tom)</para>
    </listitem>

    <listitem>
     <para>Empêche les possibles pertes de mémoire de <command>COPY</command>
      (Tom)</para>
    </listitem>

    <listitem>
     <para>Fait que <command>TRUNCATE</command> soit sain lors de transactions
      (Rod)</para>
     <para>
      <command>TRUNCATE</command> peut maintenant être utilisé à l'intérieur
      d'une transaction. Si la transaction est annulée, les modifications faites
      par <command>TRUNCATE</command> sont automatiquement annulées.
     </para>
    </listitem>

    <listitem>
     <para>
      Permet la préparation et le lien de commandes utilitaires comme
      <command>FETCH</command> et <command>EXPLAIN</command> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>Ajout de <command>EXPLAIN EXECUTE</command> (Neil)</para>
    </listitem>

    <listitem>
     <para>Amélioration des performances de <command>VACUUM</command> sur les
      index en réduisant le trafic des WAL (Tom)</para>
    </listitem>

    <listitem>
     <para>Les index fonctionnels ont été généralisés en des index sur des
      expressions (Tom)</para>
     <para>
      Dans les versions précédentes, les index fonctionnels supportaient
      seulement une simple fonction appliquée à un ou plusieurs noms de
      commandes. Cette version accepte tout type d'expression scalaire.
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que <command>SHOW TRANSACTION ISOLATION</command> corresponde à
      l'entrée de <command>SET TRANSACTION ISOLATION</command>
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>Fait que <command>COMMENT ON DATABASE</command> sur les bases de
      données non locales génère un message d'avertissement plutôt qu'une
      erreur (Rod)</para>
     <para>
      Les commentaires de bases de données sont stockés dans les tables
      locales de la base de données. Donc, les commentaires sur une base de
      données doivent être stockés dans chaque base de données.
     </para>
    </listitem>

    <listitem>
     <para>
      Améliore la fiabilité de <command>LISTEN</command>/<command>NOTIFY</command> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>Permet à <command>REINDEX</command> de réindexer fiablement les
      index de catalogues système non partagés (Tom)</para>
     <para>
      Ceci permet aux tables système d'être réindexées sans avoir besoin d'une
      session en solo, qui était nécessaire dans les versions précédentes. Les
      seules tables qui requièrent maintenant une session solo sont les tables
      système global <literal>pg_database</literal>, <literal>pg_shadow</literal> et
      <literal>pg_group</literal>.
     </para>
    </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Modifications sur les types de données et sur les fonctions</title>

   <itemizedlist>
    <listitem>
     <para>
      Nouveau paramètre serveur <varname>extra_float_digits</varname> pour
      contrôler la précision d'affichage des nombres à virgule glottante (Pedro
      Ferreira, Tom)
     </para>
     <para>
      Ceci contrôle la précision qui causait des problèmes lors des tests de
      régression.
     </para>
    </listitem>

    <listitem><para>Autorisation de <literal>+1300</literal> comme spécificateur
      numérique de fuseau horaire, pour FJST (Tom)</para></listitem>

    <listitem>
     <para>
      Suppression des fonctions <function>oidrand</function>, <function>oidsrand</function> et
      <function>userfntest</function> rarement utilisées (Neil)
     </para>
    </listitem>

    <listitem>
     <para>Ajout de la fonction <function>md5()</function> sur le serveur principal,
      auparavant déjà dans <filename>contrib/pgcrypto</filename> (Joe)</para>
     <para>
      Une fonction MD5 était fréquemment demandée. Pour des possibilités
      plus complexes de cryptage, utilisez
      <filename>contrib/pgcrypto</filename>.
     </para>
    </listitem>

    <listitem><para>Augmentation de l'étendue des données de
     <type>timestamp</type> (John Cochran)</para></listitem>

    <listitem>
     <para>
      Modification de <literal>EXTRACT(EPOCH FROM timestamp)</literal> pour que
      <type>timestamp without time zone</type> soit supposé être dans le fuseau
      local, et non pas en GMT (Tom)
     </para>
    </listitem>

    <listitem><para>Récupération des divisions par zéro au cas où le système
      d'exploitation ne le permet pas (Tom)</para></listitem>
    <listitem><para>Modification du type de données <type>numeric</type>
      interne en base 10000 (Tom)</para></listitem>
    <listitem><para>Nouvelle fonction <function>hostmask()</function> (Greg
      Wickham)</para></listitem>
    <listitem><para>Corrections pour <function>to_char()</function> et
      <function>to_timestamp()</function> (Karel)</para></listitem>

    <listitem>
     <para>
      Permet aux fonctions de prendre tout type de données en argument et de
      renvoyer aussi tout type, en utilisant <type>anyelement</type> et
      <type>anyarray</type> (Joe)
     </para>
     <para>
      Ceci permet la création de fonctions qui peuvent fonctionner avec tout
      type de données.
     </para>
    </listitem>

    <listitem>
     <para>
      Les tableaux peuvent maintenant être spécifiés comme
      <literal>ARRAY[1,2,3]</literal>,
      <literal>ARRAY[['a','b'],['c','d']]</literal> ou
      <literal>ARRAY[ARRAY[ARRAY[2]]]</literal> (Joe)
     </para>
    </listitem>

    <listitem>
     <para>
      Autorise une comparaison correcte des tableaux, ceci incluant le support
      de <literal>ORDER BY</literal> et <literal>DISTINCT</literal> (Joe)
     </para>
    </listitem>

    <listitem><para>Autorise les index sur les colonnes de type tableau
      (Joe)</para></listitem>
    <listitem><para>Autorise la concaténation de tableaux avec
      <literal>||</literal> (Joe)</para></listitem>

    <listitem>
     <para>
      Autorise la qualification <literal>WHERE</literal> 
      <literal><replaceable>expr</replaceable> <replaceable>op</replaceable> ANY/SOME/ALL
      (<replaceable>array_expr</replaceable>)</literal> (Joe)
     </para>
     <para>
      Ceci permet aux tableaux de se comporter comme une liste de valeurs dans
      des requêtes comme <literal>SELECT * FROM tab WHERE col IN
      (array_val)</literal>.
     </para>
    </listitem>

    <listitem>
     <para>
      Nouvelles fonctions de tableaux <function>array_append</function>,
      <function>array_cat</function>, <function>array_lower</function>,
      <function>array_prepend</function>, <function>array_to_string</function>,
      <function>array_upper</function>, <function>string_to_array</function> (Joe)
     </para>
    </listitem>

    <listitem><para>Autorise l'utilisation de fonctions polymorphiques par les
      agrégats définis par l'utilisateur (Joe)</para></listitem>
    <listitem><para>Permet les affectations dans des tableaux vides
      (Joe)</para></listitem>

    <listitem>
     <para>
      Autorise 60 dans la partie secondes des champs de type <type>time</type>,
      <type>timestamp</type> et <type>interval</type> (Tom)
     </para>
     <para>
      Les valeurs à soixante secondes sont nécesssaires pour les <quote>leap
      seconds</quote>.
     </para>
    </listitem>

    <listitem><para>Permet au type de données <type>cidr</type> d'être converti
      en <type>text</type> (Tom)</para></listitem>

    <listitem><para>Interdit les noms de fuseaux horaires invalides dans SET
      TIMEZONE (Tom)</para></listitem>

    <listitem>
     <para>
      Supprime les espaces à la fin lorsque une donnée de type
      <type>char</type> est convertie en type <type>varchar</type> ou <type>text</type>
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que <type>float(<replaceable>p</replaceable>)</type> mesure la précision
      <replaceable>p</replaceable> en chiffres binaires, et non pas en chiffres décimaux
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>Ajoute le support IPv6 aux types de données <type>inet</type> et
      <type>cidr</type> (Michael Graff)</para>
    </listitem>

    <listitem>
     <para>Ajoute la fonction <function>family()</function> pour rapporter si
      l'adresse fait partie de la famille IPv4 ou IPv6 (Michael Graff)</para>
    </listitem>

    <listitem>
     <para>
      Fait que <literal>SHOW datestyle</literal> génère une sortie similaire à
      celle utilisée par <literal>SET datestyle</literal> (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que <literal>EXTRACT(TIMEZONE)</literal> et <literal>SET/SHOW
      TIME ZONE</literal> suivent la convention SQL pour le signe des décalages
      de zones horaires, c'est-à-dire que le positif est l'est à partir d'UTC
      (Tom)
     </para>
    </listitem>

    <listitem>
     <para>Correction de <literal>date_trunc('quarter', ...)</literal> (Böjthe
Zoltán)</para>
     <para>
      Les anciennes versions renvoyaient une valeur incorrecte pour cet appel
      de fonction.
     </para>
    </listitem>

    <listitem>
     <para>Fait que <function>initcap()</function> soit plus compatible avec
      Oracle (Mike Nolan)</para>
     <para>
      <function>initcap()</function> met en majuscule toute lettre après un
      caractère non alphanumérique, plutôt qu'après un espace blanc.
     </para>
    </listitem>

    <listitem>
     <para>Autorise seulement l'ordre du champ <varname>datestyle</varname>
      pour les valeurs de données ne faisant pas partie du format ISO-8601
      (Greg)</para>
    </listitem>

    <listitem>
     <para>
      Ajout de nouvelles valeurs pour <varname>datestyle</varname>,
      <literal>MDY</literal>, <literal>DMY</literal> et <literal>YMD</literal> pour initialiser
      l'ordre du champ en entrée&nbsp;; honore <literal>US</literal> et
      <literal>European</literal> pour une compatibilité ascendante (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Les chaînes littérales comme <literal>'now'</literal> ou
      <literal>'today'</literal> ne fonctionneront plus comme valeur par défaut
      d'une colonne. À la place, utilisez des fonctions comme
      <function>now()</function>, <function>current_timestamp</function>.
      (modification requise pour les instructions préparées) (Tom)
     </para>
    </listitem>

    <listitem>
     <para>Traitement de NaN comme plus important que tout autre valeur dans
      <function>min()</function>/<function>max()</function> (Tom)</para>
     <para>
      NaN était déjà trié après les valeurs numériques ordinaires dans la
      plupart des cas, mais <function>min()</function> et <function>max()</function> ne le
      faisaient pas correctement.
     </para>
    </listitem>

    <listitem>
     <para>Empêche l'intervalle de supprimer l'affichage de
      <literal>:00</literal></para>
    </listitem>

    <listitem>
     <para>
      Nouvelles fonctions <function>pg_get_triggerdef(prettyprint)</function>
      et <function>pg_constraint_is_visible() (Christopher)</function>
     </para>
    </listitem>

    <listitem>
     <para>Permet la spécification de l'heure avec <literal>040506</literal> ou
      <literal>0405</literal> (Tom)</para>
    </listitem>

    <listitem>
     <para>
      L'ordre de la date en entrée doit être <literal>YYYY-MM-DD</literal>
      (avec une année sur quatre chiffres) ou correspondre à
      <varname>datestyle</varname>
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que <function>pg_get_constraintdef</function> supporte les
      contraintes uniques, de clés primaires et de vérification de contraintes
      (Christopher)
     </para>
    </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Server-Side Language Changes</title>

   <itemizedlist>
    <listitem>
     <para>
      Empêche PL/pgSQL de s'arrêter brutalement lorsque <literal>RETURN
      NEXT</literal> est utilisé avec une variable d'enregistrement ne
      correspondant à aucune ligne (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que l'interface <function>spi_execute</function> de PL/Python gère
      les valeurs NULL correctement (Andrew Bosma)
     </para>
    </listitem>

    <listitem>
     <para>Autorise la déclaration des variables de type composé dans PL/pgSQL
      sans <literal>%ROWTYPE</literal> (Tom)</para>
    </listitem>

    <listitem>
     <para>Corrige la fonction <function>_quote()</function> de PL/Python pour
      gérer les gros entiers</para>
    </listitem>

    <listitem>
     <para>Modification de PL/Python en langage sans confiance, maintenant
      appelé <literal>plpythonu</literal> (Kevin Jacobs, Tom)</para>
     <para>
      Le langage Python ne support plus un environnement d'exécution restreint,
      donc la version de confiant de PL/Python a été supprimée. Si cette
      situation évolue, une version de PL/python pouvant être utilisé par des
      utilisateurs ordinaires sera préparée.
     </para>
    </listitem>

    <listitem>
     <para>Autorise les fonctions polymorphiques dans PL/pgSQL (Joe, Tom)</para>
    </listitem>

    <listitem>
     <para>Autorise les fonctions SQL polymorphiques (Joe)</para>
    </listitem>

    <listitem>
     <para>
      Amélioration du mécanisme de cache des fonctions compilées dans PL/pgSQL
      avec un support complet du polymorphisme (Joe)
     </para>
    </listitem>

    <listitem>
     <para>
      Ajout du nouveau paramètre <literal>$0</literal> dans PL/pgSQL, représentant le
      type de retour réel de la fonction (Joe)
     </para>
    </listitem>

    <listitem>
     <para>
      Autorise PL/Tcl et PL/Python à utiliser le même déclencheur sur des
      tables multiples (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Correction de <function>spi_prepare</function> de PL/Tcl pour qu'il
      accepte les noms de types qualifiés complètement dans la liste des types
      des paramètres (Jan)
     </para>
    </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Modifications sur psql</title>

   <itemizedlist>
    <listitem>
     <para>Ajout de <literal>\pset pager always</literal> pour utiliser en
     permanence le pagineur (Greg)</para>
     <para>
      Ceci force l'utilisation du pagineur même si le nombre de lignes est plus
      petit que la hauteur de l'écran. Ceci est valable pour les lignes de
      données ne tenant pas sur une ligne de l'écran.
     </para>
    </listitem>

    <listitem><para>Amélioration de la complétion par tabulation (Rod, Ross
     Reedstrom, Ian Barwick)</para></listitem>
    <listitem><para>Réordonnancement de l'aide <literal>\?</literal> en la groupant
     (Harald Armin Massa, Bruce)</para></listitem>
    <listitem><para>Ajout des commandes antislash pour liste les schémas,
     fonctions de conversions et conversions (Christopher)</para></listitem>

    <listitem>
     <para>
      <command>\encoding</command> est modifié pour se baser sur le paramètre serveur
      <varname>client_encoding</varname> (Tom)
     </para>
     <para>
      Dans les versions précédentes, <command>\encoding</command> n'était pas
      tenu au courant des changements de codage fait en utilisant <literal>SET
      client_encoding</literal>.
     </para>
    </listitem>

    <listitem>
     <para>Sauvegarde du tampon de l'éditeur dans l'historique de readline
     (Ross)</para>
     <para>
      Lorsque <command>\e</command> est utilisé pour éditer une requête, le résultat 
      est sauvegardé dans l'historique de readline pour récupération en
      utilisant la flèche vers le haut.
     </para>
    </listitem>

    <listitem><para>Amélioration de l'affichage de <command>\d</command> 
     (Christopher)</para></listitem>
    <listitem><para>Amélioration du mode HTML pour être plus conforme au
     standard (Greg)</para></listitem>

    <listitem>
     <para>Nouvelle fonction <command>\set AUTOCOMMIT off</command> (Tom)</para>
     <para>
      Ceci prend la place du paramètre serveur <varname>autocommit</varname>
      qui a été supprimé.
     </para>
    </listitem>

    <listitem>
     <para>Nouveau <command>\set VERBOSITY</command> pour contrôler le détail
      des erreurs (Tom)</para>
     <para>
      Ceci contrôle le niveau du nouveau détail des rapports.
     </para>
    </listitem>

    <listitem><para>Nouvelle invite de séquence d'échappement
      <literal>%x</literal> pour afficher l'état de la transaction
      (Tom)</para></listitem>
    <listitem><para>Les options longues pour <application>psql</application>
      sont maintenant disponibles sur toutes les plateformes</para></listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Modifications de pg_dump</title>

   <itemizedlist>
    <listitem><para>Multiples corrections de pg_dump, incluant le format tar et
      les gros objets</para></listitem>
    <listitem><para>Autorise la sauvegarde de schémas spécifiques par pg_dump
      (Neil)</para></listitem>

    <listitem>
     <para>Fait que pg_dump préserve les caractéristiques de stockage des
      colonnes (Christopher)</para>
     <para>
      Ceci préserve l'information <literal>ALTER TABLE ... SET
      STORAGE</literal>.
     </para>
    </listitem>

    <listitem><para>Fait que pg_dump préserve les caractéristiques
      <command>CLUSTER</command> (Christopher)</para></listitem>

    <listitem>
     <para>
      Fait que pg_dumpall utilise <command>GRANT</command>/<command>REVOKE</command> pour
      sauvegarder les droits au niveau de la base de données (Tom)
     </para>
    </listitem>

    <listitem>
     <para>
      Autorise pg_dumpall à supporter les options <option>-a</option>,
      <option>-s</option>, <option>-x</option> de pg_dump (Tom)
     </para>
    </listitem>

    <listitem><para>Empêche pg_dump de mettre en minuscule les identifieurs
      spécifiés sur la ligne de commande (Tom)</para></listitem>

    <listitem>
     <para>
      Les options <option>--use-set-session-authorization</option> et
      <option>--no-reconnect</option> de pg_dump ne font maintenant plus
      rien, toutes les sauvegardes utilisent <command>SET SESSION
      AUTHORIZATION</command>
     </para>
     <para>
      pg_dump ne se reconnecte plus pour changer d'utilisateurs mais utilise à
      la place <command>SET SESSION AUTHORIZATION</command>. Ceci réduira le
      nombre de demandes de mot de passe lors des restaurations.
     </para>
    </listitem>

    <listitem>
     <para>Les options longues pour <application>pg_dump</application> sont
      maintenant disponibles sur toutes les plateformes</para>
     <para>
      <productname>PostgreSQL</productname> inclut maintenant ses propres
      routines de traitement des options longues.
     </para>
    </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Modifications de libpq</title>

   <itemizedlist>
    <listitem>
     <para>
      Ajout de la fonction <function>PQfreemem</function> pour libérer la
      mémoire de Windows, suggéré pour le <command>NOTIFY</command> (Bruce)
     </para>
     <para>
      Windows requiert que la mémoire allouée dans une bibliothèque soit libérée
      par une fonction de la même bibliothèque, donc <function>free()</function>
      ne fonctionne pas pour libérer la mémoire allouée par libpq.
      <function>PQfreemem</function> est la bonne façon de libérer la mémoire
      libpq, spécialement sur Windows, et est aussi recommandée sur les autres
      plateformes.
     </para>
    </listitem>

    <listitem>
     <para>Fonctionnalité de service de document, et ajout d'un fichier
      d'exemple (Bruce)</para>
     <para>
      Ceci permet aux clients de rechercher une information de connexion 
      dans un ficher central sur la machine client.
     </para>
    </listitem>

    <listitem>
     <para>
      Fait que <function>PQsetdbLogin</function> a les mêmes valeurs par défaut
      que <function>PQconnectdb</function> (Tom)
     </para>
    </listitem>

    <listitem><para>Autorise libpq à échouer proprement lorsque les ensembles de
      résultats sont trop importants (Tom)</para></listitem>

    <listitem>
     <para>
      Amélioration de la performance de la fonction
      <function>PQunescapeBytea</function> (Ben Lamb)
     </para>
    </listitem>

    <listitem>
     <para>
      Autorise une libpq totalement compatible avec les threads avec 
      l'option <option>--enable-thread-safety</option> de
      <filename>configure</filename> (Lee Kindness, Philip Yarra)
     </para>
    </listitem>

    <listitem>
     <para>
      Autorise la fonction <function>pqInternalNotice</function> à accepter les
      chaînes de format et leurs arguments au lieu d'un simple message
      préformaté (Tom, Sean Chittenden)
     </para>
    </listitem>

    <listitem>
     <para>
      Contrôle la négotiation SSL avec les valeurs <literal>sslmode</literal>
      <literal>disable</literal>, <literal>allow</literal>,
      <literal>prefer</literal> et <literal>require</literal> (Jon
      Jensen)
     </para>
    </listitem>

    <listitem>
     <para>Autorise les nouveaux codes d'erreur et les niveaux de texte
      (Tom)</para>
    </listitem>

    <listitem>
     <para>Autorise l'accès à la table et la colonne sous-jacente du résultat
      d'une requête (Tom)</para>
     <para>
      Ceci est utile pour les applications de création de requêtes qui veulent
      connaître la table sous-jacente et les noms de colonnes spécifiées avec
      un ensemble de résultats spécifique.
     </para>
    </listitem>

    <listitem><para>Autorise l'accès au statut de la transaction en cours
      (Tom)</para></listitem>
    <listitem><para>Ajoute la capacité de passer des données binaires
      directement au serveur (Tom)</para></listitem>

    <listitem>
     <para>
      Ajout des fonctions <function>PQexecPrepared</function> et
      <function>PQsendQueryPrepared</function> réalisant un
      bind/execute des précédentes instructions préparées (Tom)
      </para>
     </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Modification de JDBC</title>

   <itemizedlist>
    <listitem><para>Autorise <function>setNull</function> sur des ensembles de
      résultats en lecture/écriture</para></listitem>
    <listitem><para>Autorise <function>executeBatch</function> sur une
      instruction préparée (Barry)</para></listitem>
    <listitem><para>Support des connexions SSL (Barry)</para></listitem>
    <listitem><para>Gestion des noms de schéma dans les ensembles de résultats
      (Paul Sorenson)</para></listitem>
    <listitem><para>Ajout du support de refcursor (Nic
      Ferrier)</para></listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Diverses modifications dans l'interface</title>

   <itemizedlist>
    <listitem>
     <para>Empêche les possibles pertes de mémoire ou <quote>core dump</quote>
      lors d'un arrêt de libpgtcl (Tom)</para>
    </listitem>
    <listitem>
     <para>Ajout de la compatibilité Informix pour ECPG (Michael)</para>
     <para>
      Ceci permet à ECPG de traiter des programmes C embarqués qui étaient
      écrit en utilisant certaines extensions Informix.
     </para>
    </listitem>

    <listitem>
     <para>Ajout du type <type>decimal</type> à ECPG sur une longueur fixe, pour
      Informix (Michael)</para>
    </listitem>

    <listitem>
     <para>
      Autorise les programmes SQL embarqués en mode compatible avec les threads
      après utilisation de l'option <option>--enable-thread-safety</option> de
      <filename>configure</filename> (Lee Kindness, Bruce)
     </para>
     <para>
      Ceci permet à de nombreux threads d'accéder à la base de données en 
      même temps.
     </para>
    </listitem>

    <listitem>
     <para>Déplacement du client Python PyGreSQL sur <ulink
      url="http://www.pygresql.org"></ulink> (Marc)</para>
    </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Modifications du code source</title>

   <itemizedlist>
    <listitem><para>Empêche le besoin de fichiers de résultats de
régression séparés par plateforme (Tom)</para></listitem>
    <listitem><para>Amélioration de la primitive de verrou sur PPC (Reinhard
Max)</para></listitem>
    <listitem><para>Nouvelle fonction <function>palloc0</function> pour allouer
et effacer la mémoire (Bruce)</para></listitem>
    <listitem><para>Correction du code de verrou pour le CPU s390x (64-bit)
(Tom)</para></listitem>
    <listitem><para>Autorise OpenBSD à utiliser les crédentiels ident locales
(William Ahern)</para></listitem>
    <listitem><para>Fait que les arbres de plans de requêtes sont en lecture
seule pour l'exécuteur (Tom)</para></listitem>
    <listitem><para>Ajout du script de démarrage pour Darwin (David
Wheeler)</para></listitem>
    <listitem><para>Permet à libpq de compiler avec le compilateur C++ de
Borland (Lester Godwin, Karl Waclawek)</para></listitem>
    <listitem><para>Utilisation de notre propre version de
<function>getopt_long()</function> si nécessaire (Peter)</para></listitem>
    <listitem><para>Conversion des scripts d'administration en C
(Peter)</para></listitem>
    <listitem><para>Bison &gt;= 1.85 est maintenant requis pour construire la
grammaire PostgreSQL, s'il s'agit d'une construction à partir du
CVS</para></listitem>
    <listitem><para>Assemblage de la documentation en un seul livre
(Peter)</para></listitem>
    <listitem><para>Ajout de fonctions compatibles Windows
(Bruce)</para></listitem>
    <listitem><para>Permet aux interfaces clients d'être compilées sous MinGW
(Bruce)</para></listitem>
    <listitem><para>Nouvelle fonction <function>ereport()</function> pour les
rapports d'erreur (Tom)</para></listitem>
    <listitem><para>Support du compilateur Intel sur Linux
(Peter)</para></listitem>
    <listitem><para>Amélioration des scripts de démarrage Linux (Slawomir
Sudnik, Darko Prenosil)</para></listitem>
    <listitem><para>Ajout du support pour AMD Opteron et Itanium (Jeffrey W.
Baker, Bruce)</para></listitem>
    <listitem>
     <para>Suppression de l'option <option>--enable-recode</option> de
<command>configure</command></para>
     <para>
      Ce n'était plus nécessaire maintenant que nous avons <command>CREATE
CONVERSION</command>.
     </para>
    </listitem>
    <listitem>
     <para>Génère une erreur de compilation si le code spinlock n'est pas trouvé
(Bruce)</para>
     <para>
      Les plateformes sans code spinlock échoueront maintenant à la compilation
plutôt que silencieusement lors de l'utilisation de sémaphores. Cet échec peut
être désactivé avec une nouvelle option <command>configure</command>.
     </para>
    </listitem>
   </itemizedlist>
  </sect3>

  <sect3>
   <title>Modifications dans contrib</title>

   <itemizedlist>
    <listitem><para>Modification de la licence de dbmirror par celle de
BSD</para></listitem>
    <listitem><para>Amélioration de earthdistance (Bruno Wolff
III)</para></listitem>
    <listitem><para>Amélioration de la portabilité de pgcrypto (Marko
Kreen)</para></listitem>
    <listitem><para>Suppression du crash en xml (John Gray, Michael
Richards)</para></listitem>
    <listitem><para>Mise à jour d'oracle</para></listitem>
    <listitem><para>Mise à jour de mysql</para></listitem>
    <listitem><para>Mise à jour de cube (Bruno Wolff III)</para></listitem>
    <listitem><para>Mise à jour d'earthdistance pour utiliser cube (Bruno Wolff
III)</para></listitem>
    <listitem><para>Mise à jour de btree_gist (Oleg)</para></listitem>
    <listitem><para>Nouveau module de recherche en texte complet tsearch2 (Oleg,
Teodor)</para></listitem>
    <listitem><para>Ajout d'une fonction inter tableau basé sur le découpage
dans tablefuncs (Joe)</para></listitem>
    <listitem><para>Ajout d'une colonne serial pour trier les familles
<function>connectby()</function> dans tablefuncs (Nabil Sayegh,Joe)</para></listitem>
    <listitem><para>Ajout des connexions nommées persistantes dans dblink
(Shridhar Daithanka)</para></listitem>
    <listitem><para>Le nouveau pg_autovacuum permet des
<command>VACUUM</command> automatique (Matthew T. O'Connor)</para></listitem>
    <listitem><para>Fait que pgbench honore les variables d'environnement
<envar>PGHOST</envar>, <envar>PGPORT</envar>, <envar>PGUSER</envar> (Tatsuo)</para></listitem>
    <listitem><para>Amélioration d'intarray (Teodor Sigaev)</para></listitem>
    <listitem><para>Amélioration de pgstattuple (Rod)</para></listitem>
    <listitem><para>Correction d'un bogue dans <function>metaphone()</function>
(contrib fuzzystrmatch)</para></listitem>
    <listitem><para>Amélioration d'adddépend (Rod)</para></listitem>
    <listitem><para>Mise à jour de spi/timetravel (Böjthe
Zoltán)</para></listitem>
    <listitem><para>Correction de l'option <option>-s</option> de dbase et
amélioration de la gestion des non ASCII (Thomas Behr, Márcio
Smiderle)</para></listitem>
    <listitem><para>Suppression du module tableau car les fonctionnalités sont
maintenant incluent par défaut (Joe)</para></listitem>
   </itemizedlist>
  </sect3>
  </sect2>
 </sect1>
