<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/install-win32.sgml,v 1.5 2005/01/30 22:59:23 guillaume Exp $
-->

<chapter id="install-win32">
 <title>Installation sur <productname>Windows</productname></title>

 <indexterm>
  <primary>installation</primary>
  <secondary>sur Windows</secondary>
 </indexterm>

 <para>
  Bien que <productname>PostgreSQL</productname> soit écrit pour des systèmes
  d'exploitation de type UNIX, la bibliothèque cliente en C 
  (<application>libpq</application>) ainsi que le terminal interactif 
  (<application>psql</application>) peuvent être compilés sous Windows. Les 
  fichiers makefile inclus dans la distribution source sont écrits pour 
  <productname>Microsoft Visual C++</productname> et ne pourront probablement
  pas fonctionner sur d'autres systèmes. Il doit être possible de compiler
  les bibliothèques manuellement dans les autres cas.
 </para>

 <tip>
  <para>
   Si vous utilisez Windows 98 ou une version plus récente, vous pouvez
   compiler et utiliser <productname>PostgreSQL</productname> <quote>comme si
   vous étiez sous Unix</quote> si vous installez l'ensemble de logiciels 
   <productname>Cygwin</productname> au préalable. Dans ce cas, référez-vous
   au <xref linkend="installation">.
  </para>
 </tip>

 <para>
  Pour compiler tous les utilitaires disponibles pour 
  <productname>Windows</productname>, placez-vous dans le répertoire
  <filename>src</filename> et tapez la commande&nbsp;:
<screen>
<userinput>nmake /f win32.mak</userinput>
</screen>
   Cette action ne peut être accomplie que si vous avez 
   <productname>Visual C++</productname> dans la variable d'environnement path.
 </para>

 <para>
  Les fichiers suivants seront produits&nbsp;:

  <variablelist>
   <varlistentry>
    <term><filename>interfaces\libpq\Release\libpq.dll</filename></term>
    <listitem>
     <para>
      La bibliothèque dynamique d'interface client
     </para>
    </listitem>
   </varlistentry>
  
   <varlistentry>
    <term><filename>interfaces\libpq\Release\libpqdll.lib</filename></term>
    <listitem>
     <para>
      La bibliothéque d'import nécessaire pour lier vos programmes à 
      <filename>libpq.dll</filename>
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><filename>interfaces\libpq\Release\libpq.lib</filename></term>
    <listitem>
     <para>
       La version statique de la bibliothèque d'interface client
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><filename>bin\psql\Release\psql.exe</filename></term>
    <listitem>
     <para>
      Le terminal interactif de <productname>PostgreSQL</productname>
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </para>

 <para>
  Le seul fichier devant réellement être installé est la bibliothèque dynamique
  <filename>libpq.dll</filename>. Ce fichier doit être placé dans la plupart des
  cas dans le répertoire <filename>WINNT\SYSTEM32</filename> (ou dans 
  <filename>WINDOWS\SYSTEM</filename> sur des systèmes Windows 95/98/ME). Si le
  fichier est installé par le biais d'un programme d'installation, il doit être
  installé avec un contrôle de version utilisant la ressource 
  <symbol>VERSIONINFO</symbol> incluse dans le fichier, afin d'assurer qu'une 
  nouvelle version de la bibliothèque ne sera pas écrasée.
 </para>

 <para>
  Si vous envisagez d'effectuer le développement d'une application utilisant 
  <application>libpq</application> sur cette machine, vous devrez ajouter les
  sous-répertoires <filename>src\include</filename> et 
  <filename>src\interfaces\libpq</filename> de l'ensemble des source dans le
  chemin des fichiers d'inclusion de votre compilateur.
 </para>

 <para>
  Afin d'utiliser la bibliothèque, vous devrez ajouter 
  <filename>libpqdll.lib</filename> dans votre projet. (Dans Visual C++,
  vous n'aurez qu'à cliquer avec le bouton droit sur le projet et choisir 
  de l'ajouter.).
 </para>

 <para>
  <application>psql</application> est compilé en tant <quote>qu'application
  en mode console</quote>. Comme la console windows utilise un codage de 
  caractères différent du reste du système, vous devez porter une attention
  toute particulière lorsque vous utilisez des caractères 8 bits au niveau
  de l'invite de <application>psql</application>. Lorsque 
  <application>psql</application> détecte un problème au niveau des pages de 
  codes de caractères, il le signale au démarrage. Il sera nécessaire d'effectuer
  les deux actions suivantes afin de modifier ces pages&nbsp;:
  <itemizedlist>
    <listitem>
     <para>
      Modifier la page de codes en entrant <userinput>cmd.exe /c chcp 1252</userinput>
      (1252 est la page de codes appropriée pour l'Allemand et le Français, 
      cependant vous pouvez le remplacer par celle qui vous conviendra).
      Si vous utilisez Cygwin vous pouvez mettre cette commande dans le fichier
      <filename>/etc/profile</filename>.
     </para>
    </listitem>

    <listitem>
     <para>
      Modifier la police de caractère de console en <quote>Lucida
      Console</quote> car les polices bitmap ne fonctionnent pas avec la page de
      code ANSI.
     </para>
    </listitem>
   </itemizedlist>
 </para>

</chapter>

<!-- Keep this comment at the end of the file
Local variables:
mode:sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"./reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:("/usr/lib/sgml/catalog")
sgml-local-ecat-files:nil
End:
-->
