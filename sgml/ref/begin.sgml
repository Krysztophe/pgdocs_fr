<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/begin.sgml,v 1.9 2005/02/17 09:11:55 guillaume Exp $
PostgreSQL documentation
-->

<refentry id="SQL-BEGIN">
 <refmeta>
  <refentrytitle id="SQL-BEGIN-TITLE">BEGIN</refentrytitle>
  <refmiscinfo>SQL - Instructions du langage</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>BEGIN</refname>
  <refpurpose>débute un bloc de transaction</refpurpose>
 </refnamediv>

 <indexterm zone="sql-begin">
  <primary>BEGIN</primary>
 </indexterm>

 <refsynopsisdiv>
<synopsis>
BEGIN [ WORK | TRANSACTION ]
</synopsis>
 </refsynopsisdiv>
 
 <refsect1>
  <title>Description</title>

  <para>
   <command>BEGIN</command> initie un bloc de transaction, c'est-à-dire que
   toutes les instructions après la commande <command>BEGIN</command> seront
   exécutées dans une seule transaction jusqu'à ce qu'un <xref
   linkend="sql-commit" endterm="sql-commit-title"> ou <xref
   linkend="sql-rollback" endterm="sql-rollback-title"> explicite soit donné.
   Par défaut (sans <command>BEGIN</command>),
   <productname>PostgreSQL</productname> exécute des
   transactions en mode <quote>autocommit</quote>, c'est-à-dire que chaque
   instruction est exécutée dans sa propre transaction et une validation
   (commit) est traitée implicitement à la fin de l'instruction (si l'exécution
   a réussi, sinon une annulation est exécutée).
  </para>

  <para>
   Les instructions sont exécutées plus rapidement dans un bloc de transaction
   parce que la séquence début/validation de transaction demande une activité
   significative du CPU et du disque. L'exécution de plusieurs instructions dans
   une transaction est aussi utile pour s'assurer d'une cohérence lors de la
   réalisation de certains modifications liées&nbsp;: les autres sessions ne
   seront pas capables de voir les états intermédiaires tant que toutes les
   mises à jour n'auront pas été réalisées.
  </para>
 </refsect1>
  
 <refsect1>
  <title>Paramètres</title>

  <variablelist>
   <varlistentry>
    <term><literal>WORK</literal></term>
    <term><literal>TRANSACTION</literal></term>
    <listitem>
     <para>
      Mots clés optionnels. Ils n'ont pas d'effet.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>
  
 <refsect1>
  <title>Notes</title>

  <para>
   <xref linkend="sql-start-transaction"
   endterm="sql-start-transaction-title"> a la même fonctionnalité que
   <command>BEGIN</>.
  </para>
   
  <para>
   Utilisez <xref linkend="SQL-COMMIT" endterm="SQL-COMMIT-TITLE"> ou
   <xref linkend="SQL-ROLLBACK" endterm="SQL-ROLLBACK-TITLE"> pour terminer un
   bloc de transaction.
  </para>

  <para>
   Lancer <command>BEGIN</> en étant déjà dans un bloc de transaction
   provoquera l'apparition d'un message d'avertissement. L'état de la
   transaction n'en sera pas affecté.
  </para>
 </refsect1>

 <refsect1>
  <title>Exemples</title>

  <para>
   Pour commencer un bloc de transaction&nbsp;:

<programlisting>
BEGIN;
</programlisting>
  </para>
 </refsect1>
 
 <refsect1>
  <title>Compatibilité</title>

  <para>
   <command>BEGIN</command> est une extension du langage
   <productname>PostgreSQL</productname>. Il n'existe pas de commande
   <command>BEGIN</command> explicite dans le standard SQL&nbsp;; le début de la
   transaction est toujours implicite et se termine soit avec une instruction
   <command>COMMIT</command> soit avec une instruction
   <command>ROLLBACK</command>.
  </para>

  <para>
   Les autres systèmes de bases de données relationnels peuvent
   offrir une fonctionnalité autocommit en supplément.
  </para>

  <para>
   Incidemment, le mot clé <literal>BEGIN</literal> est utilisé dans un but
   différent en SQL embarqué. Faites attention à la sémantique de la transaction
   lors du portage d'applications de bases de données.
  </para>
 </refsect1>

 <refsect1>
  <title>Voir aussi</title>

  <simplelist type="inline">
   <member><xref linkend="sql-commit" endterm="sql-commit-title"></member>
   <member><xref linkend="sql-rollback" endterm="sql-rollback-title"></member>
  </simplelist>
 </refsect1>
</refentry>
 
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
