<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/clusterdb.sgml,v 1.8 2005/09/15 07:03:25 guillaume Exp $
PostgreSQL documentation
-->

<refentry id="APP-CLUSTERDB">
 <refmeta>
  <refentrytitle id="APP-CLUSTERDB-TITLE"><application>clusterdb</application></refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname id="clusterdb">clusterdb</refname>
  <refpurpose>groupe les bases de données de
   <productname>PostgreSQL</productname></refpurpose>
 </refnamediv>

 <indexterm zone="app-clusterdb">
  <primary>clusterdb</primary>
 </indexterm>

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>clusterdb</command>
   <arg rep="repeat"><replaceable>options_connexion</replaceable></arg>
   <arg>--table | -t <replaceable>table</replaceable> </arg>
   <arg><replaceable>nom_db</replaceable></arg>
   <sbr>
   <command>clusterdb</command>
   <arg rep="repeat"><replaceable>options_connexion</replaceable></arg>
   <group><arg>--all</arg><arg>-a</arg></group>
  </cmdsynopsis>
 </refsynopsisdiv>
 

 <refsect1>
  <title>Description</title>

  <para>
   <application>clusterdb</application> est un outil de regroupement des tables
   dans une base de données <productname>PostgreSQL</productname>. Il trouve des
   tables qui ont été précédemment groupées et les regroupe encore une fois sur
   le même index qui a été utilisé précédemment. Les tables, qui n'ont jamais
   été groupées, n'ont pas été affectées.
  </para>

  <para>
   <application>clusterdb</application> est un emballage autour de la commande
   SQL <xref linkend="SQL-CLUSTER" endterm="sql-cluster-title">. Il n'y a pas
   de différence réelle entre les bases de données groupées via cet outil et via
   d'autres méthodes pour accéder au serveur.
  </para>

 </refsect1>


 <refsect1>
  <title>Options</title>

   <para>
    <application>clusterdb</application> accepte les arguments suivants en
    ligne de commande&nbsp;:
    
    <variablelist>
     <varlistentry>
      <term><option>-a</></term>
      <term><option>--all</></term>
      <listitem>
       <para>
	Groupe toutes les bases de données.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option><optional>-d</> <replaceable
	class="parameter">nom_db</replaceable></></term>
      <term><option><optional>--dbname</> <replaceable
	class="parameter">nom_db</replaceable></></term>
      <listitem>
       <para>
	Spécifie le nom de la base de données à grouper. S'il n'est pas
	spécifié et <option>-a</option> (ou <option>--all</option>) n'est pas
	utilisé, le nom de la base de données est lu à partir de la variable
	d'environnement <envar>PGDATABASE</envar>. Si elle n'est pas configurée,
	le nom de l'utilisateur spécifié pour la connexion est utilisé.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-e</></term>
      <term><option>--echo</></term>
      <listitem>
       <para>
        Affiche les commandes que <application>clusterdb</application> génère
	et envoie au serveur.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-q</></term>
      <term><option>--quiet</></term>
      <listitem>
       <para>
        N'affiche aucune réponse.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-t <replaceable class="parameter">table</replaceable></></term>
      <term><option>--table <replaceable class="parameter">table</replaceable></></term>
      <listitem>
       <para>
	Groupe uniquement <replaceable class="parameter">table</replaceable>.
       </para>
      </listitem>
     </varlistentry>

    </variablelist>
   </para>

   <para>
    <application>clusterdb</application> accepte aussi les arguments suivants en
    ligne de commande pour les paramètres de connexion&nbsp;:
    
   <variablelist>
     <varlistentry>
      <term><option>-h <replaceable
	class="parameter">hôte</replaceable></></term>
      <term><option>--host <replaceable
	class="parameter">hôte</replaceable></></term>
      <listitem>
       <para>
	Spécifie le nom de l'hôte de la machine sur lequel le serveur
        fonctionne. Si la valeur commence avec un slash, elle est utilisée comme
        répertoire du socket de domaine Unix.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-p <replaceable
	class="parameter">port</replaceable></></term>
      <term><option>--port <replaceable
	class="parameter">port</replaceable></></term>
      <listitem>
       <para>
	Spécifie le port TCP ou l'extension du fichier du socket local de
        domaine Unix sur lequel le serveur attend les connexions.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-U <replaceable
	class="parameter">nomutilisateur</replaceable></></term>
      <term><option>--username <replaceable
	class="parameter">nomutilisateur</replaceable></></term>
      <listitem>
       <para>
        Nom de l'utilisateur qui se connecte
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-W</></term>
      <term><option>--password</></term>
      <listitem>
       <para>
        Force la demande du mot de passe.
       </para>
      </listitem>
     </varlistentry>
   </variablelist>
  </para>
 </refsect1>


 <refsect1>
  <title>Environnement</title>

  <variablelist>
   <varlistentry>
    <term><envar>PGDATABASE</envar></term>
    <term><envar>PGHOST</envar></term>
    <term><envar>PGPORT</envar></term>
    <term><envar>PGUSER</envar></term>

    <listitem>
     <para>
      Paramètres de connexion par défaut
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>


 <refsect1>
  <title>Diagnostiques</title>

  <para>
   En cas de difficulté, voir <xref linkend="SQL-CLUSTER"
   endterm="sql-cluster-title"> et <xref linkend="APP-PSQL"> pour des
   discussions sur les problèmes et messages d'erreur potentiels. Le serveur de
   la base de données doit être en cours d'exécution sur l'hôte cible. De plus,
   toutes les configurations de connexion par défaut et variables
   d'environnement utilisées par la bibliothèque
   <application>libpq</application> seront appliquées.
  </para>

 </refsect1>


 <refsect1>
  <title>Exemples</title>

   <para>
    Pour grouper la base de données <literal>test</literal>&nbsp;:
<screen>
<prompt>$ </prompt><userinput>clusterdb test</userinput>
</screen>
   </para>

   <para>
    Pour grouper une seule table <literal>foo</literal> dans une base de données
    nommée <literal>xyzzy</literal>&nbsp;:
<screen>
<prompt>$ </prompt><userinput>clusterdb --table foo xyzzy</userinput>
</screen>
   </para>

 </refsect1>

 <refsect1>
  <title>Voir aussi</title>

  <simplelist type="inline">
   <member><xref linkend="sql-cluster" endterm="sql-cluster-title"></member>
   <member>Variables d'environnement (<xref linkend="libpq-envars">)</member>
  </simplelist>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
