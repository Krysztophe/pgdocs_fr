<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/create_database.sgml,v 1.7.2.1 2005/03/14 06:03:01 guillaume Exp $
PostgreSQL documentation
-->

<refentry id="SQL-CREATEDATABASE">
 <refmeta>
  <refentrytitle id="sql-createdatabase-title">CREATE DATABASE</refentrytitle>
  <refmiscinfo>SQL - Instructions du langage</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>CREATE DATABASE</refname>
  <refpurpose>crée une nouvelle base de données</refpurpose>
 </refnamediv>

 <indexterm zone="sql-createdatabase">
  <primary>CREATE DATABASE</primary>
 </indexterm>

 <refsynopsisdiv>
<synopsis>
CREATE DATABASE <replaceable class="PARAMETER">nom</replaceable>
    [ [ WITH ] [ OWNER [=] <replaceable class="parameter">propriétaire</replaceable> ]
           [ LOCATION [=] '<replaceable class="parameter">chemin</replaceable>' ]
           [ TEMPLATE [=] <replaceable class="parameter">modèle</replaceable> ]
           [ ENCODING [=] <replaceable class="parameter">encodage</replaceable> ] ]
</synopsis>
 </refsynopsisdiv>

 <refsect1>
  <title>Description</title>

  <para>
   <command>CREATE DATABASE</command> crée une nouvelle
   base de données <productname>PostgreSQL</productname>.
  </para>

  <para>
   Pour créer une base de données, vous devez être super-utilisateur
   ou avoir le droit spécial <literal>CREATEDB</>.
   Regardez <xref linkend="SQL-CREATEUSER" endterm="SQL-CREATEUSER-title">.
  </para>

  <para>
   Normalement, le créateur devient le propriétaire de la nouvelle base.
   Les superutilisateurs peuvent créer des bases dont le propriétaire sera
   un autre utilisateur en utilisant la clause <literal>OWNER</>.  Ils peuvent
   même créer des bases qui appartiendront à des utilisateurs qui n'ont aucun
   droits spéciaux. Les utilisateurs qui ne sont pas superutilisateurs
   mais qui possèdent le privilège <literal>CREATEDB</> peuvent seulement
   créer des bases de données dont ils seront les propriétaires.
  </para>

  <para>
   Un emplacement alternatif peut être spécifié afin, par exemple,
   de stocker la base de données sur un disque différent.  Le chemin
   doit avoir été préparé avec la commande 
   <xref linkend="APP-INITLOCATION" endterm="APP-INITLOCATION-title">.
  </para>

  <para>
   Si le nom du chemin ne contient pas de barre oblique (slash), il est
   interprété comme le nom d'une variable d'environnement qui doit être
   connue du processus serveur.  De cette façon, l'administrateur de
   bases de données peut exercer un contrôle sur les emplacements dans
   lesquels les bases sont créées.  (Un choix personnalisé est, par
   exemple, <envar>PGDATA2</envar>.)  Si le serveur est compilé avec
   <literal>ALLOW_ABSOLUTE_DBPATHS</literal> (non positionné par défaut),
   le nom des chemins absolus, identifiés par une barre oblique au début
   (par exemple <filename>/usr/local/pgsql/data</filename>), sont aussi
   autorisés.  Dans l'un ou l'autre cas, le nom final du chemin doit
   être absolu et ne doit contenir aucun guillemet simple.
  </para>

  <para>
   Par défaut, la nouvelle base de données sera créée en clonant la base
   système standard <literal>template1</>.  Un modèle différent peut
   être spécifié en écrivant <literal>TEMPLATE
   <replaceable class="parameter">nom</replaceable></literal>.  En particulier,
   en écrivant <literal>TEMPLATE template0</>, vous pouvez créer une base de
   données vierge contenant seulement les objets standards pré-définis par
   votre version de <productname>PostgreSQL</productname>.  Ceci est utile si
   vous souhaitez éviter de copier les objets de l'installation locale qui ont
   pû être ajoutés à <literal>template1</>.
  </para>

  <para>
   Le paramètre optionel d'encodage permet de sélectionner l'encodage
   de la base de données.  Quand il n'est pas spécifié, l'encodage utilisé
   sera celui du modèle de base de donnée choisi.
  </para>
 </refsect1>

 <refsect1>
  <title>Paramètres</title>

    <variablelist>
     <varlistentry>
      <term><replaceable class="parameter">nom</replaceable></term>
      <listitem>
       <para>
  Le nom de la base de données à créer.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable class="parameter">propriétaire</replaceable></term>
      <listitem>
       <para>
  Un nom d'utilisateur de la base qui sera le propriétaire de la
  nouvelle base de données ou <literal>DEFAULT</literal> pour utiliser
  l'option par défaut (c'est-à-dire utiliser le nom de l'utilisateur qui
  exécute la commande).
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable class="parameter">chemin</replaceable></term>
      <listitem>
       <para>
  Un emplacement alternatif du système de fichiers dans lequel stocker
  la nouvelle base de données, spécifié par une chaîne de caractères,
  ou <literal>DEFAULT</literal> pour utiliser l'emplacement par défaut. 
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable class="parameter">modèle</replaceable></term>
      <listitem>
       <para>
  Le nom du modèle depuis lequel créer la nouvelle base de données ou
  <literal>DEFAULT</literal> pour utiliser le modèle par défaut
	(<literal>template1</literal>).
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable class="parameter">encodage</replaceable></term>
      <listitem>
       <para>
  Jeu d'encodage à utiliser par la nouvelle base de données.  Spécifiez
  une chaîne (par exemple <literal>'SQL_ASCII'</literal>), un nombre
  d'encodage de type entier ou <literal>DEFAULT</literal> pour utiliser
  l'encodage par défaut. 
       </para>
      </listitem>
     </varlistentry>
    </variablelist>

  <para>
   Les paramètres optionnels peuvent être écrits dans n'importe quel
   ordre, pas seulement l'ordre illustré au-dessus.
  </para>
 </refsect1>

 <refsect1>
  <title>Notes</title>

   <para>
    <command>CREATE DATABASE</> ne peut pas être exécuté à l'intérieur d'un
    bloc de transactions.
   </para>

   <para>
    Les erreurs suivants la ligne <quote>could not initialize database directory</>
    (ne peut pas initialiser le répertoire de la base de données) sont le plus
    souvent dûes à des droits insuffisants sur le répertoire de données, à
    un disque plein ou à un autre problème du système de fichiers.  Lors de
    l'emploi d'un emplacement alternatif, l'utilisateur sous lequel le
    serveur de bases de données fonctionne doit avoir accès à cet emplacement.
   </para>

   <para>
    Utilisez l'instruction
    <xref linkend="SQL-DROPDATABASE" endterm="SQL-DROPDATABASE-title"> pour
    supprimer la base de données.
   </para>

   <para>
    Le programme <xref linkend="APP-CREATEDB" endterm="APP-CREATEDB-title"> est
    un emballage autour de cette commande. Il est fourni pour la convenance.
   </para>

  <para>
   Il existe des problèmes de sécurité soulevés lors de l'utilisation d'un
   nom de chemin absolu pour l'emplacement alternatif de la base de
   donnée&nbsp;; c'est la raison pour laquelle cette fonctionnalité n'est pas
   activée par défaut. Regardez la <xref linkend="manage-ag-alternate-locs">
   pour plus d'informations.
  </para>

  <para>
   Bien qu'il soit possible de copier une base de données autre que
   <literal>template1</> en spécifiant son nom comme modèle, ceci n'est pas
   (encore) prévu comme un service
   <quote><command>COPY DATABASE</command></quote> d'usage général.
   Nous recommandons que les bases de données utilisées comme modèles soient
   en mode lecture seule.  Regardez la <xref linkend="manage-ag-templatedbs">
   pour plus d'informations.
  </para>
 </refsect1>

 <refsect1>
  <title>Exemples</title>

  <para>
   Pour créer une nouvelle base de données&nbsp;:

<programlisting>
CREATE DATABASE lusiadas;
</programlisting>
  </para>

  <para>
   Pour créer une nouvelle base de données dans l'emplacement alternatif
   <filename>~/private_db</filename>,  exécutez ce qui suit depuis un
   shell&nbsp;:

<programlisting>
mkdir private_db
initlocation ~/private_db
</programlisting>

   Ensuite exécutez ce qui suit depuis une session de
   <application>psql</application>&nbsp;:

<programlisting>
CREATE DATABASE ailleurs WITH LOCATION '/home/olly/private_db';
</programlisting>
  </para>
 </refsect1>

 <refsect1>
  <title>Compatibilité</title>

  <para>
   Il n'existe pas d'instruction <command>CREATE DATABASE</command>
   dans le standard SQL.  Les bases de données sont équivalentes aux
   catalogues, dont la création est définie lors de l'implémentation.
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
