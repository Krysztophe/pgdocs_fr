<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/createuser.sgml,v 1.6.2.2 2005/07/15 06:33:53 guillaume Exp $
PostgreSQL documentation
-->

<refentry id="APP-CREATEUSER">
 <refmeta>
  <refentrytitle id="APP-CREATEUSER-TITLE"><application>createuser</application></refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>createuser</refname>
  <refpurpose>définit un nouveau compte utilisateur
   <productname>PostgreSQL</productname></refpurpose>
 </refnamediv>

 <indexterm zone="app-createuser">
  <primary>createuser</primary>
 </indexterm>

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>createuser</command>
   <arg rep="repeat"><replaceable>option</replaceable></arg>
   <arg><replaceable>nom_utilisateur</replaceable></arg>
  </cmdsynopsis>
 </refsynopsisdiv>
  

 <refsect1>
  <title>Description</title>
  <para>
   <application>createuser</application> crée un nouvel utilisateur
   <productname>PostgreSQL</productname>. Seuls les superutilisateurs
   (utilisateurs disposant de <literal>usesuper</literal> dans la table
   <literal>pg_shadow</literal>) peut créer de nouveaux utilisateurs
   <productname>PostgreSQL</productname>, donc
   <application>createuser</application> doit être appelé par quelqu'un qui peut
   se connecter en tant que superutilisateur
<productname>PostgreSQL</productname>.
  </para>

  <para>
   Être un superutilisateur implique aussi la capacité de passer certaines
   vérifications de droits d'accès dans la base de données, donc cette fonction
   ne devrait pas être donnée à la légère.
  </para>

  <para>
   <application>createuser</application> est un emballage autour de la commande
   <acronym>SQL</acronym> <xref linkend="SQL-CREATEUSER"
   endterm="SQL-CREATEUSER-title">. Il n'y a apas de différence réelle entre la
   création d'utilisateurs via cet outil ou via d'autres méthodes pour accéder
   au serveur.
  </para>

 </refsect1>


 <refsect1>
  <title>Options</title>

  <para>
   <application>createuser</> accepte les arguments suivant en ligne de
   commande&nbsp;

    <variablelist>
     <varlistentry>
      <term><replaceable class="parameter">nomutilisateur</replaceable></term>
      <listitem>
       <para>
	Spécifie le nom de l'utilisateur <productname>PostgreSQL</productname>
	à créer. Ce nom doit être unique parmi tous les utilisateurs
	<productname>PostgreSQL</productname>.
       </para>
      </listitem>
     </varlistentry>  

     <varlistentry>
      <term><option>-a</></term>
      <term><option>--adduser</></term>
      <listitem>
       <para>
	Le nouvel utilisateur est autorisé à créer de nouveaux utilisateurs.
	(Note&nbsp;: en fait, ceci transforme le nouvel utilisateur en
	<emphasis>superutilisateur</>. Cette option est mal nommée.)
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-A</></term>
      <term><option>--no-adduser</></term>
      <listitem>
       <para>
	Le nouvel utilisateur n'a pas le droit de créer d'autres utilisateurs
	(c'est-à-dire que le nouvel utilisateur est un utilisateur normal, pas
	un superutilisateur). Ceci est la valeur par défaut.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-d</></term>
      <term><option>--createdb</></term>
      <listitem>
       <para>
	Le nouvel utilisateur est autorisé à créer des bases de données.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-D</></term>
      <term><option>--no-createdb</></term>
      <listitem>
       <para>
	Le nouvel utilisateur n'a pas le droit de créer des bases de données.
	Ceci est la valeur par défaut.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-e</></term>
      <term><option>--echo</></term>
      <listitem>
       <para>
        Affiche les commandes que <application>createuser</application> génère
	et envoie au serveur.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-E</></term>
      <term><option>--encrypted</></term>
      <listitem>
       <para>
	Crypte le mot de passe de l'utilisateur stocké dans la base de données.
	Si non spécifié, le comportement par défaut des mots de passe est
	utilisé.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-i <replaceable
	class="parameter">nombre</replaceable></></term>
      <term><option>--sysid <replaceable
	class="parameter">nombre</replaceable></></term>
      <listitem>
       <para>
	Vous permet de prendre un identifiant utilisateur autre que celui par 
	défaut pour le nouvel utilisateur. Ce n'est pas nécessaire mais
	certaines personnes apprécient.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-N</></term>
      <term><option>--unencrypted</></term>
      <listitem>
       <para>
	Ne crypte pas le mot de passe stocké dans la base de donnée. Si non
	spécifié, le comportement par défaut des mots de passe est utilisé.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-P</></term>
      <term><option>--pwprompt</></term>
      <listitem>
       <para>
	Si indiqué, <application>createuser</application> affichera une invite
	pour la saisie du mot de passe du nouvel utilisateur. Ceci n'est pas
	nécessaire si vous pense ne pas utiliser l'authentification par mot de
	passe.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-q</></term>
      <term><option>--quiet</></term>
      <listitem>
       <para>
        N'affiche aucune réponse.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
  </para>

  <para>
   Il vous sera demandé un nom et toute autre information manquante si elles ne
   sont pas spécifiées sur la ligne de commande.
  </para>

  <para>
   <application>createuser</application> accepte aussi les arguments suivant en
   ligne de commande pour les paramètres de connexion&nbsp;:
    
   <variablelist>
     <varlistentry>
      <term><option>-h <replaceable
	class="parameter">hôte</replaceable></></term>
      <term><option>--host <replaceable
	class="parameter">hôte</replaceable></></term>
      <listitem>
       <para>
	Spécifie le nom de l'hôte de la machine sur lequel le serveur est en 
	cours d'exécution. Si la valeur commence avec un slash, elle est
	utilisée comme répertoire du socket de domaine Unix.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-p <replaceable class="parameter">port</replaceable></></term>
      <term><option>--port <replaceable class="parameter">port</replaceable></></term>
      <listitem>
       <para>
	Spécifie le port TCP ou l'extension du fichier socket de domaine Unix
	sur lequel le serveur attend des connexions.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-U <replaceable
	class="parameter">nomutilisateur</replaceable></></term>
      <term><option>--username <replaceable
	class="parameter">nomutilisateur</replaceable></></term>
      <listitem>
       <para>
        Nom utilisateur pour se connecter (pas celui à créer).
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-W</></term>
      <term><option>--password</></term>
      <listitem>
       <para>
        Force la demande de mot de passe (pour se connecter au serveur, pas le
	mot de passe du nouvel utilisateur).
       </para>
      </listitem>
     </varlistentry>
   </variablelist>
  </para>
 </refsect1>


 <refsect1>
  <title>Environnement</title>

  <variablelist>
   <varlistentry>
    <term><envar>PGHOST</envar></term>
    <term><envar>PGPORT</envar></term>
    <term><envar>PGUSER</envar></term>

    <listitem>
     <para>
      Paramètres de connexion par défaut
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>


 <refsect1>
  <title>Diagnostiques</title>

  <para>
   En cas de problèmes, voir <xref linkend="SQL-CREATEUSER"
   endterm="sql-createuser-title"> et <xref linkend="APP-PSQL"> pour des
   discussions sur les problèmes potentiels et les messages d'erreur. Le
   serveur de la base de données doit être en cours d'exécution sur l'hôte
   cible. De plus, tout paramétrage de connexion par défaut et toute variable
   d'environnement utilisé par le client de la bibliothèque
   <application>libpq</application> s'appliquera.
  </para>

 </refsect1>


 <refsect1>
  <title>Exemples</title>

   <para>
    Pour créer un utilisateur <literal>joe</literal> sur le serveur de bases de
    données par défaut&nbsp;:
<screen>
<prompt>$ </prompt><userinput>createuser joe</userinput>
<computeroutput>Is the new user allowed to create databases? (y/n) </computeroutput><userinput>n</userinput>
<computeroutput>Shall the new user be allowed to create more new users? (y/n) </computeroutput><userinput>n</userinput>
<computeroutput>CREATE USER</computeroutput>
</screen>
   </para>

   <para>
    Pour créer le même utilisateur <literal>joe</literal> en utilisant le
    serveur <literal>eden</>, port 5000, en évitant les demandes et en jetant
    un &oelig;il à la commande sous-jacente&nbsp;:
<screen>
<prompt>$ </prompt><userinput>createuser -p 5000 -h eden -D -A -e joe</userinput>
<computeroutput>CREATE USER "joe" NOCREATEDB NOCREATEUSER</computeroutput>
<computeroutput>CREATE USER</computeroutput>
</screen>
   </para>
 </refsect1>


 <refsect1>
  <title>Voir aussi</title>

  <simplelist type="inline">
   <member><xref linkend="app-dropuser"></member>
   <member><xref linkend="sql-createuser" endterm="sql-createuser-title"></member>
  </simplelist>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
