<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/ipcclean.sgml,v 1.6 2005/06/07 20:38:00 guillaume Exp $
PostgreSQL documentation
-->

<refentry id="APP-IPCCLEAN">
 <refmeta>
  <refentrytitle id="APP-IPCCLEAN-TITLE"><application>ipcclean</application></refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>ipcclean</refname>
  <refpurpose>supprime la mémoire partagée et les sémaphores d'un serveur
  <productname>PostgreSQL</productname> qui a dû s'arrêter
  brutalement</refpurpose>
 </refnamediv>

 <indexterm zone="app-ipcclean">
  <primary>ipcclean</primary>
 </indexterm>

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>ipcclean</command>
  </cmdsynopsis>
 </refsynopsisdiv>

 <refsect1 id="R1-APP-IPCCLEAN-1">
  <title>Description</title>
  <para>
   <command>ipcclean</command> supprime tous les segments de mémoire partagée
   et les ensembles de sémaphores possédés par l'utilisateur courant. Elle a
   pour but de nettoyer le système après qu'un serveur
   <productname>PostgreSQL</productname> se soit arrêté brutalement (<xref
   linkend="app-postmaster">). Notez que relancer immédiatement le serveur
   nettoie aussi la mémoire partagée et les sémaphores, donc cette commande
   est de peu d'utilité réelle.
  </para>

  <para>
   Seul l'administrateur de la base de données devrait exécuter ce
   programme car il cause un comportement bizarre (c'est-à-dire des plantages
   brutaux) s'il est lancé lors d'une exécution multi-utilisateur. Si cette
   commande est exécutée alors que le serveur est en cours d'exécution, la
   mémoire partagée et les sémaphores alloués par ce serveur sont supprimés,
   ce qui a des conséquences sévères sur ce serveur.
  </para>
 </refsect1>

 <refsect1>
  <title>Notes</title>

  <para>
   Ce script est une astuce assez sale mais, depuis qu'il a été écrit (il y
   a bien longtemps), personne n'a proposé une solution aussi efficace et
   portable. Comme, maintenant, le <command>postmaster</command> effectue
   lui-même ce nettoyage, il est improbable que <command>ipcclean</command> soit
   amélioré dans le futur.
  </para>

  <para>
   Le script fait des suppositions sur le format de sortie de l'outil 
   <command>ipcs</command>, qui pourraient ne pas être vrai suivant le système
   d'exploitation. Du coup, il pourrait ne pas fonctionner sur votre système.
   Il est conseillé de lire le script avant de l'essayer.
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
