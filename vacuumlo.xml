<sect1 id="vacuumlo">
 <title>vacuumlo</title>
 
 <indexterm zone="vacuumlo">
  <primary>vacuumlo</primary>
 </indexterm>

 <para>
  Ce module est un outil simple qui supprimera tous les «&nbsp;Large
  Objects&nbsp;» orphelins d'une base de données PostgreSQL. Un «&nbsp;Large
  Object&nbsp;» orphelin est tout «&nbsp;Large Object&nbsp;» dont l'OID
  n'apparaît dans aucune colonne OID de la base de données.
 </para>
 <para>
  Si vous l'utilisez, vous pourriez être intéressé par le trigger lo_manage
  du module contrib lo. lo_manage est utile pour tenter d'éviter la création
  de «&nbsp;Large Object&nbsp;» orphelins.
 </para>
 <para>
  <note>
   <para>
    Il a été décidé de placer ce code en tant que module contrib car il
    nécessite plus de test mais il est possible que ce code, ou une variante,
    sera partie intégrante du moteur en tant que commande «&nbsp;vacuum
    lo&nbsp;» dans une prochaine version.
   </para>
  </note>
 </para>

 <sect2>
  <title>Usage</title>
  <programlisting>
vacuumlo [options] base [base2 ... basen]
  </programlisting>
  <para>
   Toutes les bases de données indiquées sur la ligne de commande sont
   traitées. Les options disponibles sont&nbsp;:
  </para>
  <programlisting>
-v             Écrit un grand nombre de messages de progression
-n             Ne supprime pas les «&nbsp;Large Objects&nbsp;», mais affiche
               ce qu'il aurait fait
-U utilisateur Nom d'utilisateur pour la connexion
-W             Active la demande de mot de passe
-h hote        Hôte de la base de données
-p port        Port de la base de données
  </programlisting>
 </sect2>

 <sect2>
  <title>Méthode</title>
  <para>
   Tout d'abord, ce module construit une table temporaire contenant tous
   les OID des «&nbsp;Large Objects&nbsp;» de cette base de donnée.
  </para>
  <para>
   Ensuite, il parcourt toutes les colonnes de la base qui sont de type
   <quote>oid</quote> ou <quote>lo</quote>, et supprime les entrées
   correspondantes de la table temporaire.
  </para>
  <para>
   Les entrées restantes de la table temporaire identifient les
   «&nbsp;Large Objects&nbsp;» orphelins. Ils sont supprimés.
  </para>
 </sect2>

 <sect2>
  <title>Auteur</title>
  <para>
   Peter Mount <email>peter@retep.org.uk</email>
  </para>
  <para>
   <ulink url="http://www.retep.org.uk"></ulink>
  </para>
 </sect2>

</sect1>

